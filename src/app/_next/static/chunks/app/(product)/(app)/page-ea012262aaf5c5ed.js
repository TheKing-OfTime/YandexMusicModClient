(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5439,6991],{19536:function(e,t,n){Promise.resolve().then(n.bind(n,99260)),Promise.resolve().then(n.bind(n,73383)),Promise.resolve().then(n.bind(n,7709)),Promise.resolve().then(n.bind(n,15706)),Promise.resolve().then(n.bind(n,28227)),Promise.resolve().then(n.bind(n,7907)),Promise.resolve().then(n.bind(n,67061)),Promise.resolve().then(n.bind(n,18344)),Promise.resolve().then(n.bind(n,43703)),Promise.resolve().then(n.bind(n,42255)),Promise.resolve().then(n.bind(n,45677)),Promise.resolve().then(n.bind(n,31918)),Promise.resolve().then(n.bind(n,45977)),Promise.resolve().then(n.bind(n,53037)),Promise.resolve().then(n.bind(n,80903)),Promise.resolve().then(n.bind(n,73322)),Promise.resolve().then(n.bind(n,6991)),Promise.resolve().then(n.bind(n,89424)),Promise.resolve().then(n.bind(n,704)),Promise.resolve().then(n.bind(n,65436)),Promise.resolve().then(n.bind(n,36750)),Promise.resolve().then(n.bind(n,32335)),Promise.resolve().then(n.bind(n,47399)),Promise.resolve().then(n.bind(n,46559)),Promise.resolve().then(n.bind(n,13222)),Promise.resolve().then(n.bind(n,37490)),Promise.resolve().then(n.bind(n,65027)),Promise.resolve().then(n.t.bind(n,52838,23)),Promise.resolve().then(n.bind(n,60142)),Promise.resolve().then(n.bind(n,82134)),Promise.resolve().then(n.bind(n,2960)),Promise.resolve().then(n.bind(n,8263)),Promise.resolve().then(n.bind(n,28865)),Promise.resolve().then(n.bind(n,18329)),Promise.resolve().then(n.bind(n,66564)),Promise.resolve().then(n.bind(n,61473)),Promise.resolve().then(n.bind(n,11586)),Promise.resolve().then(n.bind(n,98376)),Promise.resolve().then(n.bind(n,43948)),Promise.resolve().then(n.bind(n,47690)),Promise.resolve().then(n.bind(n,65959)),Promise.resolve().then(n.bind(n,62787)),Promise.resolve().then(n.bind(n,6655)),Promise.resolve().then(n.bind(n,28593)),Promise.resolve().then(n.bind(n,14857)),Promise.resolve().then(n.bind(n,51440)),Promise.resolve().then(n.bind(n,81466)),Promise.resolve().then(n.bind(n,75689)),Promise.resolve().then(n.bind(n,49516)),Promise.resolve().then(n.bind(n,14580)),Promise.resolve().then(n.bind(n,91711)),Promise.resolve().then(n.bind(n,93630)),Promise.resolve().then(n.bind(n,99339)),Promise.resolve().then(n.bind(n,34868)),Promise.resolve().then(n.bind(n,1848)),Promise.resolve().then(n.bind(n,64251)),Promise.resolve().then(n.bind(n,80795)),Promise.resolve().then(n.bind(n,78724)),Promise.resolve().then(n.bind(n,46051)),Promise.resolve().then(n.bind(n,4805)),Promise.resolve().then(n.bind(n,76534)),Promise.resolve().then(n.bind(n,60154)),Promise.resolve().then(n.t.bind(n,2460,23)),Promise.resolve().then(n.bind(n,60797)),Promise.resolve().then(n.bind(n,15730)),Promise.resolve().then(n.bind(n,86759)),Promise.resolve().then(n.bind(n,94039)),Promise.resolve().then(n.bind(n,62938)),Promise.resolve().then(n.bind(n,65759)),Promise.resolve().then(n.bind(n,60852)),Promise.resolve().then(n.bind(n,5342)),Promise.resolve().then(n.bind(n,63005)),Promise.resolve().then(n.bind(n,32832)),Promise.resolve().then(n.bind(n,28145)),Promise.resolve().then(n.bind(n,82716)),Promise.resolve().then(n.bind(n,55762)),Promise.resolve().then(n.bind(n,84645)),Promise.resolve().then(n.bind(n,28987)),Promise.resolve().then(n.bind(n,27373)),Promise.resolve().then(n.bind(n,33728)),Promise.resolve().then(n.bind(n,83534)),Promise.resolve().then(n.bind(n,1087)),Promise.resolve().then(n.bind(n,19819)),Promise.resolve().then(n.bind(n,91364)),Promise.resolve().then(n.bind(n,44613)),Promise.resolve().then(n.bind(n,83677)),Promise.resolve().then(n.bind(n,85626)),Promise.resolve().then(n.bind(n,90135)),Promise.resolve().then(n.bind(n,64274)),Promise.resolve().then(n.bind(n,71312)),Promise.resolve().then(n.bind(n,96162)),Promise.resolve().then(n.bind(n,71177)),Promise.resolve().then(n.bind(n,69642)),Promise.resolve().then(n.bind(n,85918)),Promise.resolve().then(n.bind(n,92566)),Promise.resolve().then(n.bind(n,72981)),Promise.resolve().then(n.bind(n,52301)),Promise.resolve().then(n.bind(n,33502)),Promise.resolve().then(n.bind(n,9695)),Promise.resolve().then(n.bind(n,50553)),Promise.resolve().then(n.bind(n,47291)),Promise.resolve().then(n.bind(n,2955)),Promise.resolve().then(n.bind(n,29887)),Promise.resolve().then(n.bind(n,91970)),Promise.resolve().then(n.bind(n,66389)),Promise.resolve().then(n.bind(n,99984)),Promise.resolve().then(n.bind(n,352)),Promise.resolve().then(n.bind(n,82111)),Promise.resolve().then(n.bind(n,15830)),Promise.resolve().then(n.bind(n,91568)),Promise.resolve().then(n.bind(n,40450)),Promise.resolve().then(n.bind(n,23650)),Promise.resolve().then(n.bind(n,31357)),Promise.resolve().then(n.bind(n,87739)),Promise.resolve().then(n.bind(n,6706)),Promise.resolve().then(n.bind(n,57685)),Promise.resolve().then(n.bind(n,38228)),Promise.resolve().then(n.bind(n,78661)),Promise.resolve().then(n.bind(n,6466)),Promise.resolve().then(n.bind(n,63622)),Promise.resolve().then(n.bind(n,65216)),Promise.resolve().then(n.bind(n,34428)),Promise.resolve().then(n.bind(n,23151)),Promise.resolve().then(n.bind(n,19385)),Promise.resolve().then(n.bind(n,9469)),Promise.resolve().then(n.bind(n,45806)),Promise.resolve().then(n.bind(n,32828)),Promise.resolve().then(n.bind(n,78299)),Promise.resolve().then(n.bind(n,75806)),Promise.resolve().then(n.bind(n,52310)),Promise.resolve().then(n.bind(n,99775)),Promise.resolve().then(n.bind(n,665)),Promise.resolve().then(n.bind(n,10440)),Promise.resolve().then(n.bind(n,26234)),Promise.resolve().then(n.bind(n,73774)),Promise.resolve().then(n.bind(n,98044)),Promise.resolve().then(n.bind(n,69931)),Promise.resolve().then(n.bind(n,90150)),Promise.resolve().then(n.bind(n,71369)),Promise.resolve().then(n.bind(n,12935)),Promise.resolve().then(n.bind(n,49652)),Promise.resolve().then(n.bind(n,41480)),Promise.resolve().then(n.bind(n,73729)),Promise.resolve().then(n.bind(n,37574)),Promise.resolve().then(n.bind(n,17203)),Promise.resolve().then(n.bind(n,61235)),Promise.resolve().then(n.bind(n,91297)),Promise.resolve().then(n.bind(n,28120)),Promise.resolve().then(n.bind(n,8486)),Promise.resolve().then(n.bind(n,89030)),Promise.resolve().then(n.bind(n,38054)),Promise.resolve().then(n.bind(n,63537)),Promise.resolve().then(n.bind(n,59499)),Promise.resolve().then(n.bind(n,70752)),Promise.resolve().then(n.bind(n,47906)),Promise.resolve().then(n.bind(n,79033)),Promise.resolve().then(n.bind(n,16057)),Promise.resolve().then(n.bind(n,76882)),Promise.resolve().then(n.bind(n,45965)),Promise.resolve().then(n.bind(n,34776)),Promise.resolve().then(n.bind(n,38386)),Promise.resolve().then(n.bind(n,94253)),Promise.resolve().then(n.bind(n,73924)),Promise.resolve().then(n.bind(n,99950)),Promise.resolve().then(n.bind(n,29713)),Promise.resolve().then(n.bind(n,23667)),Promise.resolve().then(n.bind(n,78966)),Promise.resolve().then(n.bind(n,58657)),Promise.resolve().then(n.bind(n,9001)),Promise.resolve().then(n.bind(n,50885)),Promise.resolve().then(n.bind(n,80704)),Promise.resolve().then(n.bind(n,92965)),Promise.resolve().then(n.bind(n,37318)),Promise.resolve().then(n.bind(n,18348)),Promise.resolve().then(n.bind(n,96557)),Promise.resolve().then(n.bind(n,37389)),Promise.resolve().then(n.bind(n,7769)),Promise.resolve().then(n.bind(n,66264)),Promise.resolve().then(n.bind(n,87689)),Promise.resolve().then(n.bind(n,23081)),Promise.resolve().then(n.bind(n,96524)),Promise.resolve().then(n.bind(n,80512)),Promise.resolve().then(n.bind(n,61733)),Promise.resolve().then(n.bind(n,15422)),Promise.resolve().then(n.bind(n,85395)),Promise.resolve().then(n.bind(n,35724)),Promise.resolve().then(n.bind(n,75235)),Promise.resolve().then(n.bind(n,90949)),Promise.resolve().then(n.bind(n,43334)),Promise.resolve().then(n.bind(n,44368)),Promise.resolve().then(n.bind(n,9904)),Promise.resolve().then(n.bind(n,50223)),Promise.resolve().then(n.bind(n,3276)),Promise.resolve().then(n.bind(n,28612)),Promise.resolve().then(n.bind(n,62908)),Promise.resolve().then(n.bind(n,2654)),Promise.resolve().then(n.bind(n,14913)),Promise.resolve().then(n.bind(n,54884)),Promise.resolve().then(n.bind(n,8480)),Promise.resolve().then(n.bind(n,53377)),Promise.resolve().then(n.bind(n,30186)),Promise.resolve().then(n.bind(n,87845)),Promise.resolve().then(n.bind(n,29378)),Promise.resolve().then(n.bind(n,72377)),Promise.resolve().then(n.bind(n,49051)),Promise.resolve().then(n.bind(n,41341)),Promise.resolve().then(n.bind(n,92275)),Promise.resolve().then(n.bind(n,69469)),Promise.resolve().then(n.bind(n,9931)),Promise.resolve().then(n.bind(n,31138)),Promise.resolve().then(n.bind(n,77909)),Promise.resolve().then(n.bind(n,94747)),Promise.resolve().then(n.bind(n,1490)),Promise.resolve().then(n.bind(n,5811)),Promise.resolve().then(n.bind(n,61566)),Promise.resolve().then(n.bind(n,26812)),Promise.resolve().then(n.bind(n,82671))},65155:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hsl2rgb=t.adjustHue=t.safeHue=void 0,t.safeHue=(e,t)=>t>=280&&t<360?e%360:e,t.adjustHue=e=>(e+280)%360,t.hsl2rgb=(e,t,n)=>{let i=i=>{let o=(i+e/30)%12;return n-t*Math.min(n,1-n)*Math.max(-1,Math.min(o-3,9-o,1))};return[i(0),i(8),i(4)]}},18857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSettings=t.normalizeCollectionHue=t.normalizeFrequency=void 0;let i=n(50525),o=n(16634);t.normalizeFrequency=e=>Math.min(1,(0,o.round)(e)),t.normalizeCollectionHue=e=>null!=e?e:i.DEFAULT_COLLECTION_HUE,t.normalizeSettings=e=>{let{hue:n,collectionHue:o,energy:r,backgroundColor:s}=e,l={collectionHue:(0,t.normalizeCollectionHue)(o)};return n&&(l.hue=n),r&&(l.energy=(r+1)*i.ENERGY_FACTOR),s&&(l.backgroundColor=s),l}},16634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomNumber=t.round=void 0,t.round=e=>Math.round(100*e)/100,t.randomNumber=(e,t)=>Math.floor(Math.random()*(Math.floor(t)-e+1))+e},50525:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENERGY_FACTOR=t.DEFAULT_PLAYING_ENERGY=t.DEFAULT_NOT_PLAYING_ENERGY=t.DEFAULT_COLLECTION_LIGHTNESS=t.DEFAULT_COLLECTION_SATURATION=t.DEFAULT_COLLECTION_HUE=t.DEFAULT_LIGHTNESS=t.DEFAULT_SATURATION=t.DEFAULT_HUE=t.MAX_FPS=void 0,t.MAX_FPS=window.VIBE_ANIMATION_MAX_FPS ?? 25,t.DEFAULT_HUE=22.968,t.DEFAULT_SATURATION=1,t.DEFAULT_LIGHTNESS=.5,t.DEFAULT_COLLECTION_HUE=10,t.DEFAULT_COLLECTION_SATURATION=.8,t.DEFAULT_COLLECTION_LIGHTNESS=.46,t.DEFAULT_NOT_PLAYING_ENERGY=.2,t.DEFAULT_PLAYING_ENERGY=.6,t.ENERGY_FACTOR=.4},8705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;let o=n(65155),r=n(16634),s=n(50525),l=n(36967);class a{get value(){return[this.bottomStart.value,this.middleStart.value,this.topStart.value,this.bottomEnd.value,this.middleEnd.value,this.topEnd.value]}update(e,t){this.hue=e,this.collectionHue=t;let n=(0,o.adjustHue)(e),i=(0,o.safeHue)(n+(0,r.randomNumber)(40,80),n),s=(0,o.adjustHue)(t);this.topStart.update(n),this.topEnd.update((0,o.safeHue)(n+(0,r.randomNumber)(30,40),n)),this.middleStart.update(i),this.middleEnd.update((0,o.safeHue)(i+(0,r.randomNumber)(30,40),n)),this.bottomStart.update(s),this.bottomEnd.update((0,o.safeHue)(s+(0,r.randomNumber)(30,40),n))}next(e){this.topStart.next(e),this.topEnd.next(e),this.middleStart.next(e),this.middleEnd.next(e),this.bottomStart.next(e),this.bottomEnd.next(e)}constructor(e){i._(this,"hue",s.DEFAULT_HUE),i._(this,"collectionHue",s.DEFAULT_COLLECTION_HUE),i._(this,"topStart",void 0),i._(this,"topEnd",void 0),i._(this,"middleStart",void 0),i._(this,"middleEnd",void 0),i._(this,"bottomStart",void 0),i._(this,"bottomEnd",void 0),this.collectionHue=e;let t=(0,o.adjustHue)(e),n=(0,o.safeHue)(t+(0,r.randomNumber)(30,40),t);this.topStart=new l.RGB(50),this.topEnd=new l.RGB(50),this.middleStart=new l.RGB(300),this.middleEnd=new l.RGB(320),this.bottomStart=new l.RGB(t),this.bottomEnd=new l.RGB(n)}}t.Color=a},87633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicValue=void 0;class o{clamp(e,t,n){return Math.min(Math.max(e,t),n)}get value(){return this.formatter?this.formatter(this.currentValue):this.currentValue}update(e){this.targetValue=e,this.elapsedTime=0}next(e){let t=this.clamp(this.elapsedTime/this.duration,0,1);return this.elapsedTime+=e,this.currentValue=this.currentValue+(this.targetValue-this.currentValue)*t,this.currentValue}constructor(e,t,n,o){i._(this,"currentValue",void 0),i._(this,"targetValue",void 0),i._(this,"elapsedTime",void 0),i._(this,"duration",void 0),i._(this,"formatter",void 0),this.currentValue=e,this.targetValue=t,this.duration=n,this.elapsedTime=0,this.formatter=o}}t.DynamicValue=o},41404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.VibeAnimationRenderer=void 0;let o=n(74785),r=n(18857),s=n(50525),l=n(34364),a=n(14117),d=n(856),h=n(62158);class v{get rendererOptions(){let{width:e,height:t}=this.uniforms.size;return{alpha:!1,antialias:!1,preserveDrawingBuffer:!1,width:e,height:t}}get vertexAndFragment(){return{vertex:l.VertexShaderV2,fragment:l.FragmentShaderV2}}setupListeners(){document.addEventListener("visibilitychange",this.handleOnVisibilityChange)}createElement(e){e.innerHTML="",e.appendChild(this.renderer.gl.canvas)}createShader(){let e=this.renderer.gl,t=new o.Plane(e,{width:2,height:2}),n=new o.Program(e,{...this.vertexAndFragment,uniforms:this.uniforms.toObject()});return new o.Mesh(e,{geometry:t,program:n}).setParent(this.scene),n}render(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.uniforms.update(t,this.analyser),this.shader.uniforms=this.uniforms.toObject(),null===(e=this.renderer)||void 0===e||e.render({scene:this.scene})}handleOnVisibilityChange(){"visible"===document.visibilityState?this.enableRender(a.RenderState.ACTIVE_TAB):this.disableRender(a.RenderState.ACTIVE_TAB)}updateRenderingState(){Object.values(this.renderState).every(e=>e)?this.ticker.start():this.ticker.stop()}applySettings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hue:t,collectionHue:n,energy:i,backgroundColor:o}=(0,r.normalizeSettings)(e);t&&n&&this.uniforms.updateColor(t,n),i&&this.uniforms.updateEnergy(i),o&&this.uniforms.updateBackgroundColor(o)}likeAnimation(){this.uniforms.updateReactTop(.7),setTimeout(()=>{this.uniforms.updateReactMiddle(.7)},100),setTimeout(()=>{this.uniforms.updateReactBottom(.7)},150),setTimeout(()=>{this.uniforms.updateReactTop(0)},850),setTimeout(()=>{this.uniforms.updateReactMiddle(0)},950),setTimeout(()=>{this.uniforms.updateReactBottom(0)},1050)}playAnimation(e){var t;let n={...e,energy:null!==(t=e.energy)&&void 0!==t?t:s.DEFAULT_PLAYING_ENERGY};this.uniforms.updatePlayingState(!0),this.applySettings(n)}idleAnimation(){this.uniforms.updateEnergy(s.DEFAULT_NOT_PLAYING_ENERGY),this.uniforms.updatePlayingState(!1)}enableRender(e){this.renderState[e]=!0,this.updateRenderingState()}disableRender(e){this.renderState[e]=!1,this.updateRenderingState()}destroy(){this.handleOnVisibilityChange&&document.removeEventListener("visibilitychange",this.handleOnVisibilityChange)}constructor(e,t,n){i._(this,"analyser",void 0),i._(this,"ticker",void 0),i._(this,"scene",new o.Transform),i._(this,"shader",void 0),i._(this,"renderer",void 0),i._(this,"uniforms",void 0),i._(this,"renderState",{[a.RenderState.ACTIVE_TAB]:!0,[a.RenderState.BLOCK_VISIBILITY]:!0,[a.RenderState.MANUAL]:!0}),this.uniforms=new h.Uniforms((0,r.normalizeCollectionHue)(n)),this.renderer=new o.Renderer(this.rendererOptions),this.ticker=new d.Ticker(s.MAX_FPS,this.render.bind(this)),this.analyser=t,this.createElement(e),this.handleOnVisibilityChange=this.handleOnVisibilityChange.bind(this),this.shader=this.createShader(),this.handleOnVisibilityChange(),this.setupListeners()}}t.VibeAnimationRenderer=v},36967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;let o=n(65155),r=n(50525),s=n(87633);class l{get value(){return[this.r.value,this.g.value,this.b.value]}update(e){let t=(0,o.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r.update(t[0]),this.g.update(t[1]),this.b.update(t[2])}next(e){this.r.next(e),this.g.next(e),this.b.next(e)}constructor(e){i._(this,"r",void 0),i._(this,"g",void 0),i._(this,"b",void 0);let t=(0,o.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r=new s.DynamicValue(t[0],t[0],3e3),this.g=new s.DynamicValue(t[1],t[1],3e3),this.b=new s.DynamicValue(t[2],t[2],3e3)}}t.RGB=l},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0;class o{start(){if(this.isActive)return;let e=window.performance.now(),t=1e3/this.fps,n=i=>{this.requestId=requestAnimationFrame(n);let o=i-e;o>=t-.1&&(e=i-o%t,this.render(o))};this.isActive=!0,this.requestId=requestAnimationFrame(n)}stop(){this.isActive&&(this.isActive=!1,cancelAnimationFrame(this.requestId))}constructor(e,t){i._(this,"fps",void 0),i._(this,"render",void 0),i._(this,"isActive",!1),i._(this,"requestId",0),this.fps=e,this.render=t}}t.Ticker=o},62158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Uniforms=void 0;let o=n(74785),r=n(50525),s=n(8705),l=n(87633);class a{toValue(e){return{value:e}}get size(){return{width:this.width,height:this.height}}updateSize(){this.width=Math.min(window.innerWidth*this.quality,800),this.height=Math.min(window.innerHeight*this.quality,800)}updatePlayingState(e){this.isPlaying=e,e?(this.audioLowRatio.update(1),this.audioMiddleRatio.update(1),this.audioHighRatio.update(1)):(this.audioLowRatio.update(0),this.audioMiddleRatio.update(0),this.audioHighRatio.update(0))}updateColor(e,t){this.color.update(e,t)}updateBackgroundColor(e){this.background=new o.Vec3(e,e,e)}updateEnergy(e){this.energy.update(e)}updateReactTop(e){this.reactTop.update(e)}updateReactMiddle(e){this.reactMiddle.update(e)}updateReactBottom(e){this.reactBottom.update(e)}updateTime(e){let t=this.energy.value*e/1e3;this.time=(this.time+t)%86400}update(e,t){if(this.energy.next(e),this.color.next(e),this.reactTop.next(e),this.reactMiddle.next(e),this.reactBottom.next(e),this.updateTime(e),t){let n=t.getAverageFrequencies({low:0,high:250}),i=t.getAverageFrequencies({low:500,high:2e3}),o=t.getAverageFrequencies({low:2e3,high:4e3});this.audioLowRatio.next(e),this.audioMiddleRatio.next(e),this.audioHighRatio.next(e),this.audio=[n*this.audioLowRatio.value,i*this.audioMiddleRatio.value,o*this.audioHighRatio.value]}}toObject(){return{vScreenSize:this.toValue(new o.Vec2(this.width,this.height)),vTime:this.toValue(this.time),vColorBackground:this.toValue(this.background),vColor:this.toValue(this.color.value),vRotation:this.toValue(this.rotation),vAudio:this.toValue(this.audio),vReact:this.toValue([this.reactTop.value,this.reactMiddle.value,this.reactBottom.value]),vInteractionPoint:this.toValue(this.point),vInteraction:this.toValue(this.interaction)}}constructor(e){i._(this,"isPlaying",!1),i._(this,"quality",.6),i._(this,"background",new o.Vec3(0,0,0)),i._(this,"energy",new l.DynamicValue(r.DEFAULT_NOT_PLAYING_ENERGY,r.DEFAULT_NOT_PLAYING_ENERGY,1e3)),i._(this,"time",Math.floor(3600*Math.random())),i._(this,"color",void 0),i._(this,"rotation",[new o.Vec3(-.3,.3,.2),new o.Vec3(-.3,-.3,-.2),new o.Vec3(-.3,-.3,.2)]),i._(this,"audio",[0,0,0]),i._(this,"audioLowRatio",new l.DynamicValue(0,0,1e3)),i._(this,"audioMiddleRatio",new l.DynamicValue(0,0,1e3)),i._(this,"audioHighRatio",new l.DynamicValue(0,0,1e3)),i._(this,"reactTop",new l.DynamicValue(0,0,600)),i._(this,"reactMiddle",new l.DynamicValue(0,0,600)),i._(this,"reactBottom",new l.DynamicValue(0,0,600)),i._(this,"point",[0,0]),i._(this,"interaction",0),i._(this,"width",0),i._(this,"height",0),this.color=new s.Color(e),this.updateSize()}}t.Uniforms=a},43131:function(e,t,n){"use strict";t.TP=t.UE=t.nT=t.dr=t.kB=t.wX=void 0;var i=n(65155);Object.defineProperty(t,"wX",{enumerable:!0,get:function(){return i.hsl2rgb}}),Object.defineProperty(t,"kB",{enumerable:!0,get:function(){return i.adjustHue}});var o=n(41404);Object.defineProperty(t,"dr",{enumerable:!0,get:function(){return o.VibeAnimationRenderer}});var r=n(14117);Object.defineProperty(t,"nT",{enumerable:!0,get:function(){return r.RenderState}});var s=n(50525);Object.defineProperty(t,"UE",{enumerable:!0,get:function(){return s.DEFAULT_COLLECTION_SATURATION}}),Object.defineProperty(t,"TP",{enumerable:!0,get:function(){return s.DEFAULT_COLLECTION_LIGHTNESS}})},34364:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShaderV2=t.VertexShaderV2=void 0,t.VertexShaderV2="\nprecision highp float;\nattribute vec4 position;\n\nvoid main() {\n    gl_Position = position;\n}\n",t.FragmentShaderV2="\nprecision highp float;\n\nuniform vec2 vScreenSize;\nuniform float vTime;\n\nuniform vec3 vColorBackground;\n\nuniform vec3 vColor[6];\nuniform vec3 vRotation[3];\n\nuniform float vAudio[3];\nuniform float vReact[3];\n\nuniform vec2 vInteractionPoint;\nuniform float vInteraction;\n\n#define CIRCLE_WIDTH_BASE 0.8\n#define CIRCLE_WIDTH_STEP 0.2\n\n#define SPARK_STRENGTH_BASE 1.0\n#define SPARK_STRENGTH_STEP 0.3\n\n#define CIRCLE_RADIUS_BASE 0.95\n#define CIRCLE_RADIUS_STEP 0.15\n\n#define CIRCLE_OFFSET_BASE 0.0\n#define CIRCLE_OFFSET_STEP 1.57\n\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise3(vec3 v) {\n  const vec2 C = vec2(0.1666667, 0.3333333); // vec2(1.0/6.0, 1.0/3.0)\n  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i = floor(v + dot(v, C.yyy));\n  vec3 x0 = v - i + dot(i, C.xxx);\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min(g.xyz, l.zxy);\n  vec3 i2 = max(g.xyz, l.zxy);\n\n  // x0 = x0 - 0. + 0.0 * C\n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n  // Permutations\n  i = mod(i, 289.0);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients ( N*N points uniformly over a square, mapped onto an octahedron.)\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3 ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z); //  mod(p,N*N), N=7\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));\n}\n\nfloat tri(in float x){return abs(fract(x)-.5);}\nvec3 tri3(in vec3 p){return vec3( tri(p.z+tri(p.y*20.)), tri(p.z+tri(p.x*1.)), tri(p.y+tri(p.x*1.)));}\n\nfloat triNoise3D(in vec3 p, in float spd)\n{\n  float z=0.4;\n  float rz = 0.1;\n  vec3 bp = p;\n  for (float i=0.; i<=4.; i++ )\n  {\n    vec3 dg = tri3(bp*0.01); // Increase the scale factor to make noise less frequent\n    p += (dg+vTime*.1*spd);\n\n    bp *= 4.; // Increase the scale factor\n    z *= 0.9;\n    p *= 1.6; // Increase the scale factor\n\n    rz+= (tri(p.z+tri(0.6*p.x+0.1*tri(p.y))))/z;\n  }\n  return smoothstep(0.0, 8., rz + sin(rz + sin(z) * 2.8) * 2.2);\n}\n\nvec2 rotate(vec2 p, float a) {\n  float s = sin(a);\n  float c = cos(a);\n  return vec2(p.x * c - p.y * s, p.x * s + p.y * c);\n}\n\nfloat light(float intensity, float attenuation, float dist) {\n  return intensity / (1.0 + dist + dist * attenuation);\n}\n\nvec4 makeNoiseBlob2(vec2 uv, vec3 color1, vec3 color2, float strength, float offset) {\n  float len = length(uv);\n  float v0, v1, cl;\n  float r0, d0, n0;\n  float r, d;\n\n  n0 = snoise3( vec3(uv * 1.2 + offset, vTime * 0.5 + offset) ) * 0.5 + 0.5;\n  r0 = mix(0.0, 1.0, n0);\n  d0 = distance(uv, r0 / len * uv);\n  v0 = smoothstep(r0 + 0.1 + (sin(vTime + offset) + 1.0), r0, len);\n\n  v1 = light(0.15 * (1.0 + 1.5 * (-sin(vTime * 2. + offset * 0.5) * 0.5)) + 0.3 * strength, 10.0 , d0);\n\n  vec3 col = mix(color1, color2, uv.y * 2.);\n  col = col + v1;\n  col.rgb = clamp(col.rgb, 0.0, 1.0);\n  return vec4(col, v0);\n}\n\nvec4 makeBlob(vec2 uv,\n              float blob,\n              vec3 color1,\n              vec3 color2,\n              float width,\n              float baseReaction,\n              float likeReaction,\n              float audioStrength,\n              float offset,\n              vec2 noiseOffset) {\n  float len = length(uv);\n\n  float outerRadius = blob + width * 0.5 + baseReaction * (1.0 + max(likeReaction, audioStrength * 0.6) * 50. * baseReaction);\n\n  float strength = max(likeReaction, audioStrength);\n\n  vec4 noise = makeNoiseBlob2(uv * (1.0 - likeReaction * 0.5) + noiseOffset, color1, color2, strength, offset);\n  noise.a = mix(0.0, noise.a, smoothstep(outerRadius, 0.5, len));\n  noise.rgb += 0.6 * likeReaction * (1.0 - smoothstep(0.2, outerRadius * 0.8, len));\n\n  return noise;\n}\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vScreenSize.xy;\n\n  uv = uv * 2.0 - 1.0;\n  uv.y *= vScreenSize.y / min(vScreenSize.x, vScreenSize.y) / 0.5;\n  uv.x *= vScreenSize.x / min(vScreenSize.x, vScreenSize.y) / 0.5;\n\n  vec2 ruv = uv * 2.0;\n  float pr = length(ruv);\n  float pa = atan(ruv.y, ruv.x);\n\n  float idx = (pa/3.1415) / 2.0;   // 0 to 1\n\n  vec2 ruv1 = rotate(uv * 2.0, 3.1415);\n  float pa1 = atan(ruv1.y, ruv1.x);\n  float idx1 = (pa1/3.1415) / 2.0;   // 0 to 1\n  float idx21 = (pa1/3.1415 + 1.0) / 2.0 * 3.1415; // 0 to PI\n\n  float spark = triNoise3D(vec3(idx, 0.0, 0.0), 0.1);\n  spark = mix(spark, triNoise3D(vec3(idx1, 0.0, idx1), 0.1), smoothstep(0.9, 1.0, sin(idx21)));\n  spark = spark * 0.2 + pow(spark, 10.);\n  spark = smoothstep(0.0, spark, 0.3) * spark;\n\n  vec3 color = vColorBackground;\n  vec4 blobColor;\n  float floatIndex;\n  float radius;\n\n  float n0 = snoise3(vec3(uv * 1.2, vTime * 0.5));\n\n  for (int i = 0; i < 3; i++) {\n    floatIndex = float(i);\n    radius = CIRCLE_RADIUS_BASE - CIRCLE_RADIUS_STEP * floatIndex;\n    blobColor = makeBlob(uv,\n                         mix(radius, radius + 0.3, n0),\n                         vColor[i],\n                         vColor[i+3],\n                         CIRCLE_WIDTH_BASE - CIRCLE_WIDTH_STEP * floatIndex,\n                         (SPARK_STRENGTH_BASE - SPARK_STRENGTH_STEP * floatIndex) * spark,\n                         vReact[i],\n                         vAudio[i],\n                         CIRCLE_OFFSET_BASE + CIRCLE_OFFSET_STEP * floatIndex,\n                         rotate(vRotation[i].xy, vTime * vRotation[i].z));\n    color = mix(color, blobColor.rgb, blobColor.a);\n  }\n\n  gl_FragColor = vec4(color, 1.0);\n}\n"},14117:function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderState=void 0,(i=n||(t.RenderState=n={})).ACTIVE_TAB="ACTIVE_TAB",i.BLOCK_VISIBILITY="BLOCK_VISIBILITY",i.MANUAL="MANUAL"},6991:function(e,t,n){"use strict";n.r(t);var i=n(95660),o=n(23974),r=n(71859),s=n(81014),l=n(26609),a=n(20794),d=n(4142),h=n.n(d),v=n(21535);t.default=e=>{let{children:t}=e,{state:n,toggleTrue:d}=(0,s.O)(!1),{state:u,toggleTrue:m}=(0,s.O)(!1),c=(0,r.useMemo)(()=>{let e=new l.JC;return(0,a.NK4)(e.get(a.BUb.Theme),(0,a.Q$5)())},[]),b=(0,r.useCallback)(e=>{let t=v.env.ASSET_PREFIX||"";return"".concat(t,"/video/splash_screen/splash_screen_").concat(c,".").concat(e)},[c]),P=(0,r.useMemo)(()=>({isVisible:!n}),[n]);return(0,i.jsxs)(a.IPk.Provider,{value:P,children:[!n&&(0,i.jsx)("div",{className:(0,o.W)(h().root,h()["root_".concat(c)],{[h().root_hidden]:u}),onAnimationEnd:d,children:(0,i.jsxs)("video",{className:h().video,autoPlay:!0,muted:!0,playsInline:!0,onEnded:m,onError:d,children:[(0,i.jsx)("source",{src:b("webm"),type:"video/webm"}),(0,i.jsx)("source",{src:b("mp4"),type:"video/mp4"})]})}),t]})}},299:function(e,t,n){"use strict";n.d(t,{i:function(){return f},C:function(){return o}});var i=n(43131);let o=e=>{let t=(0,i.wX)((0,i.kB)(e),i.UE,i.TP),n=Math.round(255*t[0]),o=Math.round(255*t[1]),r=Math.round(255*t[2]);return"rgb(".concat(n,", ").concat(o,", ").concat(r,")")};var r=n(95660),s=n(23974),l=n(44744),a=n(71859),d=n(9883),h=n(20062),v=n(30020),u=n(37460),m=n(20794);let c=e=>{if(!e)return;let{width:t,height:n}=e.uniforms.size;return{"--vibe-animation-width":"".concat(2*t,"px"),"--vibe-animation-height":"".concat(2*n,"px")}},b=e=>{var t,n;let[i,o]=(0,a.useState)({}),{sonataState:r}=(0,m.oR4)();(0,a.useEffect)(()=>{if(r.contextType===h.A.Vibe){var t,n,s,l;i.id===(null===(t=r.entityMeta)||void 0===t?void 0:t.id)&&!i.isLiked&&(null===(l=r.entityMeta)||void 0===l?void 0:l.isLiked)&&e(),o({id:null===(n=r.entityMeta)||void 0===n?void 0:n.id,isLiked:null===(s=r.entityMeta)||void 0===s?void 0:s.isLiked})}},[r.contextType,null===(t=r.entityMeta)||void 0===t?void 0:t.id,null===(n=r.entityMeta)||void 0===n?void 0:n.isLiked,i.id,i.isLiked,e])};var P=n(35781),_=n.n(P);let p="vibe-animation",f=(0,l.Pi)(e=>{var t,n,o,l,P,f,g;let{className:x}=e,y=(0,a.useRef)(null),[S,E]=(0,m.zU3)(),{isIntersecting:T}=null!==(g=(0,v.S1)([y])[p])&&void 0!==g?g:{},{sonataState:A,user:R}=(0,m.oR4)(),{theme:C}=(0,m.FgM)(),I=(0,m.jpI)(),L=A.status===u.Xz.PLAYING&&A.contextType===h.A.Vibe;return(0,a.useEffect)(()=>{if(y.current){var e,t;let n=null===(t=A.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,o=R.collectionHue;E(new i.dr(y.current,null==I?void 0:I.analyser,o)),null==S||S.applySettings({hue:n,collectionHue:o}),y.current.classList.add(_().root_visible)}return()=>{null==S||S.destroy()}},[]),(0,a.useEffect)(()=>{var e,t,n,i,o,r;let s=null===(t=A.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,l=null===(i=A.entityMeta)||void 0===i?void 0:null===(n=i.trackParameters)||void 0===n?void 0:n.energy,a=null===(r=A.entityMeta)||void 0===r?void 0:null===(o=r.trackParameters)||void 0===o?void 0:o.userCollectionHue;a&&R.setUserCollectionHue(a),L?null==S||S.playAnimation({hue:s,collectionHue:a,energy:l}):null==S||S.idleAnimation()},[R,L,null===(n=A.entityMeta)||void 0===n?void 0:null===(t=n.trackParameters)||void 0===t?void 0:t.hue,null===(l=A.entityMeta)||void 0===l?void 0:null===(o=l.trackParameters)||void 0===o?void 0:o.energy,null===(f=A.entityMeta)||void 0===f?void 0:null===(P=f.trackParameters)||void 0===P?void 0:P.userCollectionHue,S]),(0,a.useEffect)(()=>{let e=C===m.Q2A.Dark?.0705:.9607;null==S||S.applySettings({backgroundColor:e})},[S,C]),(0,a.useEffect)(()=>{S&&(T?S.enableRender(i.nT.BLOCK_VISIBILITY):S.disableRender(i.nT.BLOCK_VISIBILITY))},[T,S]),b((0,a.useCallback)(()=>{null==S||S.likeAnimation()},[S])),(0,r.jsx)("div",{style:c(S),className:(0,s.W)(_().root,x),"data-intersection-property-id":p,ref:y,...(0,d.BA)(d.bG.vibeAnimation.VIBE_ANIMATION)})})},98836:function(e,t,n){"use strict";n.d(t,{D:function(){return i.SomethingWentWrong}});var i=n(27610)},27610:function(e,t,n){"use strict";n.d(t,{SomethingWentWrong:function(){return b}});var i=n(95660),o=n(23974),r=n(44744),s=n(71859),l=n(71037),a=n(93062),d=n(15706),h=n(42255),v=n(20794),u=n(96235),m=n(51740),c=n.n(m);let b=(0,r.Pi)(e=>{let{className:t,withBackwardControl:n=!0}=e,r=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:m}=(0,v.$Y6)();return(0,i.jsxs)("div",{className:(0,o.W)(c().root,t),children:[n&&(0,i.jsx)(u.nP,{withBackwardFallback:"/",className:(0,o.W)(c().navigation,{[c().navigation_desktop]:!m}),withForwardControl:!1}),(0,i.jsxs)("div",{className:(0,o.W)(c().content,{[c().content_shrink]:!n}),children:[(0,i.jsx)(d.Icon,{className:c().icon,variant:"attention",size:"xxl"}),(0,i.jsx)(h.Heading,{className:(0,o.W)(c().title,c().important),variant:"h3",size:"xs",children:(0,i.jsx)(l.Z,{id:"error-messages.something-went-wrong"})}),(0,i.jsxs)(h.Caption,{className:(0,o.W)(c().text,c().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,i.jsx)(l.Z,{id:"page-error.try-to-restart-app"})]}),(0,i.jsx)(a.z,{onClick:r,className:c().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,i.jsxs)(h.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,i.jsx)(l.Z,{id:"page-error.restart-app-button"})]})})]})]})})},4142:function(e){e.exports={root:"SplashScreen_root__3jzFk",root_dark:"SplashScreen_root_dark__0OcZj",root_light:"SplashScreen_root_light__XAJTf",root_hidden:"SplashScreen_root_hidden__BO7tp","fade-out":"SplashScreen_fade-out__uNMY4",video:"SplashScreen_video__wFSy5"}},35781:function(e){e.exports={root:"VibeAnimation_root__UKMJy",root_visible:"VibeAnimation_root_visible__S7kXl","fade-in":"VibeAnimation_fade-in__hx6bD"}},51740:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(e){e.O(0,[4361,5087,1995,8973,440,336,1522,2498,5453,7873,7888,6891,5872,3363,4785,8525,6235,1990,7924,476,5708,4275,4146,8641,4443,8333,4285,9778,135,4205,5134,1744],function(){return e(e.s=19536)}),_N_E=e.O()}]);
