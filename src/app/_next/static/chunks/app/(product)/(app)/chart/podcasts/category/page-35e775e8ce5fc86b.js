(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1357],{28871:function(t,e,n){Promise.resolve().then(n.bind(n,66800))},26928:function(t,e,n){"use strict";n.d(e,{Ji:function(){return g}});var a,r,o,i,s=n(72669),l=n(91207),u=n(37184);(a=o||(o={})).formatDate="FormattedDate",a.formatTime="FormattedTime",a.formatNumber="FormattedNumber",a.formatList="FormattedList",a.formatDisplayName="FormattedDisplayName",(r=i||(i={})).formatDate="FormattedDateParts",r.formatTime="FormattedTimeParts",r.formatNumber="FormattedNumberParts",r.formatList="FormattedListParts";var c=function(t){var e=(0,u.Z)(),n=t.value,a=t.children,r=(0,s.__rest)(t,["value","children"]);return a(e.formatNumberToParts(n,r))};function d(t){var e=function(e){var n=(0,u.Z)(),a=e.value,r=e.children,o=(0,s.__rest)(e,["value","children"]),i="string"==typeof a?new Date(a||0):a;return r("formatDate"===t?n.formatDateToParts(i,o):n.formatTimeToParts(i,o))};return e.displayName=i[t],e}function m(t){var e=function(e){var n=(0,u.Z)(),a=e.value,r=e.children,o=(0,s.__rest)(e,["value","children"]),i=n[t](a,o);if("function"==typeof r)return r(i);var c=n.textComponent||l.Fragment;return l.createElement(c,null,i)};return e.displayName=o[t],e}c.displayName="FormattedNumberParts",c.displayName="FormattedNumberParts";var g=m("formatDate");m("formatTime"),m("formatNumber"),m("formatList"),m("formatDisplayName"),d("formatDate"),d("formatTime")},62185:function(t,e,n){"use strict";n.d(e,{v:function(){return c}});var a,r=n(80766),o=n(91207),i={6699:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useDebouncedToggle=void 0;let a=n(352),r=n(810);e.useDebouncedToggle=t=>{let{delay:e,initialState:n,throttleTimeout:o}=t,i=(0,r.useRef)(null),[s,l]=(0,r.useState)(!!n),u=(0,r.useMemo)(()=>(0,a.throttle)(()=>{l(!n),i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{l(!!n)},e)},o),[e,n,o]),c=(0,r.useCallback)(()=>{l(!!n),i.current&&window.clearTimeout(i.current)},[n]);return(0,r.useEffect)(()=>()=>{i.current&&window.clearTimeout(i.current)},[]),{state:s,handleDebouncedToggle:u,reset:c}}},361:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getElementFromRefOrElement=void 0,e.getElementFromRefOrElement=t=>void 0===t?void 0:null===t||t instanceof HTMLElement?t:null===t.current||t.current instanceof HTMLElement?t.current:void 0},352:t=>{t.exports=r},810:t=>{t.exports=a||(a=n.t(o,2))}},s={};function l(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return i[t](n,n.exports,l),n.exports}var u={};(()=>{Object.defineProperty(u,"__esModule",{value:!0}),u.useScroll=void 0;let t=l(810),e=l(361),n=l(6699);u.useScroll=a=>{let{onScroll:r,listenIsScrolling:o,elementRef:i}=a,{state:s,handleDebouncedToggle:l}=(0,n.useDebouncedToggle)({delay:1e3,throttleTimeout:100}),u=(0,t.useCallback)(()=>{o&&l(),null==r||r()},[o,l,r]);return(0,t.useEffect)(()=>{let t=(0,e.getElementFromRefOrElement)(i);if(null===t)return;let n=null!=t?t:window,a={capture:!0,passive:!0};return n.addEventListener("scroll",u,a),()=>n.removeEventListener("scroll",u,a)},[i,u]),s}})(),u.__esModule;var c=u.useScroll},66800:function(t,e,n){"use strict";n.r(e);var a=n(65301),r=n(99678),o=n(59564);e.default=()=>{let t=(0,r.useSearchParams)().get("categoryId");return t||(0,r.notFound)(),(0,a.jsx)(o.oA,{categoryId:t})}},21016:function(t,e,n){"use strict";n.d(e,{I7:function(){return m},kl:function(){return g},b4:function(){return h},at:function(){return o}}),n(40174);var a=n(91207),r=n(58997);let o=(t,e)=>((0,r.uK4)().get(r.Xt8),[(0,a.useMemo)(()=>{if(void 0===e)return{};let n=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:n,"px)"),opacity:1}},[e,!1,t]),(0,a.useMemo)(()=>({"--average-color-background":t}),[t])]);var i=n(65301),s=n(66591),l=n(96233),u=n(62185),c=n(29778);let d=t=>{let{element:e,scrollTop:n,isMobile:a}=t,r=.4*e.clientHeight;return n+(a?60:76)>=e.offsetTop+r},m=(0,l.Pi)(t=>{let{children:e,scrollElement:n,outerTitle:o="",headerElement:l,headerThreshold:m,shouldHideHeader:g}=t,[h,_]=(0,a.useState)(o),[f,p]=(0,a.useState)(null),[v,x]=(0,a.useState)(null),[C,N]=(0,a.useState)(null),[S,P]=(0,a.useState)(!1),[E,T]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[k,j]=(0,a.useState)(!1),{settings:{isMobile:w}}=(0,r.oR4)();(0,a.useLayoutEffect)(()=>{_(o)},[o]);let D=(0,a.useCallback)(()=>{let t=null!=m?m:10,e=l?Number(l.offsetTop)-t:t;e<0&&(e=0);let a=t=>{b(t>e),g&&j(t>30),(null==f?void 0:f.current)&&P(d({element:null==f?void 0:f.current,scrollTop:t,isMobile:w})),(null==v?void 0:v.current)&&T(d({element:null==v?void 0:v.current,scrollTop:t,isMobile:w}))};w?a(window.scrollY):n&&a(n.scrollTop)},[m,l,w,g,f,v,n]);(0,a.useEffect)(()=>{w?0===window.scrollY&&b(!1):n&&0!==n.scrollTop||b(!1)},[n,null==n?void 0:n.scrollTop,w]);let W=(0,a.useMemo)(()=>w?{onScroll:(0,s.Z)(D,200)}:{onScroll:(0,s.Z)(D,200),elementRef:n},[D,n,w]);(0,u.v)(W);let L=(0,a.useMemo)(()=>({title:h,setTitle:_,titleElement:f,scrollElement:w?null:n,setTitleElement:p,childElement:v,setChildElement:x,child:C,setChild:N,isScrolledChild:E,isScrolledTitle:S,isScrolling:y,isHeaderHidden:k}),[h,S,f,n,y,w,C,v,E,k]);return(0,i.jsx)(c.pI.Provider,{value:L,children:e})}),g=t=>{let{children:e,child:n,className:r}=t,{setChildElement:o,setChild:s}=(0,a.useContext)(c.pI),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{(null==l?void 0:l.current)&&o(l),n&&s(n)},[l,n,o,s]),(0,a.useEffect)(()=>()=>{s(null)},[s]),(0,i.jsx)("div",{ref:l,className:r,children:e})},h=t=>{let{children:e,title:n,className:r}=t,{setTitleElement:o,setTitle:s}=(0,a.useContext)(c.pI),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{(null==l?void 0:l.current)&&o(l),n&&s(n)},[l,n,o,s]),(0,a.useEffect)(()=>()=>{s("")},[s]),(0,i.jsx)("div",{ref:l,className:r,children:e})}},59564:function(t,e,n){"use strict";n.d(e,{_1:function(){return m},oA:function(){return g.ChartPodcastsPage}});var a=n(2685),r=n(49430),o=n(54709),i=n(58997),s=n(91694);let l=a.V5.compose(a.V5.model("ChartPodcastsPage",{loadingState:a.V5.enumeration(Object.values(i.Gui)),title:a.V5.maybeNull(a.V5.string),items:a.V5.array(o.ug),errorStatusCode:a.V5.maybeNull(a.V5.number)}),s.Al).views(t=>({get isLoading(){return t.loadingState===i.Gui.IDLE||t.loadingState===i.Gui.PENDING},get isNotFound(){let e=t.loadingState===i.Gui.RESOLVE&&!t.items.length,n=t.errorStatusCode===r.CN.NOT_FOUND||t.errorStatusCode===r.CN.BAD_REQUEST;return t.loadingState===i.Gui.REJECT&&n||e},get isSomethingWrong(){return t.loadingState===i.Gui.REJECT&&!this.isNotFound}})).actions(t=>({getData:(0,a.ls)(function*(e){let{chartResource:n,modelActionsLogger:s}=(0,a.dU)(t);if(t.loadingState!==i.Gui.PENDING)try{let r;t.loadingState=i.Gui.PENDING,r=e?yield n.getChartPodcastsCategory({categoryId:e}):yield n.getChartPodcasts(),t.title=r.title,r.chartPositions&&(t.items=(0,a.pj)(r.chartPositions.map(t=>(0,o.re)(t.album,t.chartPosition)))),t.loadingState!==i.Gui.IDLE&&(t.loadingState=i.Gui.RESOLVE)}catch(e){s.error(e),e instanceof r.du&&(e.statusCode===r.CN.NOT_FOUND||e.statusCode===r.CN.BAD_REQUEST)&&(t.errorStatusCode=r.CN.NOT_FOUND),t.loadingState!==i.Gui.IDLE&&(t.loadingState=i.Gui.REJECT)}}),reset(){t.loadingState=i.Gui.IDLE,t.title=null,t.errorStatusCode=null,t.destroyItems([t.items])}}));var u=n(3154);let c=a.V5.model("ChartPagePlaylistModel",{uuid:a.V5.string,uid:a.V5.number,kind:a.V5.number}),d=a.V5.model("ChartTracksPageModel",{title:a.V5.maybeNull(a.V5.string),playlistMeta:a.V5.maybeNull(c),items:a.V5.array(u.le),loadingState:a.V5.enumeration(Object.values(i.Gui))}).actions(t=>({getTracks:(0,a.ls)(function*(){let{chartResource:e,modelActionsLogger:n}=(0,a.dU)(t);if(t.loadingState!==i.Gui.PENDING)try{t.loadingState=i.Gui.PENDING;let n=yield e.getChartTracks();t.title=n.title,t.playlistMeta=(0,a.pj)({uuid:n.playContext.playlistUuid,uid:n.playContext.uid,kind:n.playContext.kind}),t.items=(0,a.pj)(n.chartPositions.map(t=>(0,u.S7)(t.track,t.chartPosition))),t.loadingState!==i.Gui.IDLE&&(t.loadingState=i.Gui.RESOLVE)}catch(e){n.error(e),t.loadingState!==i.Gui.IDLE&&(t.loadingState=i.Gui.REJECT)}})})).views(t=>({get isLoading(){return t.loadingState===i.Gui.PENDING||t.loadingState===i.Gui.IDLE},get isLoadingError(){return t.loadingState===i.Gui.REJECT}})),m=a.V5.model("ChartPageModel",{tracksSubPage:d,podcastsSubPage:l});n(74793);var g=n(34623);n(49020)},74793:function(t,e,n){"use strict";n.d(e,{ChartPodcastsNotFoundPage:function(){return l}});var a=n(65301),r=n(96233),o=n(91207),i=n(32544),s=n(58997);let l=(0,r.Pi)(()=>{let{podcastsSubPage:t}=(0,s.oR4)().chart;return(0,o.useEffect)(()=>{t.reset()},[]),(0,a.jsx)(i.T,{})})},34623:function(t,e,n){"use strict";n.d(e,{ChartPodcastsPage:function(){return x}});var a=n(65301),r=n(9695),o=n(96233),i=n(99678),s=n(91207),l=n(37184),u=n(55975),c=n(82607),d=n(81437),m=n(36643),g=n(54709),h=n(21016),_=n(58997),f=n(29778),p=n(56741),v=n.n(p);let x=(0,o.Pi)(t=>{let{categoryId:e}=t,{chart:{podcastsSubPage:n},settings:{isMobile:o}}=(0,_.oR4)(),{contentScrollRef:p,setContentScrollRef:x}=(0,_.$Y6)(),{formatMessage:C}=(0,l.Z)(),N=(0,_.k67)();n.loadingState===_.Gui.IDLE&&(0,s.use)(n.getData(e));let S=(0,s.useMemo)(()=>({Footer:()=>(0,a.jsx)(f.$_,{className:v().footer})}),[]),P=(0,s.useMemo)(()=>n.title?(0,a.jsx)(d.Heading,{id:"collection-artists-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:n.title}):(0,a.jsx)(c.Shimmer,{className:v().shimmerTitle,radius:"l"}),[n.title]);if((0,_.NOh)(n.loadingState===_.Gui.RESOLVE),n.isNotFound&&(0,i.notFound)(),n.isSomethingWrong)return(0,a.jsx)(m.D,{});let E=n.isLoading?20:n.items.length;return(0,s.useEffect)(()=>()=>{n.reset()},[n]),(0,a.jsx)(_.Lh6,{pageId:e?_.Rhz.CHART_PODCASTS_CATEGORY:_.Rhz.CHART_PODCASTS,children:(0,a.jsx)(h.I7,{scrollElement:p,outerTitle:n.title,children:(0,a.jsxs)("div",{className:v().root,...(0,u.BA)(u.Br.chart.CHART_PODCASTS),children:[(0,a.jsx)(f.h4,{variant:"text",withForwardControl:!1,withBackwardControl:N.canBack,children:P}),(0,a.jsx)(f.Wv,{className:(0,r.W)(v().scrollContainer,v().important),listClassName:v().content,customComponents:S,itemContentCallback:t=>{let e=n.items[t],r=C({id:"loading-messages.entity-is-loading"},{entityName:C({id:"entity-names.album"})});return!e||n.isLoading?(0,a.jsx)(f.hi,{"aria-label":r}):(0,a.jsx)(g.rf,{album:e,contentLinesCount:3,withLikesCount:!0,withChart:!0,withAddition:!1})},handleRef:x,initialItemCount:E,totalCount:E,isMobileLayout:o,useWindowScroll:o,context:{listAriaLabel:C({id:"entity-names.chart-podcasts-list"})}})]})})})})},49020:function(t,e,n){"use strict";n.d(e,{ChartTracksPage:function(){return x}});var a=n(65301),r=n(9695),o=n(96233),i=n(91207),s=n(37184),l=n(55975),u=n(19489),c=n(82607),d=n(81437),m=n(36643),g=n(21016),h=n(3154),_=n(58997),f=n(29778),p=n(74291),v=n.n(p);let x=(0,o.Pi)(()=>{let{formatMessage:t}=(0,s.Z)(),{chart:{tracksSubPage:e},settings:{isMobile:n}}=(0,_.oR4)(),o=(0,_.k67)(),{contentScrollRef:p,setContentScrollRef:x}=(0,_.$Y6)(),C=(0,_.iXn)(),{from:N}=(0,_.MhG)({pageId:_.Rhz.CHART});e.loadingState===_.Gui.IDLE&&(0,i.use)(e.getTracks()),(0,_.NOh)(e.loadingState===_.Gui.RESOLVE);let S=(0,i.useCallback)(t=>{let n=e.items[t];return n&&!e.isLoading&&e.playlistMeta?(0,a.jsx)(h._3,{track:n,playContextParams:C(t,{contextData:{type:u.A.Playlist,meta:{id:"".concat(e.playlistMeta.uid,":").concat(e.playlistMeta.kind)},from:N},queueParams:{index:t},loadContextMeta:!0})}):(0,a.jsx)(f.DX,{isActive:!0,className:v().shimmerItem,variant:_.Lxt.PLAYLIST})},[N,e.items,e.isLoading,e.playlistMeta,C]),P=(0,i.useMemo)(()=>({Footer:()=>(0,a.jsx)(f.$_,{className:v().footer})}),[]),E=(0,i.useMemo)(()=>e.title?(0,a.jsx)(d.Heading,{id:"collection-artists-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:e.title}):(0,a.jsx)(c.Shimmer,{className:v().shimmerTitle,radius:"l"}),[e.title]);return e.loadingState===_.Gui.REJECT?(0,a.jsx)(m.D,{}):(0,a.jsx)(_.Lh6,{pageId:_.Rhz.CHART,children:(0,a.jsx)(g.I7,{scrollElement:p,...e.title&&{outerTitle:e.title},children:(0,a.jsxs)("div",{className:v().root,...(0,l.BA)(l.Br.chart.CHART_PAGE),children:[(0,a.jsx)(f.h4,{variant:"text",withForwardControl:!1,withBackwardControl:o.canBack,children:E}),(0,a.jsx)(f.Wv,{className:(0,r.W)(v().scrollContainer,v().important),listClassName:v().content,customComponents:P,totalCount:e.items.length,itemContentCallback:S,debounceDurationInMs:300,handleRef:x,context:{listAriaLabel:t({id:"entity-names.chart-tracks-list"})},isMobileLayout:n,useWindowScroll:n})]})})})})},32544:function(t,e,n){"use strict";n.d(e,{T:function(){return a.NotFound}});var a=n(40334)},40334:function(t,e,n){"use strict";n.d(e,{NotFound:function(){return h}});var a=n(65301),r=n(9695),o=n(96233),i=n(44729),s=n(78372),l=n(82036),u=n(81437),c=n(58997),d=n(29778),m=n(36625),g=n.n(m);let h=(0,o.Pi)(t=>{let{className:e}=t,{contentRef:n}=(0,c.$Y6)(),o=(0,c.s0h)("/");return(0,c.ZP4)(!0),(0,a.jsxs)("div",{className:(0,r.W)(g().root,{[g().root_desktop]:!n},e),children:[(0,a.jsx)(d.nP,{withBackwardFallback:"/",className:g().navigation,withForwardControl:!1}),(0,a.jsxs)("div",{className:g().content,children:[(0,a.jsx)(l.Icon,{className:g().icon,variant:"musicLogo",size:"xxl"}),(0,a.jsx)(u.Heading,{className:(0,r.W)(g().title,g().important),variant:"h3",size:"xs",children:(0,a.jsx)(i.Z,{id:"page-error.page-does-not-exist"})}),(0,a.jsx)(u.Caption,{className:(0,r.W)(g().text,g().important),variant:"span",type:"text",size:"l",weight:"normal",children:(0,a.jsx)(i.Z,{id:"page-error.page-does-not-exist-description"})}),(0,a.jsx)(s.z,{onClick:o,className:g().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,a.jsx)(u.Caption,{type:"controls",variant:"span",size:"m",children:(0,a.jsx)(i.Z,{id:"navigation.page-main"})})})]})]})})},36643:function(t,e,n){"use strict";n.d(e,{D:function(){return a.SomethingWentWrong}});var a=n(87407)},87407:function(t,e,n){"use strict";n.d(e,{SomethingWentWrong:function(){return _}});var a=n(65301),r=n(9695),o=n(96233),i=n(91207),s=n(44729),l=n(78372),u=n(82036),c=n(81437),d=n(58997),m=n(29778),g=n(60637),h=n.n(g);let _=(0,o.Pi)(t=>{let{className:e,withBackwardControl:n=!0}=t,o=(0,i.useCallback)(()=>{window.location.href="/"},[]),{contentRef:g}=(0,d.$Y6)();return(0,a.jsxs)("div",{className:(0,r.W)(h().root,e),children:[n&&(0,a.jsx)(m.nP,{withBackwardFallback:"/",className:(0,r.W)(h().navigation,{[h().navigation_desktop]:!g}),withForwardControl:!1}),(0,a.jsxs)("div",{className:(0,r.W)(h().content,{[h().content_shrink]:!n}),children:[(0,a.jsx)(u.Icon,{className:h().icon,variant:"attention",size:"xxl"}),(0,a.jsx)(c.Heading,{className:(0,r.W)(h().title,h().important),variant:"h3",size:"xs",children:(0,a.jsx)(s.Z,{id:"error-messages.something-went-wrong"})}),(0,a.jsxs)(c.Caption,{className:(0,r.W)(h().text,h().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,a.jsx)(s.Z,{id:"page-error.try-to-restart-app"})]}),(0,a.jsx)(l.z,{onClick:o,className:h().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,a.jsxs)(c.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,a.jsx)(s.Z,{id:"page-error.restart-app-button"})]})})]})]})})},56741:function(t){t.exports={root:"ChartPodcastsPage_root__J5lnx",scrollContainer:"ChartPodcastsPage_scrollContainer__WQTf7",important:"ChartPodcastsPage_important__fW45m",footer:"ChartPodcastsPage_footer__7ytrT",item:"ChartPodcastsPage_item__vGRt8",content:"ChartPodcastsPage_content__NcV4M"}},74291:function(t){t.exports={root:"ChartTracksPage_root__QMbqY",scrollContainer:"ChartTracksPage_scrollContainer__Pxe8S",important:"ChartTracksPage_important__Lddyf",content:"ChartTracksPage_content__yyIAN",footer:"ChartTracksPage_footer__6sNBk",shimmerItem:"ChartTracksPage_shimmerItem__YwM0h"}},36625:function(t){t.exports={root:"NotFound_root__47ZX6",root_desktop:"NotFound_root_desktop___QqSb",navigation:"NotFound_navigation__q8rIW",content:"NotFound_content__3kry_",icon:"NotFound_icon___Wa9y",title:"NotFound_title__akG_o",important:"NotFound_important__z1LWl",text:"NotFound_text__oxDZv",button:"NotFound_button__jF4uH"}},60637:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(t){t.O(0,[3537,6072,1884,9582,7425,85,5453,7873,5493,7311,2845,9778,1694,721,4709,3154,3504,2291,1744],function(){return t(t.s=28871)}),_N_E=t.O()}]);