(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{31816:function(t,e,i){Promise.resolve().then(i.bind(i,1933))},63626:function(t,e,i){"use strict";i.d(e,{DL:function(){return l},F4:function(){return n}}),i(52695);let n=t=>{let{containerNodeRect:e,draggingNodeRect:i,transform:n}=t;return i&&e?function(t,e,i){let n={...t};return e.top+t.y<=i.top?n.y=i.top-e.top:e.bottom+t.y>=i.top+i.height&&(n.y=i.top+i.height-e.bottom),e.left+t.x<=i.left?n.x=i.left-e.left:e.right+t.x>=i.left+i.width&&(n.x=i.left+i.width-e.right),n}(n,i,e):n},l=t=>{let{transform:e}=t;return{...e,x:0}}},1933:function(t,e,i){"use strict";i.r(e);var n=i(95660),l=i(97667),a=i(54705);e.default=()=>{let t=(0,l.useSearchParams)().get("playlistUuid");return t||(0,l.notFound)(),(0,n.jsx)(a.i$,{playlistUuid:t})}},24136:function(t,e,i){"use strict";i.d(e,{IT:function(){return d.ArtistCard},xG:function(){return c.ArtistContextMenu},o9:function(){return u},v2:function(){return r.useArtistDisclaimer}});var n=i(97667),l=i(71859),a=i(20794);(0,l.cache)(async t=>{try{let{container:e,backendHostTld:i,locale:l,host:r,fullUrl:s,requestUrl:o}=await (0,a.rbP)(),u=e.get(a.na2),d=await u.getBriefInfo({artistId:t});return"not-found"===d.error&&(0,n.notFound)(),{artist:d,backendHostTld:i,locale:l,host:r,fullUrl:s,requestUrl:o}}catch(t){return{artist:void 0,backendHostTld:"",locale:null,host:"",fullUrl:null,requestUrl:null}}});var r=i(78724),s=i(97898),o=i(11232);let u=s.V5.model("ArtistMeta",{artist:o.Go,lastMonthListeners:s.V5.maybe(s.V5.number)});var d=i(46051),c=i(4805)},78724:function(t,e,i){"use strict";i.d(e,{useArtistDisclaimer:function(){return r}});var n=i(71859),l=i(71833),a=i(20794);let r=t=>{let{artist:e,callback:i,shouldHistoryBack:r}=t,{disclaimer:s,modals:{disclaimerModal:o}}=(0,a.oR4)(),u=(0,n.useRef)(String((0,l.Z)())),d=(0,n.useRef)(!1),c=(0,a.uK4)().get(a.ceh);return(0,n.useEffect)(()=>{s.isUnsafeDisclaimerConfirmed&&s.id===u.current&&!d.current&&(null==i||i(),d.current=!0)},[i,s.id,s.isUnsafeDisclaimerConfirmed]),(0,n.useCallback)(async t=>{let n=c.get(a.BUb.ExEx);if((null==e?void 0:e.isUnsafeLegal)&&(null==n?void 0:n.includes("".concat(a.coP.ARTIST,"_").concat(e.id)))){null==i||i();return}if((null==e?void 0:e.isLegalRejected)||(null==e?void 0:e.isUnsafeLegal)){null==t||t.preventDefault(),await s.getArtistDisclaimer({artistId:e.id}),e.isUnsafeLegal&&s.setType(a.Gq.UNSAFE),s.setId(u.current),s.setEntityId(e.id),s.setEntityType(a.coP.ARTIST),s.setShouldHistoryBack(!!r),d.current=!1,o.open();return}null==t||t.preventDefault(),null==i||i()},[null==e?void 0:e.id,null==e?void 0:e.isLegalRejected,null==e?void 0:e.isUnsafeLegal,i,s,o,c,r])}},46051:function(t,e,i){"use strict";i.d(e,{ArtistCard:function(){return _}});var n=i(95660),l=i(23974),a=i(44744),r=i(71859),s=i(36621),o=i(51739),u=i(9883),d=i(20062),c=i(1559),v=i(15706),m=i(67061),y=i(42255),p=i(11232),f=i(20794),C=i(96235),k=i(78724),x=i(4805),b=i(64543),h=i.n(b);let _=(0,a.Pi)(t=>{let{artist:e,className:i,children:a,contentLinesCount:b}=t,{ref:_,intersectionPropertyId:A}=(0,f.VfV)(),{trailer:P,advert:g}=(0,f.oR4)(),{notify:B}=(0,f.d$W)(),{from:L,utmLink:S}=(0,f.MhG)({contextId:e.id,contextType:d.A.Artist}),{formatMessage:j}=(0,s.Z)(),[T,V]=(0,r.useState)(!1),[N,I]=(0,r.useState)(!1),[w,R]=(0,r.useState)(!1),{sendLikeSearchFeedback:M,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:U}=(0,f.sAF)(),O=(0,f.zxW)(),F=(0,p.SB)(e),z=(0,p.BV)(e),{id:D,name:G,coverUri:K,isLiked:W}=e,Z=(0,f.s0h)(e.url),q=(0,f.s0h)(e.url,!0),[Y,X]=(0,r.useState)(!1),H=(0,f.FTC)(),$=(0,r.useCallback)(t=>{if(t.stopPropagation(),g.isAdvertShown){t.preventDefault(),B((0,n.jsx)(C.vd,{}),{containerId:f.W$x.INFO});return}P.openArtistTrailer(e.id),H(o.OB.Artist,e.id)},[e.id,H,P,g.isAdvertShown,B]),Q=(0,r.useMemo)(()=>{let t=j({id:"entity-names.artist-name"},{artistName:G}),e=W?j({id:"entity-names.has-your-like"}):"";return"".concat(t," ").concat(e)},[G,W,j]),{isPlaying:J,togglePlay:tt}=(0,f.qmq)({playContextParams:{contextData:{type:d.A.Artist,meta:{id:Number(D)},from:L,utmLink:S},loadContextMeta:!0}}),te=(0,k.useArtistDisclaimer)({artist:e,callback:Z}),ti=(0,k.useArtistDisclaimer)({artist:e,callback:q}),tn=(0,k.useArtistDisclaimer)({artist:e,callback:tt}),tl=(0,p.ik)(ti,te),ta=(0,r.useCallback)(t=>{null==E||E(),O({to:o.qU.ArtistScreen}),tl(t)},[E,O,tl]),tr=(0,r.useCallback)(t=>{ta(t)},[ta]),ts=(0,r.useCallback)(()=>{T||J||(V(!0),null==U||U()),tn()},[J,T,U,tn]),to=(0,r.useCallback)(()=>{N||W||(I(!0),null==M||M()),F()},[W,F,N,M]),tu=(0,r.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),td=(0,r.useCallback)(()=>{R(!w),X(!w)},[w]),tc=(0,r.useMemo)(()=>(0,n.jsx)(x.ArtistContextMenu,{artist:e,onOpenChange:td,open:w,onClick:tu,className:(0,l.W)(h().menuButton,h().control),size:"s",icon:(0,n.jsx)(v.Icon,{size:"xxs",variant:"more"})},e.getKey("ArtistContextMenu")),[e,tu,td,w]),tv=(0,r.useMemo)(()=>{var t;if(null==e?void 0:null===(t=e.trailer)||void 0===t?void 0:t.canShow)return(0,n.jsx)(C.xf,{children:(0,n.jsx)(C.eP,{className:(0,l.W)(h().trailerButton,h().control),radius:"round",size:"s",iconSize:"xxs",onClick:$},e.getKey("TrailerButton"))})},[e,$]),tm=(0,r.useMemo)(()=>{if(e.isAvailable)return(0,n.jsx)(c.kk,{isVisible:w||Y,className:h().controls,radius:"round",playControl:(0,n.jsx)(C.JM,{buttonVariant:"default",withHover:!1,className:(0,l.W)(h().playButton,h().control),iconSize:"xl",variant:"filled",onClick:ts,isPlaying:J,disabled:!e.isAvailableForPlaying},e.getKey("PlayButton")),likeControl:(0,n.jsx)(C.dJ,{className:(0,l.W)(h().likeButton,h().control),isLiked:W,onClick:to,variant:"default",size:"s",iconSize:"xxs"},e.getKey("LikeButton")),menuControl:tc,pinControl:(0,n.jsx)(C.RT,{onClick:z,isPinned:e.isPinned,className:(0,l.W)(h().pinButton,h().control),withRipple:!1},e.getKey("PinButton")),trailerControl:tv})},[e,w,Y,ts,J,W,to,tc,z,tv]),ty=(0,r.useMemo)(()=>(0,n.jsx)(m.Paper,{className:h().cover,radius:"round",withShadow:!0,...(0,u.BA)(u.bG.artist.ARTIST_CARD),children:(0,n.jsxs)("div",{className:h().coverBlock,onClick:tr,children:[(0,n.jsx)(C.BE,{className:h().image,src:K,size:200,fit:"cover",alt:Q,withAvatarReplace:!0,isAvailable:e.isAvailable,"aria-hidden":!0}),tm]})}),[tr,K,Q,e.isAvailable,tm]);return(0,n.jsx)(c.m7,{ref:_,className:(0,l.W)(h().root,i),textPosition:"center","aria-label":Q,title:(0,n.jsx)(y.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,n.jsx)(C.rU,{className:h().titleLink,href:e.url,"aria-label":Q,onClick:ta,...(0,u.BA)(u.bG.artist.ARTIST_TITLE),children:G})}),srTitle:(0,n.jsx)(C.rU,{href:e.url,onClick:ta,children:Q}),"data-intersection-property-id":A,contentLinesCount:b,view:ty,...(0,u.BA)(u.bG.artist.ARTIST_ITEM),children:a})})},4805:function(t,e,i){"use strict";i.d(e,{ArtistContextMenu:function(){return y}});var n=i(95660),l=i(44744),a=i(71859),r=i(36621),s=i(51739),o=i(9883),u=i(20062),d=i(83317),c=i(11232),v=i(20794),m=i(96235);let y=(0,l.Pi)(t=>{var e,i,l;let{artist:y,onOpenChange:p,open:f,...C}=t,{shouldShowBuySubscriptionModal:k,showBuySubscriptionModal:x}=(0,v.vLf)(),{settings:b,trailer:h,advert:_,user:A}=(0,v.oR4)(),{notify:P}=(0,v.d$W)(),g=(0,c.BV)(y),B=(0,c.SB)(y),L=(0,v.FTC)(),S="".concat(v.aUg.ARTIST,"-").concat(null==y?void 0:y.id),j=b.layout===v.t8m.Mobile,{formatMessage:T}=(0,r.Z)(),{utmLink:V}=(0,v.MhG)({blockId:v.aUg.ARTIST,contextType:u.A.Artist,contextId:null==y?void 0:y.id}),{href:N}=(0,v.qKB)(null!==(i=null==y?void 0:y.url)&&void 0!==i?i:""),{isPlaying:I,togglePlay:w}=(0,v.QhE)({seeds:null!==(l=null==y?void 0:y.seeds)&&void 0!==l?l:[],pageIdForFrom:v.Rhz.RADIO,blockIdForFrom:S}),R=(0,a.useCallback)(()=>{if(k&&A.isAuthorized){x();return}I||w()},[I,k,x,w,A.isAuthorized]),M=(0,a.useCallback)(()=>{if(k){x();return}if(_.isAdvertShown){P((0,n.jsx)(m.vd,{}),{containerId:v.W$x.INFO});return}(null==y?void 0:y.id)&&(h.setUtmLink(V),h.openArtistTrailer(y.id),L(s.OB.Artist,y.id))},[k,_.isAdvertShown,null==y?void 0:y.id,x,P,h,V,L]);return(0,v.ZP4)(f),(0,n.jsxs)(d.v2,{isMobile:j,offsetOptions:10,open:f,onOpenChange:p,ariaLabel:T({id:"interface-actions.context-menu"}),containerProps:(0,o.BA)(o.bG.artist.ARTIST_CONTEXT_MENU),...C,children:[!j&&(0,n.jsx)(m.Zd,{onClick:g,isPinned:null==y?void 0:y.isPinned}),(0,n.jsx)(m.xZ,{onClick:B,isLiked:null==y?void 0:y.isLiked,disabled:!(null==y?void 0:y.isAvailable)}),(null==y?void 0:null===(e=y.trailer)||void 0===e?void 0:e.canShow)&&(0,n.jsx)(m.NB,{onClick:M}),(0,n.jsx)(m.GQ,{onClick:R,disabled:!(null==y?void 0:y.isAvailable),variant:v.xIL.ARTIST}),(0,n.jsx)(m.zq,{disabled:!y,shareLink:N,entityVariant:"artist",entityTitle:null==y?void 0:y.name})]})})},82621:function(t,e,i){"use strict";i.d(e,{vY:function(){return _.EmptyPlaylistBlock},ZL:function(){return A.PlaylistCard},Nn:function(){return b},d2:function(){return h},VD:function(){return P.PlaylistsCarousel},RE:function(){return a},Q9:function(){return c},VB:function(){return m},PB:function(){return p}});var n=i(97898),l=i(20794);let a=t=>{var e,i;let{playlist:a,generatedPlaylistType:r,likesCount:s,trailer:o}=t;return(0,n.pj)({isAvailable:null===(i=a.available)||void 0===i||i,uuid:a.playlistUuid,title:a.title,uid:a.uid,kind:a.kind,coverUri:null===(e=a.cover)||void 0===e?void 0:e.uri,generatedPlaylistType:r,likesCount:s,trailer:(0,l.GFX)(o)})};var r=i(97667),s=i(71859);(0,s.cache)(async(t,e)=>{try{let{container:i,backendHostTld:n,locale:a,host:s,fullUrl:o,requestUrl:u}=await (0,l.rbP)(),d=i.get(l.Eug),c=await d.getPlaylistWithTracksIds({userId:t,playlistKind:e,resumeStream:!1});return"not-found"===c.error&&(0,r.notFound)(),{playlist:c,backendHostTld:n,locale:a,host:s,fullUrl:o,requestUrl:u}}catch(t){return{playlist:void 0,backendHostTld:"",locale:null,host:"",fullUrl:null,requestUrl:null}}}),(0,s.cache)(async t=>{try{let{container:e,backendHostTld:i,locale:n,host:a,fullUrl:s,requestUrl:o}=await (0,l.rbP)(),u=e.get(l.lkR),d=await u.getPlaylist({playlistUuid:t,resumeStream:!1});return"not-found"===d.error&&(0,r.notFound)(),{playlist:d,backendHostTld:i,locale:n,host:a,fullUrl:s,requestUrl:o}}catch(t){return{playlist:void 0,backendHostTld:"",locale:null,host:"",fullUrl:null,requestUrl:null}}});var o=i(39583);let u=t=>({uid:t.uid,login:t.login,name:t.name,sex:t.sex,verified:t.verified}),d=t=>(0,n.pj)({userInfo:t.userInfo?u(t.userInfo):null,caseForms:t.caseForms?(0,l.GA0)(t.caseForms):null}),c=t=>(0,n.pj)({...(0,o.PV)(t),owner:t.owner?u(t.owner):void 0,description:t.description,modified:t.modified,madeFor:t.madeFor?d(t.madeFor):null});var v=i(11232);let m=t=>{var e,i;return(0,n.pj)({...(0,o.PV)(t),artists:null!==(i=null==t?void 0:null===(e=t.artists)||void 0===e?void 0:e.map(v.d))&&void 0!==i?i:[]})};var y=i(44022);let p=t=>{var e,i;return(0,n.pj)({...(0,o.PV)(t),tracks:null!==(i=null==t?void 0:null===(e=t.tracks)||void 0===e?void 0:e.map(y.wM))&&void 0!==i?i:[]})};var f=i(15526),C=i(73056);let k=n.V5.model("PlaylistOwner",{uid:n.V5.number,login:n.V5.string,name:n.V5.string,sex:n.V5.enumeration(Object.values(C.o)),verified:n.V5.boolean}),x=n.V5.model("PlaylistOwner",{userInfo:n.V5.maybeNull(k),caseForms:n.V5.maybeNull(f.S2)}),b=o.Cd.props({owner:n.V5.maybe(k),modified:n.V5.string,description:n.V5.maybe(n.V5.string),madeFor:n.V5.maybeNull(x)}).views(t=>({get seeds(){var e;return["playlist:".concat(null===(e=t.owner)||void 0===e?void 0:e.login,"_").concat(t.kind)]}})).actions(t=>({changeDescription:(0,n.ls)(function*(e){if(!(0,n.fh)(t))return l.SLo.ERROR;if(t.description===e)return l.SLo.OK;if(e.length>o.Zn)return l.SLo.ERROR;let{usersResource:i,modelActionsLogger:a}=(0,n.dU)(t);if(t.canUserChange){let n=t.description;t.description=e;try{let n=yield i.changePlaylistDescription({description:e,userId:t.uid,playlistKind:t.kind});return t.description=n.description,l.SLo.OK}catch(e){t.description=n,a.error(e)}}return l.SLo.ERROR}),changePlaylistCover:(0,n.ls)(function*(e){if(!(0,n.fh)(t))return l.SLo.ERROR;let{usersResource:i,modelActionsLogger:a}=(0,n.dU)(t);try{return yield i.uploadPlaylistCover({userId:t.uid,formData:e,playlistKind:t.kind}),l.SLo.OK}catch(t){a.error(t)}return l.SLo.ERROR})})),h=o.$h.props({artists:n.V5.maybe(n.V5.array(v.Go))});var _=i(86759),A=i(94039),P=i(62938)},86759:function(t,e,i){"use strict";i.d(e,{EmptyPlaylistBlock:function(){return v}});var n=i(95660),l=i(23974),a=i(71859),r=i(71037),s=i(9883),o=i(15706),u=i(42255),d=i(99366),c=i.n(d);let v=t=>{let{className:e,isEmptySearch:i}=t,d=(0,a.useMemo)(()=>i?(0,n.jsx)(r.Z,{id:"search-results.not-found-title"}):(0,n.jsx)(r.Z,{id:"error-messages.empty-collection-playlist-title"}),[i]),v=(0,a.useMemo)(()=>i?(0,n.jsx)(r.Z,{id:"search-results.not-found-description"}):(0,n.jsx)(r.Z,{id:"error-messages.empty-collection-playlist-description"}),[i]);return(0,n.jsxs)("div",{className:(0,l.W)(c().root,e),...(0,s.BA)(s.bG.playlist.PLAYLIST_EMPTY_BLOCK),children:[(0,n.jsx)("div",{className:c().iconBackground,children:(0,n.jsx)(o.Icon,{variant:"search",size:"l",className:c().icon,...(0,s.BA)(s.bG.playlist.PLAYLIST_EMPTY_BLOCK_ICON)})}),(0,n.jsx)(u.Heading,{variant:"h3",size:"xs",className:c().title,...(0,s.BA)(s.bG.playlist.PLAYLIST_EMPTY_BLOCK_TITLE),children:d}),(0,n.jsx)(u.Caption,{variant:"span",size:"l",className:c().subtitle,...(0,s.BA)(s.bG.playlist.PLAYLIST_EMPTY_BLOCK_TEXT),children:v})]})}},94039:function(t,e,i){"use strict";i.d(e,{PlaylistCard:function(){return P}});var n=i(95660),l=i(23974),a=i(44744),r=i(71859),s=i(36621),o=i(51739),u=i(9883),d=i(20062),c=i(1559),v=i(15706),m=i(67061),y=i(42255),p=i(11232),f=i(39583),C=i(20794),k=i(96235);let x=t=>{let{formatMessage:e}=(0,s.Z)();return(0,r.useMemo)(()=>{let i="";t.isLiked&&!t.actualLikesCount?i=e({id:"entity-names.has-your-like"}):"number"==typeof t.actualLikesCount&&(i=t.actualLikesCount>0?e({id:"entity-names.likes-counter"},{counter:t.actualLikesCount}):e({id:"entity-names.likes-counter-empty"}));let n=e({id:"entity-names.playlist-name"},{playlistName:t.title});return"".concat(n," ").concat(i)},[e,t])};var b=i(83317);let h=(0,a.Pi)(t=>{var e;let{playlist:i,onOpenChange:l,open:a,...d}=t,{shouldShowBuySubscriptionModal:c,showBuySubscriptionModal:v}=(0,C.vLf)(),{settings:m,trailer:y,advert:p}=(0,C.oR4)(),{notify:x}=(0,C.d$W)(),h=(0,f.SB)(i),_=(0,f.BV)(i),A=(0,C.FTC)(),P=m.layout===C.t8m.Mobile,{formatMessage:g}=(0,s.Z)();(0,C.ZP4)(a);let B=(0,r.useCallback)(()=>{if(c){v();return}if(p.isAdvertShown){x((0,n.jsx)(k.vd,{}),{containerId:C.W$x.INFO});return}y.openPlaylistTrailer(i.id),A(o.OB.Playlist,i.id)},[c,p.isAdvertShown,y,i.id,A,v,x]);return(0,n.jsxs)(b.v2,{title:i.title,onOpenChange:l,open:a,offsetOptions:10,isMobile:P,ariaLabel:g({id:"interface-actions.context-menu"}),containerProps:(0,u.BA)(u.bG.playlist.PLAYLIST_CONTEXT_MENU),...d,children:[!P&&(0,n.jsx)(k.Zd,{onClick:_,isPinned:i.isPinned}),!i.isFavouritePlaylist&&(0,n.jsx)(k.xZ,{onClick:h,isLiked:i.isLiked}),(null===(e=i.trailer)||void 0===e?void 0:e.canShow)&&(0,n.jsx)(k.NB,{onClick:B,disabled:!i.isAvailable})]})});var _=i(6275),A=i.n(_);let P=(0,a.Pi)(t=>{let{className:e,playlist:i,children:a,contentLinesCount:b,customDescription:_}=t,{ref:P,intersectionPropertyId:g}=(0,C.VfV)(),{trailer:B,advert:L}=(0,C.oR4)(),{notify:S}=(0,C.d$W)(),{from:j,utmLink:T}=(0,C.MhG)({contextId:i.uuid,contextType:d.A.Playlist}),{formatMessage:V}=(0,s.Z)(),{sendLikeSearchFeedback:N,sendNavigateSearchFeedback:I,sendPlaySearchFeedback:w}=(0,C.sAF)(),[R,M]=(0,r.useState)(!1),[E,U]=(0,r.useState)(!1),[O,F]=(0,r.useState)(!1),z=x(i),D=(0,f.SB)(i),G=(0,f.BV)(i),K=(0,C.zxW)(),W=(0,C.s0h)(i.url),Z=(0,C.s0h)(i.url,!0),q=(0,p.ik)(Z,W),Y=(0,C.FTC)(),X=(0,r.useCallback)(t=>{if(t.stopPropagation(),L.isAdvertShown){t.preventDefault(),S((0,n.jsx)(k.vd,{}),{containerId:C.W$x.INFO});return}B.setUtmLink(T),B.openPlaylistTrailer(i.id),Y(o.OB.Playlist,i.id)},[i.id,Y,B,T,L.isAdvertShown,S]),[H,$]=(0,r.useState)(!1),{isPlaying:Q,togglePlay:J}=(0,C.qmq)({playContextParams:{contextData:{type:d.A.Playlist,meta:{id:i.id,uuid:i.uuid},from:j,utmLink:T},loadContextMeta:!0}}),tt=(0,r.useCallback)(()=>{K({to:o.qU.PlaylistScreen}),null==I||I()},[K,I]),te=(0,r.useCallback)(t=>{tt(),q(t)},[q,tt]),ti=(0,r.useCallback)(()=>{R||Q||(M(!0),null==w||w()),J()},[Q,R,w,J]),tn=(0,r.useCallback)(()=>{E||i.isLiked||(U(!0),null==N||N()),D()},[D,E,i.isLiked,N]),tl=(0,r.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),ta=(0,r.useCallback)(()=>{F(!O),$(!O)},[O]),tr=(0,r.useMemo)(()=>{var t;return _?(0,n.jsx)(y.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:_},i.getKey("description")):(null===(t=i.artists)||void 0===t?void 0:t.length)?(0,n.jsx)(p.jO,{className:A().artists,artists:i.artists,lineClamp:1,linkClassName:A().artistLink,captionSize:"s"},i.getKey("description")):void 0},[_,i]),ts=(0,r.useMemo)(()=>{if(!i.isFavouritePlaylist)return(0,n.jsx)(k.dJ,{className:(0,l.W)(A().likeButton,A().control),isLiked:i.isLiked,onClick:tn,variant:"default",size:"s",iconSize:"xxs"},i.getKey("LikeButton"))},[tn,i]),to=(0,r.useMemo)(()=>{var t;if(null==i?void 0:null===(t=i.trailer)||void 0===t?void 0:t.canShow)return(0,n.jsx)(k.xf,{children:(0,n.jsx)(k.eP,{className:(0,l.W)(A().trailerButton,A().control),radius:"round",size:"s",iconSize:"xxs",onClick:X},i.getKey("TrailerButton"))})},[X,i]),tu=(0,r.useMemo)(()=>(0,n.jsx)(m.Paper,{className:A().cover,radius:"s",withShadow:!0,...(0,u.BA)(u.bG.playlist.PLAYLIST_CARD),children:(0,n.jsxs)("div",{className:A().coverBlock,onClick:te,children:[(0,n.jsx)(k.BE,{className:A().image,src:i.coverUri,size:200,fit:"cover",alt:z,withAvatarReplace:!0,"aria-hidden":!0}),(0,n.jsx)(c.kk,{isVisible:O||H,className:A().controls,playControl:(0,n.jsx)(k.JM,{className:(0,l.W)(A().playButton,A().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:ti,isPlaying:Q,disabled:!i.isAvailable},i.getKey("PlayButton")),likeControl:ts,menuControl:(0,n.jsx)(h,{playlist:i,onOpenChange:ta,open:O,onClick:tl,className:(0,l.W)(A().menuButton,A().control),icon:(0,n.jsx)(v.Icon,{size:"xxs",variant:"more"}),size:"s",...(0,u.BA)(u.bG.playlist.PLAYLIST_CONTEXT_MENU_BUTTON)},i.getKey("PlaylistContextMenu")),pinControl:(0,n.jsx)(k.RT,{onClick:G,isPinned:i.isPinned,className:(0,l.W)(A().pinButton,A().control),withRipple:!1},i.getKey("PinButton")),trailerControl:to})]})}),[te,i,z,O,H,ti,Q,ts,ta,tl,G,to]),td=!!i.actualLikesCount&&!i.isLikesCountHidden;return(0,n.jsxs)(c.m7,{ref:P,"aria-label":z,className:(0,l.W)(A().root,e),title:(0,n.jsx)(y.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,u.BA)(u.bG.playlist.PLAYLIST_TITLE),children:(0,n.jsx)(k.rU,{className:A().titleLink,href:i.url,onClick:tt,children:i.title})}),srTitle:(0,n.jsx)(k.rU,{href:i.url,onClick:tt,children:i.title}),"data-intersection-property-id":g,contentLinesCount:b,view:tu,description:tr,...(0,u.BA)(u.bG.playlist.PLAYLIST_ITEM),children:[td&&(0,n.jsx)(k.DB,{ariaLabel:V({id:"entity-names.likes-counter"},{counter:i.actualLikesCount}),likesCount:i.actualLikesCount,isLiked:i.isLiked,handleLikeClick:D}),a]})})},62938:function(t,e,i){"use strict";i.d(e,{PlaylistsCarousel:function(){return o}});var n=i(95660),l=i(71859),a=i(96235),r=i(94039);let s=t=>{let{forwardRef:e,isShimmerVisible:i,isShimmerActive:l,title:s,description:o,playlists:u,containerClassName:d,className:c,headerClassName:v,viewAllActionLink:m,headingVariant:y,...p}=t;return(0,n.jsx)(a.HY,{isShimmerVisible:i,isShimmerActive:l,className:c,headerClassName:v,containerClassName:d,ref:e,title:s,description:o,viewAllActionLink:m,headingVariant:y,...p,children:null==u?void 0:u.map(t=>(0,n.jsx)(r.PlaylistCard,{playlist:t,contentLinesCount:3},t.key))})},o=(0,l.forwardRef)((t,e)=>(0,n.jsx)(s,{forwardRef:e,...t}))},24980:function(t,e,i){"use strict";i.d(e,{s$:function(){return f},$Z:function(){return _.RepeatButton},P4:function(){return A.ShuffleButton},WP:function(){return P.SonataControls},ps:function(){return h},NI:function(){return g.SonataVideoControls},jN:function(){return m},RN:function(){return l},B5:function(){return c}});var n=i(37460);let l=(t,e)=>({type:n.RX.Unloaded,meta:{id:t,albumId:e}});var a=i(97898),r=i(48223),s=i(43683),o=i(11232),u=i(44022),d=i(20794);let c=t=>{var e,i,l;switch(t.data.type){case r.A.Generative:{let i=t.data.meta,n=(0,d.Usz)(null==i?void 0:i.derivedColors);return(0,a.pj)({id:String(i.id),coverUri:i.imageUrl,title:null!==(e=i.title)&&void 0!==e?e:"",isAvailable:!0,isRemoved:!1,averageColor:n})}case n.RX.Unloaded:return null;default:{let e=t.data.meta,n=null===(i=e.artists)||void 0===i?void 0:i.map(o.d),r=null===(l=e.albums)||void 0===l?void 0:l.map(s.N);return(0,a.pj)({...(0,u.Ni)(e),artists:n,albums:r})}}},v=a.V5.model("UnloadedEntityMeta",{id:a.V5.union(a.V5.number,a.V5.string),albumId:a.V5.maybe(a.V5.union(a.V5.number,a.V5.string))}),m=a.V5.model("UnloadedEntityData",{meta:v,type:a.V5.literal(n.RX.Unloaded)});var y=i(62812),p=i(6609);let f=u.yp.props({artists:a.V5.array(o.Go),albums:a.V5.array(s.KX),chart:a.V5.maybe(p.BH)}).views(t=>({get idWithContext(){return t.albumId?"".concat(t.id,":").concat(t.albumId):t.id},get artistsNames(){var e;return null===(e=t.artists)||void 0===e?void 0:e.map(t=>t.name).join(", ")},get mainArtist(){var i,n;return null!==(n=null===(i=t.artists)||void 0===i?void 0:i[0])&&void 0!==n?n:null},get mainAlbum(){var l,a;return null!==(a=null===(l=t.albums)||void 0===l?void 0:l[0])&&void 0!==a?a:null},get index(){var r,s,o;return null!==(o=null===(s=t.albums[0])||void 0===s?void 0:null===(r=s.trackPosition)||void 0===r?void 0:r.index)&&void 0!==o?o:null},get isPodcast(){var u;return t.isTrackPodcast||(null===(u=this.mainAlbum)||void 0===u?void 0:u.isPodcast)},get isAudiobook(){return t.type===y.V.AUDIOBOOK},get isNonMusic(){return this.isPodcast||this.isAudiobook},get isAvailableOnlyForPlus(){var d;return!!(null===(d=this.mainAlbum)||void 0===d?void 0:d.isAvailableOnlyForPlus)}})).actions(t=>({changeTrackInfo:(0,a.ls)(function*(e,i){let{ugcResource:n,modelActionsLogger:l}=(0,a.dU)(t);if(t.artists.map(t=>t.name).join(", ")===i&&e===t.title)return d.SLo.OK;try{var r;yield n.changeTrack({trackId:t.id,title:e,artist:i}),t.title=e;let l=(null===(r=t.artists[0])||void 0===r?void 0:r.id)||"0";if(t.artists=(0,a.pj)([]),i){let e=o.Go.create({id:l,name:i,isAvailable:!0});t.artists=(0,a.pj)([e])}return d.SLo.OK}catch(t){return l.error(t),d.SLo.ERROR}})}));var C=i(10576),k=i(20062),x=i(32945),b=i(53912);let h=a.V5.model("SonataState",{contextType:a.V5.maybeNull(a.V5.enumeration(Object.values(k.A))),contextId:a.V5.maybeNull(a.V5.string),entityMeta:a.V5.maybeNull(f),unloadedEntitiesData:a.V5.maybe(a.V5.array(m)),status:a.V5.enumeration(Object.values(n.Xz)),canMoveForward:a.V5.boolean,canMoveBackward:a.V5.boolean,canSpeed:a.V5.boolean,repeatMode:a.V5.enumeration(Object.values(b.zq)),canChangeRepeatMode:a.V5.boolean,volume:a.V5.maybe(a.V5.number),speed:a.V5.maybe(a.V5.number),canShuffle:a.V5.boolean,shuffle:a.V5.boolean,currentlyPlayingTrackIndex:a.V5.maybe(a.V5.number),quality:a.V5.enumeration(Object.values(x.n)),playlistFilter:a.V5.maybe(a.V5.string)}).views(t=>({get unloadedEntitiesDataFromModels(){return(0,C.ZN)(t.unloadedEntitiesData)},get isVibeContext(){return t.contextType===k.A.Vibe},get isGenerativeContext(){return t.contextType===k.A.Generative},get isPaused(){return t.status===n.Xz.PAUSED}})).actions(t=>({setContextId:e=>{t.contextId=String(e)},setContextType:e=>{t.contextType=e},setEntityMeta:e=>{e&&e.data.meta&&(t.entityMeta=c(e))},setUnloadedEntitiesData:e=>{e&&(t.unloadedEntitiesData=(0,a.pj)(e))},resetUnloadedEntitiesData:()=>{t.unloadedEntitiesData=void 0},setStatus:e=>{t.status=e},setCanMoveForward:e=>{t.canMoveForward=e},setCanMoveBackward:e=>{t.canMoveBackward=e},setVolume:e=>{t.volume=e},setCanSpeed:e=>{t.canSpeed=e},setSpeed:e=>{t.speed=e},setRepeatMode:e=>{t.repeatMode=e},setCanChangeRepeatMode:e=>{t.canChangeRepeatMode=e},setCanShuffle:e=>{t.canShuffle=e},setShuffle:e=>{t.shuffle=e},setCurrentlyPlayingTrackIndex:e=>{t.currentlyPlayingTrackIndex=e},setQuality:e=>{t.quality=e},setPlaylistFilter:e=>{t.playlistFilter=e}}));i(63901),i(94391);var _=i(16407),A=i(31669),P=i(4157),g=i(78898)},64543:function(t){t.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}},99366:function(t){t.exports={root:"EmptyPlaylistBlock_root__wpA0j",iconBackground:"EmptyPlaylistBlock_iconBackground__pnUlz",title:"EmptyPlaylistBlock_title__pQQLf",subtitle:"EmptyPlaylistBlock_subtitle__P4Q7x"}},6275:function(t){t.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverBlock:"PlaylistCard_coverBlock__1slsN",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",likeButton:"PlaylistCard_likeButton__RYXJz",menuButton:"PlaylistCard_menuButton__jFcWr",pinButton:"PlaylistCard_pinButton__jhWnL",trailerButton:"PlaylistCard_trailerButton__Qjg_U",control:"PlaylistCard_control__73YUq"}},50022:function(t,e){"use strict";e.Z=function(t){return void 0===t}},18796:function(t,e,i){"use strict";i.d(e,{f:function(){return n},i:function(){return l}});let n=t=>String(t).split(":"),l=(t,e)=>e?[t,e].join(":"):t},73056:function(t,e,i){"use strict";var n,l;i.d(e,{o:function(){return n}}),(l=n||(n={})).UNKNOWN="unknown",l.MALE="male",l.FEMALE="female"},48223:function(t,e,i){"use strict";var n,l;i.d(e,{A:function(){return n}}),(l=n||(n={})).Music="music",l.VibeTrack="vibeTrack",l.Generative="generative",l.Unknown="unknown",l.SmartPreview="smartPreview"}},function(t){t.O(0,[4361,5087,336,5253,2498,5453,7873,7888,6891,5872,6235,1990,7924,476,5708,4146,1737,4751,1282,239,4705,4205,5134,1744],function(){return t(t.s=31816)}),_N_E=t.O()}]);