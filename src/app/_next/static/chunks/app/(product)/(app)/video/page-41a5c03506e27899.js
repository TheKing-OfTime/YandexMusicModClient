(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2060],{56946:function(e,t,n){Promise.resolve().then(n.bind(n,7709)),Promise.resolve().then(n.bind(n,15706)),Promise.resolve().then(n.bind(n,28227)),Promise.resolve().then(n.bind(n,7907)),Promise.resolve().then(n.bind(n,67061)),Promise.resolve().then(n.bind(n,18344)),Promise.resolve().then(n.bind(n,43703)),Promise.resolve().then(n.bind(n,42255)),Promise.resolve().then(n.bind(n,89424)),Promise.resolve().then(n.bind(n,704)),Promise.resolve().then(n.bind(n,65436)),Promise.resolve().then(n.bind(n,36750)),Promise.resolve().then(n.bind(n,32335)),Promise.resolve().then(n.bind(n,47399)),Promise.resolve().then(n.bind(n,46559)),Promise.resolve().then(n.bind(n,13222)),Promise.resolve().then(n.bind(n,37490)),Promise.resolve().then(n.bind(n,65027)),Promise.resolve().then(n.t.bind(n,52838,23)),Promise.resolve().then(n.bind(n,60142)),Promise.resolve().then(n.bind(n,82134)),Promise.resolve().then(n.bind(n,2960)),Promise.resolve().then(n.bind(n,8263)),Promise.resolve().then(n.bind(n,28865)),Promise.resolve().then(n.bind(n,18329)),Promise.resolve().then(n.bind(n,66564)),Promise.resolve().then(n.bind(n,61473)),Promise.resolve().then(n.bind(n,11586)),Promise.resolve().then(n.bind(n,98376)),Promise.resolve().then(n.bind(n,43948)),Promise.resolve().then(n.bind(n,47690)),Promise.resolve().then(n.bind(n,65959)),Promise.resolve().then(n.bind(n,62787)),Promise.resolve().then(n.bind(n,6655)),Promise.resolve().then(n.bind(n,28593)),Promise.resolve().then(n.bind(n,14857)),Promise.resolve().then(n.bind(n,51440)),Promise.resolve().then(n.bind(n,81466)),Promise.resolve().then(n.bind(n,75689)),Promise.resolve().then(n.bind(n,49516)),Promise.resolve().then(n.bind(n,14580)),Promise.resolve().then(n.bind(n,91711)),Promise.resolve().then(n.bind(n,93630)),Promise.resolve().then(n.bind(n,99339)),Promise.resolve().then(n.bind(n,34868)),Promise.resolve().then(n.bind(n,1848)),Promise.resolve().then(n.bind(n,64251)),Promise.resolve().then(n.bind(n,80795)),Promise.resolve().then(n.bind(n,78724)),Promise.resolve().then(n.bind(n,46051)),Promise.resolve().then(n.bind(n,4805)),Promise.resolve().then(n.bind(n,76534)),Promise.resolve().then(n.bind(n,60154)),Promise.resolve().then(n.t.bind(n,2460,23)),Promise.resolve().then(n.bind(n,60797)),Promise.resolve().then(n.bind(n,15730)),Promise.resolve().then(n.bind(n,86759)),Promise.resolve().then(n.bind(n,94039)),Promise.resolve().then(n.bind(n,62938)),Promise.resolve().then(n.bind(n,65759)),Promise.resolve().then(n.bind(n,60852)),Promise.resolve().then(n.bind(n,5342)),Promise.resolve().then(n.bind(n,63005)),Promise.resolve().then(n.bind(n,32832)),Promise.resolve().then(n.bind(n,28145)),Promise.resolve().then(n.bind(n,82716)),Promise.resolve().then(n.bind(n,55762)),Promise.resolve().then(n.bind(n,84645)),Promise.resolve().then(n.bind(n,28987)),Promise.resolve().then(n.bind(n,27373)),Promise.resolve().then(n.bind(n,33728)),Promise.resolve().then(n.bind(n,83534)),Promise.resolve().then(n.bind(n,1087)),Promise.resolve().then(n.bind(n,19819)),Promise.resolve().then(n.bind(n,91364)),Promise.resolve().then(n.bind(n,44613)),Promise.resolve().then(n.bind(n,83677)),Promise.resolve().then(n.bind(n,85626)),Promise.resolve().then(n.bind(n,90135)),Promise.resolve().then(n.bind(n,64274)),Promise.resolve().then(n.bind(n,71312)),Promise.resolve().then(n.bind(n,96162)),Promise.resolve().then(n.bind(n,71177)),Promise.resolve().then(n.bind(n,69642)),Promise.resolve().then(n.bind(n,85918)),Promise.resolve().then(n.bind(n,92566)),Promise.resolve().then(n.bind(n,72981)),Promise.resolve().then(n.bind(n,52301)),Promise.resolve().then(n.bind(n,33502)),Promise.resolve().then(n.bind(n,9695)),Promise.resolve().then(n.bind(n,50553)),Promise.resolve().then(n.bind(n,47291)),Promise.resolve().then(n.bind(n,2955)),Promise.resolve().then(n.bind(n,29887)),Promise.resolve().then(n.bind(n,91970)),Promise.resolve().then(n.bind(n,66389)),Promise.resolve().then(n.bind(n,99984)),Promise.resolve().then(n.bind(n,352)),Promise.resolve().then(n.bind(n,82111)),Promise.resolve().then(n.bind(n,15830)),Promise.resolve().then(n.bind(n,91568)),Promise.resolve().then(n.bind(n,40450)),Promise.resolve().then(n.bind(n,23650)),Promise.resolve().then(n.bind(n,31357)),Promise.resolve().then(n.bind(n,87739)),Promise.resolve().then(n.bind(n,6706)),Promise.resolve().then(n.bind(n,57685)),Promise.resolve().then(n.bind(n,38228)),Promise.resolve().then(n.bind(n,78661)),Promise.resolve().then(n.bind(n,6466)),Promise.resolve().then(n.bind(n,63622)),Promise.resolve().then(n.bind(n,65216)),Promise.resolve().then(n.bind(n,34428)),Promise.resolve().then(n.bind(n,23151)),Promise.resolve().then(n.bind(n,19385)),Promise.resolve().then(n.bind(n,9469)),Promise.resolve().then(n.bind(n,45806)),Promise.resolve().then(n.bind(n,32828)),Promise.resolve().then(n.bind(n,78299)),Promise.resolve().then(n.bind(n,75806)),Promise.resolve().then(n.bind(n,52310)),Promise.resolve().then(n.bind(n,99775)),Promise.resolve().then(n.bind(n,665)),Promise.resolve().then(n.bind(n,10440)),Promise.resolve().then(n.bind(n,26234)),Promise.resolve().then(n.bind(n,73774)),Promise.resolve().then(n.bind(n,98044)),Promise.resolve().then(n.bind(n,69931)),Promise.resolve().then(n.bind(n,90150)),Promise.resolve().then(n.bind(n,71369)),Promise.resolve().then(n.bind(n,12935)),Promise.resolve().then(n.bind(n,49652)),Promise.resolve().then(n.bind(n,41480)),Promise.resolve().then(n.bind(n,73729)),Promise.resolve().then(n.bind(n,37574)),Promise.resolve().then(n.bind(n,17203)),Promise.resolve().then(n.bind(n,61235)),Promise.resolve().then(n.bind(n,91297)),Promise.resolve().then(n.bind(n,28120)),Promise.resolve().then(n.bind(n,8486)),Promise.resolve().then(n.bind(n,89030)),Promise.resolve().then(n.bind(n,38054)),Promise.resolve().then(n.bind(n,63537)),Promise.resolve().then(n.bind(n,59499)),Promise.resolve().then(n.bind(n,70752)),Promise.resolve().then(n.bind(n,47906)),Promise.resolve().then(n.bind(n,79033)),Promise.resolve().then(n.bind(n,16057)),Promise.resolve().then(n.bind(n,76882)),Promise.resolve().then(n.bind(n,45965)),Promise.resolve().then(n.bind(n,34776)),Promise.resolve().then(n.bind(n,38386)),Promise.resolve().then(n.bind(n,94253)),Promise.resolve().then(n.bind(n,73924)),Promise.resolve().then(n.bind(n,99950)),Promise.resolve().then(n.bind(n,29713)),Promise.resolve().then(n.bind(n,23667)),Promise.resolve().then(n.bind(n,78966)),Promise.resolve().then(n.bind(n,58657)),Promise.resolve().then(n.bind(n,9001)),Promise.resolve().then(n.bind(n,50885)),Promise.resolve().then(n.bind(n,80704)),Promise.resolve().then(n.bind(n,92965)),Promise.resolve().then(n.bind(n,37318)),Promise.resolve().then(n.bind(n,18348)),Promise.resolve().then(n.bind(n,96557)),Promise.resolve().then(n.bind(n,37389)),Promise.resolve().then(n.bind(n,7769)),Promise.resolve().then(n.bind(n,66264)),Promise.resolve().then(n.bind(n,87689)),Promise.resolve().then(n.bind(n,23081)),Promise.resolve().then(n.bind(n,96524)),Promise.resolve().then(n.bind(n,80512)),Promise.resolve().then(n.bind(n,61733)),Promise.resolve().then(n.bind(n,15422)),Promise.resolve().then(n.bind(n,85395)),Promise.resolve().then(n.bind(n,35724)),Promise.resolve().then(n.bind(n,75235)),Promise.resolve().then(n.bind(n,90949)),Promise.resolve().then(n.bind(n,43334)),Promise.resolve().then(n.bind(n,44368)),Promise.resolve().then(n.bind(n,9904)),Promise.resolve().then(n.bind(n,50223)),Promise.resolve().then(n.bind(n,3276)),Promise.resolve().then(n.bind(n,28612)),Promise.resolve().then(n.bind(n,62908)),Promise.resolve().then(n.bind(n,2654)),Promise.resolve().then(n.bind(n,14913)),Promise.resolve().then(n.bind(n,54884)),Promise.resolve().then(n.bind(n,8480)),Promise.resolve().then(n.bind(n,53377)),Promise.resolve().then(n.bind(n,30186)),Promise.resolve().then(n.bind(n,87845)),Promise.resolve().then(n.bind(n,29378)),Promise.resolve().then(n.bind(n,72377)),Promise.resolve().then(n.bind(n,49051)),Promise.resolve().then(n.bind(n,41341)),Promise.resolve().then(n.bind(n,92275)),Promise.resolve().then(n.bind(n,69469)),Promise.resolve().then(n.bind(n,9931)),Promise.resolve().then(n.bind(n,31138)),Promise.resolve().then(n.bind(n,77909)),Promise.resolve().then(n.bind(n,94747)),Promise.resolve().then(n.bind(n,1490)),Promise.resolve().then(n.bind(n,5811)),Promise.resolve().then(n.bind(n,61566)),Promise.resolve().then(n.bind(n,26812)),Promise.resolve().then(n.bind(n,82671))},65155:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hsl2rgb=t.adjustHue=t.safeHue=void 0,t.safeHue=(e,t)=>t>=280&&t<360?e%360:e,t.adjustHue=e=>(e+280)%360,t.hsl2rgb=(e,t,n)=>{let i=i=>{let o=(i+e/30)%12;return n-t*Math.min(n,1-n)*Math.max(-1,Math.min(o-3,9-o,1))};return[i(0),i(8),i(4)]}},18857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSettings=t.normalizeCollectionHue=t.normalizeFrequency=void 0;let i=n(50525),o=n(16634);t.normalizeFrequency=e=>Math.min(1,(0,o.round)(e)),t.normalizeCollectionHue=e=>null!=e?e:i.DEFAULT_COLLECTION_HUE,t.normalizeSettings=e=>{let{hue:n,collectionHue:o,energy:r,backgroundColor:s}=e,a={collectionHue:(0,t.normalizeCollectionHue)(o)};return n&&(a.hue=n),r&&(a.energy=(r+1)*i.ENERGY_FACTOR),s&&(a.backgroundColor=s),a}},16634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomNumber=t.round=void 0,t.round=e=>Math.round(100*e)/100,t.randomNumber=(e,t)=>Math.floor(Math.random()*(Math.floor(t)-e+1))+e},50525:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENERGY_FACTOR=t.DEFAULT_PLAYING_ENERGY=t.DEFAULT_NOT_PLAYING_ENERGY=t.DEFAULT_COLLECTION_LIGHTNESS=t.DEFAULT_COLLECTION_SATURATION=t.DEFAULT_COLLECTION_HUE=t.DEFAULT_LIGHTNESS=t.DEFAULT_SATURATION=t.DEFAULT_HUE=t.MAX_FPS=void 0,t.MAX_FPS=window.VIBE_ANIMATION_MAX_FPS ?? 25,t.DEFAULT_HUE=22.968,t.DEFAULT_SATURATION=1,t.DEFAULT_LIGHTNESS=.5,t.DEFAULT_COLLECTION_HUE=10,t.DEFAULT_COLLECTION_SATURATION=.8,t.DEFAULT_COLLECTION_LIGHTNESS=.46,t.DEFAULT_NOT_PLAYING_ENERGY=.2,t.DEFAULT_PLAYING_ENERGY=.6,t.ENERGY_FACTOR=.4},8705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;let o=n(65155),r=n(16634),s=n(50525),a=n(36967);class l{get value(){return[this.bottomStart.value,this.middleStart.value,this.topStart.value,this.bottomEnd.value,this.middleEnd.value,this.topEnd.value]}update(e,t){this.hue=e,this.collectionHue=t;let n=(0,o.adjustHue)(e),i=(0,o.safeHue)(n+(0,r.randomNumber)(40,80),n),s=(0,o.adjustHue)(t);this.topStart.update(n),this.topEnd.update((0,o.safeHue)(n+(0,r.randomNumber)(30,40),n)),this.middleStart.update(i),this.middleEnd.update((0,o.safeHue)(i+(0,r.randomNumber)(30,40),n)),this.bottomStart.update(s),this.bottomEnd.update((0,o.safeHue)(s+(0,r.randomNumber)(30,40),n))}next(e){this.topStart.next(e),this.topEnd.next(e),this.middleStart.next(e),this.middleEnd.next(e),this.bottomStart.next(e),this.bottomEnd.next(e)}constructor(e){i._(this,"hue",s.DEFAULT_HUE),i._(this,"collectionHue",s.DEFAULT_COLLECTION_HUE),i._(this,"topStart",void 0),i._(this,"topEnd",void 0),i._(this,"middleStart",void 0),i._(this,"middleEnd",void 0),i._(this,"bottomStart",void 0),i._(this,"bottomEnd",void 0),this.collectionHue=e;let t=(0,o.adjustHue)(e),n=(0,o.safeHue)(t+(0,r.randomNumber)(30,40),t);this.topStart=new a.RGB(50),this.topEnd=new a.RGB(50),this.middleStart=new a.RGB(300),this.middleEnd=new a.RGB(320),this.bottomStart=new a.RGB(t),this.bottomEnd=new a.RGB(n)}}t.Color=l},87633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicValue=void 0;class o{clamp(e,t,n){return Math.min(Math.max(e,t),n)}get value(){return this.formatter?this.formatter(this.currentValue):this.currentValue}update(e){this.targetValue=e,this.elapsedTime=0}next(e){let t=this.clamp(this.elapsedTime/this.duration,0,1);return this.elapsedTime+=e,this.currentValue=this.currentValue+(this.targetValue-this.currentValue)*t,this.currentValue}constructor(e,t,n,o){i._(this,"currentValue",void 0),i._(this,"targetValue",void 0),i._(this,"elapsedTime",void 0),i._(this,"duration",void 0),i._(this,"formatter",void 0),this.currentValue=e,this.targetValue=t,this.duration=n,this.elapsedTime=0,this.formatter=o}}t.DynamicValue=o},41404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.VibeAnimationRenderer=void 0;let o=n(74785),r=n(18857),s=n(50525),a=n(34364),l=n(14117),d=n(856),u=n(62158);class h{get rendererOptions(){let{width:e,height:t}=this.uniforms.size;return{alpha:!1,antialias:!1,preserveDrawingBuffer:!1,width:e,height:t}}get vertexAndFragment(){return{vertex:a.VertexShaderV2,fragment:a.FragmentShaderV2}}setupListeners(){document.addEventListener("visibilitychange",this.handleOnVisibilityChange)}createElement(e){e.innerHTML="",e.appendChild(this.renderer.gl.canvas)}createShader(){let e=this.renderer.gl,t=new o.Plane(e,{width:2,height:2}),n=new o.Program(e,{...this.vertexAndFragment,uniforms:this.uniforms.toObject()});return new o.Mesh(e,{geometry:t,program:n}).setParent(this.scene),n}render(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.uniforms.update(t,this.analyser),this.shader.uniforms=this.uniforms.toObject(),null===(e=this.renderer)||void 0===e||e.render({scene:this.scene})}handleOnVisibilityChange(){"visible"===document.visibilityState?this.enableRender(l.RenderState.ACTIVE_TAB):this.disableRender(l.RenderState.ACTIVE_TAB)}updateRenderingState(){Object.values(this.renderState).every(e=>e)?this.ticker.start():this.ticker.stop()}applySettings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hue:t,collectionHue:n,energy:i,backgroundColor:o}=(0,r.normalizeSettings)(e);t&&n&&this.uniforms.updateColor(t,n),i&&this.uniforms.updateEnergy(i),o&&this.uniforms.updateBackgroundColor(o)}likeAnimation(){this.uniforms.updateReactTop(.7),setTimeout(()=>{this.uniforms.updateReactMiddle(.7)},100),setTimeout(()=>{this.uniforms.updateReactBottom(.7)},150),setTimeout(()=>{this.uniforms.updateReactTop(0)},850),setTimeout(()=>{this.uniforms.updateReactMiddle(0)},950),setTimeout(()=>{this.uniforms.updateReactBottom(0)},1050)}playAnimation(e){var t;let n={...e,energy:null!==(t=e.energy)&&void 0!==t?t:s.DEFAULT_PLAYING_ENERGY};this.uniforms.updatePlayingState(!0),this.applySettings(n)}idleAnimation(){this.uniforms.updateEnergy(s.DEFAULT_NOT_PLAYING_ENERGY),this.uniforms.updatePlayingState(!1)}enableRender(e){this.renderState[e]=!0,this.updateRenderingState()}disableRender(e){this.renderState[e]=!1,this.updateRenderingState()}destroy(){this.handleOnVisibilityChange&&document.removeEventListener("visibilitychange",this.handleOnVisibilityChange)}constructor(e,t,n){i._(this,"analyser",void 0),i._(this,"ticker",void 0),i._(this,"scene",new o.Transform),i._(this,"shader",void 0),i._(this,"renderer",void 0),i._(this,"uniforms",void 0),i._(this,"renderState",{[l.RenderState.ACTIVE_TAB]:!0,[l.RenderState.BLOCK_VISIBILITY]:!0,[l.RenderState.MANUAL]:!0}),this.uniforms=new u.Uniforms((0,r.normalizeCollectionHue)(n)),this.renderer=new o.Renderer(this.rendererOptions),this.ticker=new d.Ticker(s.MAX_FPS,this.render.bind(this)),this.analyser=t,this.createElement(e),this.handleOnVisibilityChange=this.handleOnVisibilityChange.bind(this),this.shader=this.createShader(),this.handleOnVisibilityChange(),this.setupListeners()}}t.VibeAnimationRenderer=h},36967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;let o=n(65155),r=n(50525),s=n(87633);class a{get value(){return[this.r.value,this.g.value,this.b.value]}update(e){let t=(0,o.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r.update(t[0]),this.g.update(t[1]),this.b.update(t[2])}next(e){this.r.next(e),this.g.next(e),this.b.next(e)}constructor(e){i._(this,"r",void 0),i._(this,"g",void 0),i._(this,"b",void 0);let t=(0,o.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r=new s.DynamicValue(t[0],t[0],3e3),this.g=new s.DynamicValue(t[1],t[1],3e3),this.b=new s.DynamicValue(t[2],t[2],3e3)}}t.RGB=a},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0;class o{start(){if(this.isActive)return;let e=window.performance.now(),t=1e3/this.fps,n=i=>{this.requestId=requestAnimationFrame(n);let o=i-e;o>=t-.1&&(e=i-o%t,this.render(o))};this.isActive=!0,this.requestId=requestAnimationFrame(n)}stop(){this.isActive&&(this.isActive=!1,cancelAnimationFrame(this.requestId))}constructor(e,t){i._(this,"fps",void 0),i._(this,"render",void 0),i._(this,"isActive",!1),i._(this,"requestId",0),this.fps=e,this.render=t}}t.Ticker=o},62158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(29397);Object.defineProperty(t,"__esModule",{value:!0}),t.Uniforms=void 0;let o=n(74785),r=n(50525),s=n(8705),a=n(87633);class l{toValue(e){return{value:e}}get size(){return{width:this.width,height:this.height}}updateSize(){this.width=Math.min(window.innerWidth*this.quality,800),this.height=Math.min(window.innerHeight*this.quality,800)}updatePlayingState(e){this.isPlaying=e,e?(this.audioLowRatio.update(1),this.audioMiddleRatio.update(1),this.audioHighRatio.update(1)):(this.audioLowRatio.update(0),this.audioMiddleRatio.update(0),this.audioHighRatio.update(0))}updateColor(e,t){this.color.update(e,t)}updateBackgroundColor(e){this.background=new o.Vec3(e,e,e)}updateEnergy(e){this.energy.update(e)}updateReactTop(e){this.reactTop.update(e)}updateReactMiddle(e){this.reactMiddle.update(e)}updateReactBottom(e){this.reactBottom.update(e)}updateTime(e){let t=this.energy.value*e/1e3;this.time=(this.time+t)%86400}update(e,t){if(this.energy.next(e),this.color.next(e),this.reactTop.next(e),this.reactMiddle.next(e),this.reactBottom.next(e),this.updateTime(e),t){let n=t.getAverageFrequencies({low:0,high:250}),i=t.getAverageFrequencies({low:500,high:2e3}),o=t.getAverageFrequencies({low:2e3,high:4e3});this.audioLowRatio.next(e),this.audioMiddleRatio.next(e),this.audioHighRatio.next(e),this.audio=[n*this.audioLowRatio.value,i*this.audioMiddleRatio.value,o*this.audioHighRatio.value]}}toObject(){return{vScreenSize:this.toValue(new o.Vec2(this.width,this.height)),vTime:this.toValue(this.time),vColorBackground:this.toValue(this.background),vColor:this.toValue(this.color.value),vRotation:this.toValue(this.rotation),vAudio:this.toValue(this.audio),vReact:this.toValue([this.reactTop.value,this.reactMiddle.value,this.reactBottom.value]),vInteractionPoint:this.toValue(this.point),vInteraction:this.toValue(this.interaction)}}constructor(e){i._(this,"isPlaying",!1),i._(this,"quality",.6),i._(this,"background",new o.Vec3(0,0,0)),i._(this,"energy",new a.DynamicValue(r.DEFAULT_NOT_PLAYING_ENERGY,r.DEFAULT_NOT_PLAYING_ENERGY,1e3)),i._(this,"time",Math.floor(3600*Math.random())),i._(this,"color",void 0),i._(this,"rotation",[new o.Vec3(-.3,.3,.2),new o.Vec3(-.3,-.3,-.2),new o.Vec3(-.3,-.3,.2)]),i._(this,"audio",[0,0,0]),i._(this,"audioLowRatio",new a.DynamicValue(0,0,1e3)),i._(this,"audioMiddleRatio",new a.DynamicValue(0,0,1e3)),i._(this,"audioHighRatio",new a.DynamicValue(0,0,1e3)),i._(this,"reactTop",new a.DynamicValue(0,0,600)),i._(this,"reactMiddle",new a.DynamicValue(0,0,600)),i._(this,"reactBottom",new a.DynamicValue(0,0,600)),i._(this,"point",[0,0]),i._(this,"interaction",0),i._(this,"width",0),i._(this,"height",0),this.color=new s.Color(e),this.updateSize()}}t.Uniforms=l},43131:function(e,t,n){"use strict";t.TP=t.UE=t.nT=t.dr=t.kB=t.wX=void 0;var i=n(65155);Object.defineProperty(t,"wX",{enumerable:!0,get:function(){return i.hsl2rgb}}),Object.defineProperty(t,"kB",{enumerable:!0,get:function(){return i.adjustHue}});var o=n(41404);Object.defineProperty(t,"dr",{enumerable:!0,get:function(){return o.VibeAnimationRenderer}});var r=n(14117);Object.defineProperty(t,"nT",{enumerable:!0,get:function(){return r.RenderState}});var s=n(50525);Object.defineProperty(t,"UE",{enumerable:!0,get:function(){return s.DEFAULT_COLLECTION_SATURATION}}),Object.defineProperty(t,"TP",{enumerable:!0,get:function(){return s.DEFAULT_COLLECTION_LIGHTNESS}})},34364:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShaderV2=t.VertexShaderV2=void 0,t.VertexShaderV2="\nprecision highp float;\nattribute vec4 position;\n\nvoid main() {\n    gl_Position = position;\n}\n",t.FragmentShaderV2="\nprecision highp float;\n\nuniform vec2 vScreenSize;\nuniform float vTime;\n\nuniform vec3 vColorBackground;\n\nuniform vec3 vColor[6];\nuniform vec3 vRotation[3];\n\nuniform float vAudio[3];\nuniform float vReact[3];\n\nuniform vec2 vInteractionPoint;\nuniform float vInteraction;\n\n#define CIRCLE_WIDTH_BASE 0.8\n#define CIRCLE_WIDTH_STEP 0.2\n\n#define SPARK_STRENGTH_BASE 1.0\n#define SPARK_STRENGTH_STEP 0.3\n\n#define CIRCLE_RADIUS_BASE 0.95\n#define CIRCLE_RADIUS_STEP 0.15\n\n#define CIRCLE_OFFSET_BASE 0.0\n#define CIRCLE_OFFSET_STEP 1.57\n\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise3(vec3 v) {\n  const vec2 C = vec2(0.1666667, 0.3333333); // vec2(1.0/6.0, 1.0/3.0)\n  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i = floor(v + dot(v, C.yyy));\n  vec3 x0 = v - i + dot(i, C.xxx);\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min(g.xyz, l.zxy);\n  vec3 i2 = max(g.xyz, l.zxy);\n\n  // x0 = x0 - 0. + 0.0 * C\n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n  // Permutations\n  i = mod(i, 289.0);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients ( N*N points uniformly over a square, mapped onto an octahedron.)\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3 ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z); //  mod(p,N*N), N=7\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));\n}\n\nfloat tri(in float x){return abs(fract(x)-.5);}\nvec3 tri3(in vec3 p){return vec3( tri(p.z+tri(p.y*20.)), tri(p.z+tri(p.x*1.)), tri(p.y+tri(p.x*1.)));}\n\nfloat triNoise3D(in vec3 p, in float spd)\n{\n  float z=0.4;\n  float rz = 0.1;\n  vec3 bp = p;\n  for (float i=0.; i<=4.; i++ )\n  {\n    vec3 dg = tri3(bp*0.01); // Increase the scale factor to make noise less frequent\n    p += (dg+vTime*.1*spd);\n\n    bp *= 4.; // Increase the scale factor\n    z *= 0.9;\n    p *= 1.6; // Increase the scale factor\n\n    rz+= (tri(p.z+tri(0.6*p.x+0.1*tri(p.y))))/z;\n  }\n  return smoothstep(0.0, 8., rz + sin(rz + sin(z) * 2.8) * 2.2);\n}\n\nvec2 rotate(vec2 p, float a) {\n  float s = sin(a);\n  float c = cos(a);\n  return vec2(p.x * c - p.y * s, p.x * s + p.y * c);\n}\n\nfloat light(float intensity, float attenuation, float dist) {\n  return intensity / (1.0 + dist + dist * attenuation);\n}\n\nvec4 makeNoiseBlob2(vec2 uv, vec3 color1, vec3 color2, float strength, float offset) {\n  float len = length(uv);\n  float v0, v1, cl;\n  float r0, d0, n0;\n  float r, d;\n\n  n0 = snoise3( vec3(uv * 1.2 + offset, vTime * 0.5 + offset) ) * 0.5 + 0.5;\n  r0 = mix(0.0, 1.0, n0);\n  d0 = distance(uv, r0 / len * uv);\n  v0 = smoothstep(r0 + 0.1 + (sin(vTime + offset) + 1.0), r0, len);\n\n  v1 = light(0.15 * (1.0 + 1.5 * (-sin(vTime * 2. + offset * 0.5) * 0.5)) + 0.3 * strength, 10.0 , d0);\n\n  vec3 col = mix(color1, color2, uv.y * 2.);\n  col = col + v1;\n  col.rgb = clamp(col.rgb, 0.0, 1.0);\n  return vec4(col, v0);\n}\n\nvec4 makeBlob(vec2 uv,\n              float blob,\n              vec3 color1,\n              vec3 color2,\n              float width,\n              float baseReaction,\n              float likeReaction,\n              float audioStrength,\n              float offset,\n              vec2 noiseOffset) {\n  float len = length(uv);\n\n  float outerRadius = blob + width * 0.5 + baseReaction * (1.0 + max(likeReaction, audioStrength * 0.6) * 50. * baseReaction);\n\n  float strength = max(likeReaction, audioStrength);\n\n  vec4 noise = makeNoiseBlob2(uv * (1.0 - likeReaction * 0.5) + noiseOffset, color1, color2, strength, offset);\n  noise.a = mix(0.0, noise.a, smoothstep(outerRadius, 0.5, len));\n  noise.rgb += 0.6 * likeReaction * (1.0 - smoothstep(0.2, outerRadius * 0.8, len));\n\n  return noise;\n}\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vScreenSize.xy;\n\n  uv = uv * 2.0 - 1.0;\n  uv.y *= vScreenSize.y / min(vScreenSize.x, vScreenSize.y) / 0.5;\n  uv.x *= vScreenSize.x / min(vScreenSize.x, vScreenSize.y) / 0.5;\n\n  vec2 ruv = uv * 2.0;\n  float pr = length(ruv);\n  float pa = atan(ruv.y, ruv.x);\n\n  float idx = (pa/3.1415) / 2.0;   // 0 to 1\n\n  vec2 ruv1 = rotate(uv * 2.0, 3.1415);\n  float pa1 = atan(ruv1.y, ruv1.x);\n  float idx1 = (pa1/3.1415) / 2.0;   // 0 to 1\n  float idx21 = (pa1/3.1415 + 1.0) / 2.0 * 3.1415; // 0 to PI\n\n  float spark = triNoise3D(vec3(idx, 0.0, 0.0), 0.1);\n  spark = mix(spark, triNoise3D(vec3(idx1, 0.0, idx1), 0.1), smoothstep(0.9, 1.0, sin(idx21)));\n  spark = spark * 0.2 + pow(spark, 10.);\n  spark = smoothstep(0.0, spark, 0.3) * spark;\n\n  vec3 color = vColorBackground;\n  vec4 blobColor;\n  float floatIndex;\n  float radius;\n\n  float n0 = snoise3(vec3(uv * 1.2, vTime * 0.5));\n\n  for (int i = 0; i < 3; i++) {\n    floatIndex = float(i);\n    radius = CIRCLE_RADIUS_BASE - CIRCLE_RADIUS_STEP * floatIndex;\n    blobColor = makeBlob(uv,\n                         mix(radius, radius + 0.3, n0),\n                         vColor[i],\n                         vColor[i+3],\n                         CIRCLE_WIDTH_BASE - CIRCLE_WIDTH_STEP * floatIndex,\n                         (SPARK_STRENGTH_BASE - SPARK_STRENGTH_STEP * floatIndex) * spark,\n                         vReact[i],\n                         vAudio[i],\n                         CIRCLE_OFFSET_BASE + CIRCLE_OFFSET_STEP * floatIndex,\n                         rotate(vRotation[i].xy, vTime * vRotation[i].z));\n    color = mix(color, blobColor.rgb, blobColor.a);\n  }\n\n  gl_FragColor = vec4(color, 1.0);\n}\n"},14117:function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderState=void 0,(i=n||(t.RenderState=n={})).ACTIVE_TAB="ACTIVE_TAB",i.BLOCK_VISIBILITY="BLOCK_VISIBILITY",i.MANUAL="MANUAL"},79001:function(e,t,n){"use strict";n.d(t,{C:function(){return V},F:function(){return u}});var i,o,r=n(71859),s=n(20794);let a=e=>({serviceSessionId:e.serviceSessionId}),l=e=>{let{target:t,serviceSessionId:n,offersBatchId:i,offersPositionIds:o}=e;return{serviceSessionId:n,target:t,offersBatchId:i,offersPositionIds:o}},d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{frontSessionStart:n,loadOffersResulted:i}=(0,s.E_I)(t);(0,r.useEffect)(()=>{e.loadingState!==s.Gui.RESOLVE||e.isFrontSessionStartSent||(n(a(e)),e.toggleIsFrontSessionStartSentTrue())},[e,e.loadingState,e.isFrontSessionStartSent,n]),(0,r.useEffect)(()=>{e.loadingState!==s.Gui.RESOLVE||e.isLoadOffersResultSent||(i(l(e)),e.toggleIsLoadOffersResultSentTrue())},[e,e.loadingState,e.isLoadOffersResultSent,i])},u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{user:n,offers:i}=(0,s.oR4)(),o=i[e],{payment:{environment:a}}=(0,s.uK4)().get(s.U5t);return(0,r.useEffect)(()=>{if(t&&o.isNeededToLoad){let e="production"===a?n.account.uid:void 0;o.getData({uid:e})}},[t,o,o.isNeededToLoad,a,n]),d(o,t),o};var h=n(97898);let v=e=>(0,h.pj)(e),c=e=>{let{plans:t,...n}=e;return(0,h.pj)({...n,plans:t.map(v)})},m=e=>{let{option:t,...n}=e;return(0,h.pj)({...c(n),option:t})},b=e=>{if(!e)return null;let{tariff:t,...n}=e;return(0,h.pj)({...c(n),tariff:t})},f=e=>{let{positionId:t,silentInvoiceAvailable:n,structureType:i,tariffOffer:o,optionOffers:r}=e;return(0,h.pj)({positionId:t,silentInvoiceAvailable:n,structureType:i,tariffOffer:b(o),optionsOffers:r.map(m)})},p=e=>{let{eventSessionId:t,batchPositionId:n,offers:i}=e;return(0,h.pj)({eventSessionId:t,batchPositionId:n,offers:i.map(f)})};(i=o||(o={})).COMPOSITE="COMPOSITE",i.OPTION="OPTION",i.TARIFF="TARIFF";var P=n(32739);let _=h.V5.model({amount:h.V5.number,currency:h.V5.string}),g=h.V5.model({typename:h.V5.literal(P.f.IntroPlan),period:h.V5.string,price:_,repeatCount:h.V5.number}),S=h.V5.model({typename:h.V5.literal(P.f.IntroUntilPlan),price:_,until:h.V5.string}),x=h.V5.model({typename:h.V5.literal(P.f.TrialPlan),period:h.V5.string}),y=h.V5.model({typename:h.V5.literal(P.f.TrialUntilPlan),until:h.V5.string}),E=h.V5.union(g,S,x,y),T=h.V5.model({name:h.V5.string}),C=h.V5.model({additionText:h.V5.string,description:h.V5.string,name:h.V5.string,text:h.V5.string,title:h.V5.string,plans:h.V5.array(E),commonPeriod:h.V5.string,commonPrice:_}),R=C.props({option:T}),I=C.props({tariff:T}),O=h.V5.model({positionId:h.V5.string,silentInvoiceAvailable:h.V5.boolean,structureType:h.V5.enumeration(Object.values(o)),tariffOffer:h.V5.maybeNull(I),optionsOffers:h.V5.array(R)}),A=h.V5.model({eventSessionId:h.V5.string,batchPositionId:h.V5.string,offers:h.V5.array(O)}),L=h.V5.model({loadingState:h.V5.enumeration(Object.values(s.Gui)),isFrontSessionStartSent:h.V5.maybe(h.V5.boolean),isLoadOffersResultSent:h.V5.maybe(h.V5.boolean),data:h.V5.maybeNull(A)}).views(e=>({get isNeededToLoad(){return e.loadingState===s.Gui.IDLE},get isLoading(){return e.loadingState===s.Gui.PENDING},get isLoaded(){return e.loadingState===s.Gui.RESOLVE},get isRejected(){return e.loadingState===s.Gui.REJECT},get isShimmerVisible(){return this.isNeededToLoad||this.isLoading||this.isRejected},get isShimmerActive(){return this.isLoading},get target(){return"music"},get features(){return},get offerPosition(){return 0},get offer(){var t;return null===(t=e.data)||void 0===t?void 0:t.offers[this.offerPosition]},get offersPositionId(){var n;return(null===(n=this.offer)||void 0===n?void 0:n.positionId)||""},get tariffOffer(){var i;return null===(i=this.offer)||void 0===i?void 0:i.tariffOffer},get mainText(){var o;return null===(o=this.tariffOffer)||void 0===o?void 0:o.text},get additionText(){var r;return null===(r=this.tariffOffer)||void 0===r?void 0:r.additionText},get serviceSessionId(){var a;return(null===(a=e.data)||void 0===a?void 0:a.eventSessionId)||""},get offersBatchId(){var l;return(null===(l=e.data)||void 0===l?void 0:l.batchPositionId)||""},get offersPositionIds(){var d;return(null===(d=e.data)||void 0===d?void 0:d.offers.map(e=>e.positionId))||[]}})).actions(e=>({toggleIsFrontSessionStartSentTrue(){e.isFrontSessionStartSent=!0},toggleIsLoadOffersResultSentTrue(){e.isLoadOffersResultSent=!0},getData:(0,h.ls)(function*(t){let{uid:n}=t,{offersResource:i,modelActionsLogger:o}=(0,h.dU)(e);if(e.loadingState!==s.Gui.PENDING){e.isFrontSessionStartSent=!1,e.isLoadOffersResultSent=!1;try{e.loadingState=s.Gui.PENDING;let t=yield i.getCompositeOffers({uid:n,target:e.target,features:e.features}),o=p(t);e.data=o,e.loadingState=s.Gui.RESOLVE}catch(t){e.loadingState=s.Gui.REJECT,o.error(t)}}})})).named("MusicOffers"),V=h.V5.model("Offers",{music:L})},94370:function(e,t,n){"use strict";n.d(t,{Qw:function(){return g},_$:function(){return u},c8:function(){return o},tP:function(){return a}});var i,o,r=n(71859),s=n(20794);let a=e=>{let{target:t,tariffOfferName:n,serviceSessionId:i="",isEnabled:o=!0}=e,{paymentWidgetModal:{modal:a,setTarget:l,setTariffOfferName:d,setServiceSessionId:u}}=(0,s.oR4)();return{open:(0,r.useCallback)(()=>{o&&(l(t),u(i),n&&d(n),a.open())},[d,l,u,t,n,i,a,o]),isOpened:a.isOpened}};var l=n(97898),d=n(15526);(i=o||(o={})).IDLE="idle",i.SUCCESS="success",i.ERROR="error";let u=l.V5.model({modal:d.KL,target:l.V5.string,tariffOfferName:l.V5.string,serviceSessionId:l.V5.string,status:l.V5.enumeration(Object.values(o))}).views(e=>({get isSuccess(){return e.status===o.SUCCESS},get isError(){return e.status===o.ERROR}})).actions(e=>({setTarget(t){e.target=t},setTariffOfferName(t){e.tariffOfferName=t},setServiceSessionId(t){e.serviceSessionId=t},setStatus(t){e.status=t},reset(){e.target="",e.tariffOfferName="",e.serviceSessionId="",e.status=o.IDLE}}));var h=n(95660),v=n(23974),c=n(44744),m=n(81014),b=n(52074);let f=null,p=e=>{let{className:t,target:n,serviceSessionId:i,tariffOfferName:o,onLoad:a,onSuccess:l,onError:d,onClose:u}=e,v=(0,r.useRef)(null),{theme:c}=(0,s.FgM)(),{pwTools:m}=(0,s.N7D)(),b=(0,r.useCallback)(()=>{null==l||l()},[l]),p=(0,r.useCallback)(()=>{null==d||d()},[d]),P=(0,r.useCallback)(()=>{null==u||u()},[u]),_=(0,r.useCallback)(e=>{"loaded"===e.data.status&&(null==a||a())},[a]),g=(0,r.useCallback)(async()=>{if(!m||!v.current)return;let{lang:e,mode:t,platform:r,widgetServiceName:s,authMethod:a}=m.options;if(!f)try{f=await m.loadManager()}catch(e){P();return}f.send({type:"init",options:{lang:e,mode:t,platform:r,widgetServiceName:s,authMethod:a,usePlusHost:!0,theme:c,onSuccess:b,onError:p,onReport:_,onClose:P}}),f.send({type:"open",options:{target:n,eventSessionId:i,tariffOfferName:o,targetNode:v.current,isTarifficator:!0}})},[c,m,n,o,i,b,p,_,P]);return(0,r.useEffect)(()=>(g(),()=>{null==f||f.send({type:"close"})}),[g]),(0,h.jsx)("div",{className:t,ref:v})};var P=n(34099),_=n.n(P);let g=(0,c.Pi)(()=>{let{state:e,toggleTrue:t}=(0,m.O)(!1),{paymentWidgetModal:n,advert:i}=(0,s.oR4)();(0,r.useEffect)(()=>()=>{n.reset()},[n]);let a=(0,r.useCallback)(()=>{n.setStatus(o.SUCCESS)},[n]),l=(0,r.useCallback)(()=>{n.modal.close(),n.isSuccess&&window.location.reload(),n.reset()},[n]),d=(0,r.useCallback)(()=>{n.setStatus(o.ERROR)},[n]);return(0,h.jsx)(b.u,{open:n.modal.isOpened,size:"fitContent",placement:"center",showHeader:!1,withAnimation:!1,className:(0,v.W)(_().root,{[_().root_loaded]:e,[_().root_level_up]:i.isAdvertShown}),contentClassName:_().content,overlayColor:"full",children:(0,h.jsx)(p,{className:_().widget,target:n.target,serviceSessionId:n.serviceSessionId,tariffOfferName:n.tariffOfferName,onLoad:t,onSuccess:a,onError:d,onClose:l})})})},97547:function(e,t,n){"use strict";n.d(t,{CS:function(){return S},xU:function(){return v}});var i=n(97667),o=n(71859),r=n(32739),s=n(79001),a=n(94370),l=n(20794);let d=e=>{let{onClick:t,offerElement:n,isEnabled:i}=e,{element:r}=n||{};(0,o.useEffect)(()=>{if(r&&i)return r.addEventListener("click",t),()=>r.removeEventListener("click",t)},[r,t,i])};var u=n(30020);let h=e=>{var t;let{onShow:n,offerElement:i,isEnabled:r=!0}=e,s=(0,o.useRef)(null),{element:a,intersectionPropertyId:l}=i||{},d=(0,o.useMemo)(()=>a?(s.current=a,[s]):[],[a]),{isIntersecting:h}=null!==(t=(0,u.S1)(d,{preflightCheck:!1},!a||!r)[null!=l?l:""])&&void 0!==t?t:{};(0,o.useEffect)(()=>{h&&n()},[h,n])},v=e=>{let{storeName:t,offerElement:n,isEnabled:u=!0}=e,v=(0,i.useRouter)(),{mainText:c,additionText:m,isShimmerVisible:b,isShimmerActive:f,target:p,tariffOffer:P,serviceSessionId:_,offerPosition:g,offersBatchId:S,offersPositionId:x}=(0,s.F)(t,u),{open:y,isOpened:E}=(0,a.tP)({target:p,serviceSessionId:_,tariffOfferName:null==P?void 0:P.name,isEnabled:u}),{offersShown:T,offersClicked:C}=(0,l.E_I)(u),R=(0,o.useCallback)(()=>{u&&T({serviceSessionId:_,offersBatchId:S,offersPositionId:x,position:g})},[T,_,S,x,g,u]),I=(0,o.useCallback)(()=>{u&&C({serviceSessionId:_,offersBatchId:S,offersPositionId:x})},[C,_,S,x,u]);h({offerElement:n,isEnabled:u,onShow:R}),d({offerElement:n,isEnabled:u,onClick:I});let O=(0,l.uK4)(),A=(0,o.useCallback)(()=>{let e=O.get(l.xit),t=O.get(l.ArX);e.authorizationUrl&&(t.set(l.BUb.Offer,{target:p,serviceSessionId:_,tariffOfferName:null==P?void 0:P.name}),v.push(e.authorizationUrl))},[O,v,p,_,P]);return{mainText:c,additionText:m,isShimmerVisible:b,isShimmerActive:f,trialPlanPeriod:(0,o.useMemo)(()=>{var e,t,n,i;if((null==P?void 0:null===(t=P.plans)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.typename)===r.f.TrialPlan)return null==P?void 0:null===(i=P.plans)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.period},[P]),openPaymentWidgetModal:y,offersShown:R,offersClicked:I,saveOfferAndAuthorize:A,isPaymentWidgetModalOpened:E}};var c=n(95660),m=n(44744),b=n(71037),f=n(93062),p=n(52074),P=n(42255),_=n(18344);let g=e=>{let{className:t,mainTextClassName:n,additionTextClassName:i,onClick:r,isShimmerActive:s,isShimmerVisible:a,mainText:l,additionText:d,forwardRef:u,...h}=e,v=(0,o.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),null==r||r()},[r]);return a?(0,c.jsx)(_.Shimmer,{className:t,isActive:s,radius:"xxxl"}):(0,c.jsxs)(f.z,{ref:u,className:t,isBlock:!0,color:"plus",variant:"default",size:"l",radius:"xxxl",onClick:v,...h,children:[(0,c.jsx)(P.Caption,{className:n,variant:"div",size:"l",lineClamp:1,children:l}),(0,c.jsx)(P.Caption,{className:i,variant:"div",size:"xs",lineClamp:1,children:d})]})},S=(0,o.forwardRef)((e,t)=>(0,c.jsx)(g,{forwardRef:t,...e}));var x=n(99532),y=n.n(x);let E="buy-subscription-modal",T=(0,m.Pi)(()=>{let e=(0,o.useRef)(null),t=(0,i.useRouter)(),n=(0,l.uK4)().get(l.xit),{openPaymentWidgetModal:r,isShimmerActive:s,isShimmerVisible:a,mainText:d,additionText:u,saveOfferAndAuthorize:h}=v({storeName:"music",offerElement:{element:e.current,intersectionPropertyId:E}}),{modals:{buySubscriptionModal:m},user:_}=(0,l.oR4)(),g=(0,o.useCallback)(()=>{if(m.close(),!_.isAuthorized){h();return}r()},[m,r,h,_.isAuthorized]),x=(0,o.useCallback)(()=>{m.close(),n.authorizationUrl&&t.push(n.authorizationUrl)},[n.authorizationUrl,m,t]);return(0,c.jsxs)(p.u,{className:y().root,headerClassName:y().header,contentClassName:y().content,size:"fitContent",placement:"default",open:m.isOpened,onOpenChange:m.onOpenChange,onClose:m.close,lockScroll:!0,children:[(0,c.jsx)(P.Caption,{className:y().heading,variant:"div",weight:"bold",children:(0,c.jsx)(b.Z,{id:"buy-subscription.listen-without-restrictions",values:{nbsp:"\xa0"}})}),(0,c.jsxs)("div",{className:y().buttons,children:[(0,c.jsx)(S,{ref:e,"data-intersection-property-id":E,mainText:d,additionText:u,isShimmerActive:s,isShimmerVisible:a,onClick:g,className:y().button,mainTextClassName:y().buttonMainText,additionTextClassName:y().buttonAdditionText}),(0,c.jsx)(f.z,{onClick:x,className:y().button,isBlock:!0,color:"secondary",variant:"default",size:"l",radius:"xxxl",children:(0,c.jsx)(P.Caption,{className:y().buttonMainText,variant:"span",weight:"bold",children:(0,c.jsx)(b.Z,{id:"buy-subscription.already-in-plus",values:{nbsp:"\xa0"}})})})]})]})});(0,m.Pi)(e=>{let{children:t}=e,{paymentWidgetModal:n}=(0,l.oR4)(),{shouldShowBuySubscriptionModal:i,showBuySubscriptionModal:r,hideBuySubscriptionModal:s}=(0,l.vLf)();return((0,o.useEffect)(()=>{if(i){if(n.modal.isOpened){s();return}r()}},[s,n.modal.isOpened,i,r]),i)?(0,c.jsxs)(c.Fragment,{children:[t,(0,c.jsx)(T,{})]}):t})},299:function(e,t,n){"use strict";n.d(t,{i:function(){return _},C:function(){return o}});var i=n(43131);let o=e=>{let t=(0,i.wX)((0,i.kB)(e),i.UE,i.TP),n=Math.round(255*t[0]),o=Math.round(255*t[1]),r=Math.round(255*t[2]);return"rgb(".concat(n,", ").concat(o,", ").concat(r,")")};var r=n(95660),s=n(23974),a=n(44744),l=n(71859),d=n(9883),u=n(20062),h=n(30020),v=n(37460),c=n(20794);let m=e=>{if(!e)return;let{width:t,height:n}=e.uniforms.size;return{"--vibe-animation-width":"".concat(2*t,"px"),"--vibe-animation-height":"".concat(2*n,"px")}},b=e=>{var t,n;let[i,o]=(0,l.useState)({}),{sonataState:r}=(0,c.oR4)();(0,l.useEffect)(()=>{if(r.contextType===u.A.Vibe){var t,n,s,a;i.id===(null===(t=r.entityMeta)||void 0===t?void 0:t.id)&&!i.isLiked&&(null===(a=r.entityMeta)||void 0===a?void 0:a.isLiked)&&e(),o({id:null===(n=r.entityMeta)||void 0===n?void 0:n.id,isLiked:null===(s=r.entityMeta)||void 0===s?void 0:s.isLiked})}},[r.contextType,null===(t=r.entityMeta)||void 0===t?void 0:t.id,null===(n=r.entityMeta)||void 0===n?void 0:n.isLiked,i.id,i.isLiked,e])};var f=n(35781),p=n.n(f);let P="vibe-animation",_=(0,a.Pi)(e=>{var t,n,o,a,f,_,g;let{className:S}=e,x=(0,l.useRef)(null),[y,E]=(0,c.zU3)(),{isIntersecting:T}=null!==(g=(0,h.S1)([x])[P])&&void 0!==g?g:{},{sonataState:C,user:R}=(0,c.oR4)(),{theme:I}=(0,c.FgM)(),O=(0,c.jpI)(),A=C.status===v.Xz.PLAYING&&C.contextType===u.A.Vibe;return(0,l.useEffect)(()=>{if(x.current){var e,t;let n=null===(t=C.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,o=R.collectionHue;E(new i.dr(x.current,null==O?void 0:O.analyser,o)),null==y||y.applySettings({hue:n,collectionHue:o}),x.current.classList.add(p().root_visible)}return()=>{null==y||y.destroy()}},[]),(0,l.useEffect)(()=>{var e,t,n,i,o,r;let s=null===(t=C.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,a=null===(i=C.entityMeta)||void 0===i?void 0:null===(n=i.trackParameters)||void 0===n?void 0:n.energy,l=null===(r=C.entityMeta)||void 0===r?void 0:null===(o=r.trackParameters)||void 0===o?void 0:o.userCollectionHue;l&&R.setUserCollectionHue(l),A?null==y||y.playAnimation({hue:s,collectionHue:l,energy:a}):null==y||y.idleAnimation()},[R,A,null===(n=C.entityMeta)||void 0===n?void 0:null===(t=n.trackParameters)||void 0===t?void 0:t.hue,null===(a=C.entityMeta)||void 0===a?void 0:null===(o=a.trackParameters)||void 0===o?void 0:o.energy,null===(_=C.entityMeta)||void 0===_?void 0:null===(f=_.trackParameters)||void 0===f?void 0:f.userCollectionHue,y]),(0,l.useEffect)(()=>{let e=I===c.Q2A.Dark?.0705:.9607;null==y||y.applySettings({backgroundColor:e})},[y,I]),(0,l.useEffect)(()=>{y&&(T?y.enableRender(i.nT.BLOCK_VISIBILITY):y.disableRender(i.nT.BLOCK_VISIBILITY))},[T,y]),b((0,l.useCallback)(()=>{null==y||y.likeAnimation()},[y])),(0,r.jsx)("div",{style:m(y),className:(0,s.W)(p().root,S),"data-intersection-property-id":P,ref:x,...(0,d.BA)(d.bG.vibeAnimation.VIBE_ANIMATION)})})},98836:function(e,t,n){"use strict";n.d(t,{D:function(){return i.SomethingWentWrong}});var i=n(27610)},27610:function(e,t,n){"use strict";n.d(t,{SomethingWentWrong:function(){return b}});var i=n(95660),o=n(23974),r=n(44744),s=n(71859),a=n(71037),l=n(93062),d=n(15706),u=n(42255),h=n(20794),v=n(96235),c=n(51740),m=n.n(c);let b=(0,r.Pi)(e=>{let{className:t,withBackwardControl:n=!0}=e,r=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:c}=(0,h.$Y6)();return(0,i.jsxs)("div",{className:(0,o.W)(m().root,t),children:[n&&(0,i.jsx)(v.nP,{withBackwardFallback:"/",className:(0,o.W)(m().navigation,{[m().navigation_desktop]:!c}),withForwardControl:!1}),(0,i.jsxs)("div",{className:(0,o.W)(m().content,{[m().content_shrink]:!n}),children:[(0,i.jsx)(d.Icon,{className:m().icon,variant:"attention",size:"xxl"}),(0,i.jsx)(u.Heading,{className:(0,o.W)(m().title,m().important),variant:"h3",size:"xs",children:(0,i.jsx)(a.Z,{id:"error-messages.something-went-wrong"})}),(0,i.jsxs)(u.Caption,{className:(0,o.W)(m().text,m().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,i.jsx)(a.Z,{id:"page-error.try-to-restart-app"})]}),(0,i.jsx)(l.z,{onClick:r,className:m().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,i.jsxs)(u.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,i.jsx)(a.Z,{id:"page-error.restart-app-button"})]})})]})]})})},34099:function(e){e.exports={root:"PaymentWidgetModal_root__I6Hrp",root_loaded:"PaymentWidgetModal_root_loaded__Rzltj",root_level_up:"PaymentWidgetModal_root_level_up__pj52G",content:"PaymentWidgetModal_content__ifRry",widget:"PaymentWidgetModal_widget__cu_gr"}},99532:function(e){e.exports={root:"BuySubscriptionModal_root__5LvlX",content:"BuySubscriptionModal_content__v06Ju",heading:"BuySubscriptionModal_heading__07nBE",buttons:"BuySubscriptionModal_buttons__wSCRP",button:"BuySubscriptionModal_button__8m6Dx",buttonMainText:"BuySubscriptionModal_buttonMainText__pyjEc",buttonAdditionText:"BuySubscriptionModal_buttonAdditionText__rdKJn",header:"BuySubscriptionModal_header__ho5hr"}},35781:function(e){e.exports={root:"VibeAnimation_root__UKMJy",root_visible:"VibeAnimation_root_visible__S7kXl","fade-in":"VibeAnimation_fade-in__hx6bD"}},51740:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}},32739:function(e,t,n){"use strict";var i,o;n.d(t,{f:function(){return i}}),(o=i||(i={})).IntroPlan="IntroPlan",o.IntroUntilPlan="IntroUntilPlan",o.TrialPlan="TrialPlan",o.TrialUntilPlan="TrialUntilPlan"}},function(e){e.O(0,[4361,5087,336,1522,440,2498,5453,7873,7888,6891,5872,4785,6235,1990,7924,476,5708,4275,4146,8641,4443,135,4205,5134,1744],function(){return e(e.s=56946)}),_N_E=e.O()}]);
