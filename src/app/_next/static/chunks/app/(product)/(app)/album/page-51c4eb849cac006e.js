(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3750],{13045:function(t,e,a){Promise.resolve().then(a.bind(a,86978))},32693:function(t,e,a){"use strict";a.d(e,{Ji:function(){return c}});var n,i,r,l,o=a(9092),s=a(98639),u=a(80542);(n=r||(r={})).formatDate="FormattedDate",n.formatTime="FormattedTime",n.formatNumber="FormattedNumber",n.formatList="FormattedList",n.formatDisplayName="FormattedDisplayName",(i=l||(l={})).formatDate="FormattedDateParts",i.formatTime="FormattedTimeParts",i.formatNumber="FormattedNumberParts",i.formatList="FormattedListParts";var d=function(t){var e=(0,u.Z)(),a=t.value,n=t.children,i=(0,o.__rest)(t,["value","children"]);return n(e.formatNumberToParts(a,i))};function m(t){var e=function(e){var a=(0,u.Z)(),n=e.value,i=e.children,r=(0,o.__rest)(e,["value","children"]),l="string"==typeof n?new Date(n||0):n;return i("formatDate"===t?a.formatDateToParts(l,r):a.formatTimeToParts(l,r))};return e.displayName=l[t],e}function g(t){var e=function(e){var a=(0,u.Z)(),n=e.value,i=e.children,r=(0,o.__rest)(e,["value","children"]),l=a[t](n,r);if("function"==typeof i)return i(l);var d=a.textComponent||s.Fragment;return s.createElement(d,null,l)};return e.displayName=r[t],e}d.displayName="FormattedNumberParts",d.displayName="FormattedNumberParts";var c=g("formatDate");g("formatTime"),g("formatNumber"),g("formatList"),g("formatDisplayName"),m("formatDate"),m("formatTime")},86978:function(t,e,a){"use strict";a.r(e);var n=a(9753),i=a(74717),r=a(98639),l=a(78601);e.default=()=>{let t=(0,i.useSearchParams)().get("albumId");return t||(0,i.notFound)(),(0,n.jsx)(r.Suspense,{children:(0,n.jsx)(l.Xb,{albumId:t})})}},78601:function(t,e,a){"use strict";a.d(e,{Xb:function(){return n.AlbumPage},Lf:function(){return V}});var n=a(93289);a(74488);var i=a(42288),r=a(10542),l=a(51179),o=a(82857),s=a(93490),u=a(10064),d=a(75191),m=a(38360),g=a(87628),c=a(58421);let b=(t,e)=>t.map(t=>"".concat(t,":").concat(e));var v=a(48892);let A=t=>({type:m.lf.TEXT,data:t||null}),E=(t,e,a,n,i)=>({type:(null==a?void 0:a.type)||l.Vc.TRACK,id:t,data:a||null,loadingState:e,position:n,isBest:i}),p=t=>"".concat(t,"-text"),G=t=>String(t),h=(t,e,a,n)=>{t.forEach(t=>{var i,r,l,o,s;if(null===(i=t.albums)||void 0===i?void 0:i[0]){let i=a.get(G(t.id));void 0!==i&&(e[i]=E(t.id,g.Gu.RESOLVE,(0,v.Vt)(t),null===(l=t.albums[0])||void 0===l?void 0:null===(r=l.trackPosition)||void 0===r?void 0:r.index,null==n?void 0:n.includes(Number(t.id))));let u=a.get(p(t.id));void 0!==u&&(e[u]=A(null===(s=t.albums[0])||void 0===s?void 0:null===(o=s.trackPosition)||void 0===o?void 0:o.volume))}})},S=(t,e,a,n)=>{let i=0;t.volumes.forEach(r=>{t.volumes.length>1&&r[0]&&(e.push(A()),a.set(p(r[0].id),e.length-1)),r.forEach(t=>{e.push(E(t.id,g.Gu.IDLE)),a.set(G(t.id),e.length-1),n.set(G(t.id),i),i++})})},N=t=>(0,i.pj)({id:t.id,type:t.type,title:t.title,albums:t.albums.map(s.ym)}),f=(t,e,a,n)=>{t.forEach(t=>{let i=a.get(String(t));void 0!==i&&(e[i]=E(t,n))})},y=i.V5.model("AlbumDonations",{loadingState:i.V5.enumeration(Object.values(g.Gu)),items:i.V5.maybeNull(i.V5.array(u.Ew))}),D=i.V5.model("LabelItem",{id:i.V5.number,name:i.V5.string}),I=i.V5.model("RelatedAlbumsPage",{loadingState:i.V5.enumeration(Object.values(g.Gu)),items:i.V5.array(s.ug)}),C=i.V5.model("RelatedContent",{loadingState:i.V5.enumeration(Object.values(g.Gu)),items:i.V5.maybeNull(i.V5.array(o.fd))}),V=i.V5.compose(i.V5.model("AlbumPage",{id:i.V5.maybeNull(i.V5.number),meta:i.V5.maybeNull(s.ug),items:i.V5.array(o.JP),indexItems:i.V5.map(i.V5.number),trackIndexInContext:i.V5.map(i.V5.number),loadingState:i.V5.enumeration(Object.values(g.Gu)),errorStatusCode:i.V5.maybeNull(i.V5.number),deprecationTargetAlbumId:i.V5.maybeNull(i.V5.number),latestGenreAlbums:I,otherArtistAlbums:I,otherAlbumVersions:i.V5.array(s.ug),labels:i.V5.maybeNull(i.V5.array(D)),description:i.V5.maybe(i.V5.string),donations:y,relatedContent:C}),c.ie).views(t=>({get isNonMusicType(){var e;if(null===(e=t.meta)||void 0===e?void 0:e.type)return[l.VZ.PODCAST,l.VZ.AUDIOBOOK].includes(t.meta.type);return!1},get isOtherArtistAlbumsAvailable(){var a,n,i,o;return!!(!this.isNonMusicType&&(null===(n=t.meta)||void 0===n?void 0:null===(a=n.artists)||void 0===a?void 0:a.length)===1&&!(null===(o=t.meta)||void 0===o?void 0:null===(i=o.artists[0])||void 0===i?void 0:i.various))},get isLatestGenreAlbumsAvailable(){var s;return!!(!this.isNonMusicType&&(null===(s=t.meta)||void 0===s?void 0:s.genre))},get isNotFound(){return t.loadingState===g.Gu.REJECT&&t.errorStatusCode===r.CN.NOT_FOUND},get isRejected(){return t.loadingState===g.Gu.REJECT},get hasOtherAlbumVersions(){return!!(t.loadingState===g.Gu.IDLE||t.loadingState===g.Gu.PENDING||t.otherAlbumVersions&&t.otherAlbumVersions.length>0)},get hasLatestGenreAlbums(){return!!(t.latestGenreAlbums.loadingState===g.Gu.IDLE||t.latestGenreAlbums.loadingState===g.Gu.PENDING||t.latestGenreAlbums.items&&t.latestGenreAlbums.items.length>0)},get hasOtherArtistAlbums(){return!!(t.otherArtistAlbums.loadingState===g.Gu.IDLE||t.otherArtistAlbums.loadingState===g.Gu.PENDING||t.otherArtistAlbums.items&&t.otherArtistAlbums.items.length>0)},get isLoading(){return t.loadingState===g.Gu.IDLE||t.loadingState===g.Gu.PENDING},get isLoaded(){return t.loadingState===g.Gu.RESOLVE},get isLatestGenreAlbumsLoading(){return t.latestGenreAlbums.loadingState===g.Gu.IDLE||t.latestGenreAlbums.loadingState===g.Gu.PENDING},get isOtherArtistAlbumsLoading(){return t.otherArtistAlbums.loadingState===g.Gu.IDLE||t.otherArtistAlbums.loadingState===g.Gu.PENDING},get isRelatedContentLoading(){return t.relatedContent.loadingState===g.Gu.IDLE||t.relatedContent.loadingState===g.Gu.PENDING},get contextMeta(){var u,d,c,b,v,A,E,p,G,h;return{id:t.meta.id,title:null===(u=t.meta)||void 0===u?void 0:u.title,coverUri:null===(d=t.meta)||void 0===d?void 0:d.coverUri,type:null===(c=t.meta)||void 0===c?void 0:c.type,year:null===(b=t.meta)||void 0===b?void 0:b.year,version:null===(v=t.meta)||void 0===v?void 0:v.version,contentWarning:null===(A=t.meta)||void 0===A?void 0:A.contentWarning,genre:null===(E=t.meta)||void 0===E?void 0:E.genre,likesCount:null===(p=t.meta)||void 0===p?void 0:p.likesCount,averageColor:null===(G=t.meta)||void 0===G?void 0:G.averageColor,available:null===(h=t.meta)||void 0===h?void 0:h.isAvailable}},get lastEpisodes(){return t.items.filter(t=>t.type!==m.lf.TEXT).slice(0,5).map(t=>t)},get lastEpisodesTrackIds(){return this.lastEpisodes.map(t=>t.id)}})).actions(t=>{let e={getLatestGenreAlbums:(0,i.ls)(function*(e){let{topResource:a,modelActionsLogger:n}=(0,i.dU)(t);if(t.latestGenreAlbums.loadingState!==g.Gu.PENDING)try{t.latestGenreAlbums.loadingState=g.Gu.PENDING;let n=yield a.getTopByGenre(e);t.latestGenreAlbums.items=(0,i.pj)(n.albums.map(s.ym)),t.latestGenreAlbums.loadingState=g.Gu.RESOLVE}catch(e){n.error(e),t.latestGenreAlbums.loadingState=g.Gu.REJECT}}),getOtherArtistAlbums:(0,i.ls)(function*(e,a){let{artistsResource:n,modelActionsLogger:r}=(0,i.dU)(t);if(t.otherArtistAlbums.loadingState!==g.Gu.PENDING)try{if(!e.artistId){t.otherArtistAlbums.loadingState=g.Gu.REJECT;return}t.otherArtistAlbums.loadingState=g.Gu.PENDING;let r=yield n.getSafeDirectAlbums({...e,artistId:e.artistId});t.otherArtistAlbums.items=(0,i.pj)(r.albums.filter(t=>String(t.id)!==String(a)).map(s.ym)),t.otherArtistAlbums.loadingState=g.Gu.RESOLVE}catch(e){r.error(e),t.otherArtistAlbums.loadingState=g.Gu.REJECT}}),getTracks:(0,i.ls)(function*(e){let{trackIds:a}=e,{tracksResource:n,modelActionsLogger:r}=(0,i.dU)(t);try{var l;if(!(null===(l=t.meta)||void 0===l?void 0:l.id))return;f(a,t.items,t.indexItems,g.Gu.PENDING);let e=yield n.getTracksMeta({trackIds:b(a,t.meta.id),withProgress:!0});h(e,t.items,t.indexItems,t.meta.bestAlbumTracks)}catch(e){r.error(e),f(a,t.items,t.indexItems,g.Gu.REJECT)}}),getDonations:(0,i.ls)(function*(e){let{albumId:a}=e,{experiments:n}=(0,i.yj)(t),{donationResource:r,modelActionsLogger:l}=(0,i.dU)(t);if(n.checkExperiment(g.pe.WebNextAlbumDonateChooserButton,"on")&&t.donations.loadingState!==g.Gu.PENDING)try{t.donations.loadingState=g.Gu.PENDING;let{donations:e}=yield r.getAlbumDonations({albumId:a});e&&(t.donations.items=(0,i.pj)(e.map(u.fv))),t.donations.loadingState=g.Gu.RESOLVE}catch(e){l.error(e),t.donations.loadingState=g.Gu.REJECT}}),getData:(0,i.ls)(function*(a){let{albumId:n,resumeStream:o}=a,{albumResource:u,modelActionsLogger:m}=(0,i.dU)(t),{experiments:c,disclaimer:b}=(0,i.yj)(t),v=c.checkExperiment(g.pe.WebNextAlbumDisableVersions,"on"),A=c.checkExperiment(g.pe.WebNextAlbumDisableTracks,"on"),E=c.checkExperiment(g.pe.WebNextAlbumDisableLatestGenreAlbums,"on"),p=c.checkExperiment(g.pe.WebNextAlbumDisableOtherArtistAlbums,"on"),G=c.checkExperiment(g.pe.WebNextLegalRejectAlbum,"on");if(t.id=n,t.loadingState!==g.Gu.PENDING)try{var h,N,f,y;let a,m;t.loadingState=g.Gu.PENDING;let c=yield u.getAlbumWithTracksIds({albumId:n,resumeStream:o});if((null==c?void 0:c.error)==="not-found"){t.errorStatusCode=r.CN.NOT_FOUND,t.loadingState=g.Gu.REJECT,t.otherArtistAlbums.loadingState=g.Gu.REJECT,t.latestGenreAlbums.loadingState=g.Gu.REJECT;return}if(null===(h=c.deprecation)||void 0===h?void 0:h.targetAlbumId){t.deprecationTargetAlbumId=c.deprecation.targetAlbumId,t.loadingState=g.Gu.RESOLVE;return}(null!==(N=c.disclaimers)&&void 0!==N?N:[]).includes(l.em.MODAL)&&G&&(yield b.getAlbumDisclaimer({albumId:n}));let{sonataState:D}=(0,i.yj)(t);if(D.setUnloadedEntitiesData(c.volumes.flat().map(t=>(0,d.RN)(t.id))),t.meta=(0,s.ym)(c),t.labels=(0,i.pj)(c.labels),t.contentWarning=(0,i.pj)(c.contentWarning),t.description=(0,i.pj)(c.description),!v&&c.duplicates&&c.duplicates.length>0&&(t.otherAlbumVersions=(0,i.pj)(null===(f=c.duplicates)||void 0===f?void 0:f.map(s.ym))),!A){S(c,t.items,t.indexItems,t.trackIndexInContext);let a=[];for(let e=0;e<10;e++){let n=t.items[e];(null==n?void 0:n.type)===l.Vc.TRACK&&a.push(String(n.id))}yield e.getTracks({trackIds:a})}!E&&t.isLatestGenreAlbumsAvailable?a=e.getLatestGenreAlbums({category:l.mk.RECENT_ALBUMS,period:l.pH.WEEK,pageSize:8,genre:c.genre}):t.latestGenreAlbums.loadingState=g.Gu.RESOLVE,!p&&t.isOtherArtistAlbumsAvailable?m=e.getOtherArtistAlbums({artistId:String(null===(y=c.artists[0])||void 0===y?void 0:y.id),limit:8},n):t.otherArtistAlbums.loadingState=g.Gu.RESOLVE,yield Promise.allSettled([a,m]),t.loadingState!==g.Gu.IDLE&&(t.loadingState=g.Gu.RESOLVE)}catch(e){m.error(e),e instanceof r.du&&(e.statusCode===r.CN.NOT_FOUND||e.statusCode===r.CN.BAD_REQUEST)&&(t.errorStatusCode=r.CN.NOT_FOUND),t.loadingState!==g.Gu.IDLE&&(t.loadingState=g.Gu.REJECT,t.otherArtistAlbums.loadingState=g.Gu.REJECT,t.latestGenreAlbums.loadingState=g.Gu.REJECT)}}),loadLastEpisodes(){e.getTracks({trackIds:t.lastEpisodesTrackIds})},getRelatedContent:(0,i.ls)(function*(){let{albumResource:e,modelActionsLogger:a}=(0,i.dU)(t);if(t.relatedContent.loadingState!==g.Gu.PENDING)try{var n,r;if(!(null===(n=t.meta)||void 0===n?void 0:n.id))return;t.relatedContent.loadingState=g.Gu.PENDING;let a=yield e.getRelatedContent({albumId:t.meta.id});t.relatedContent.items=(0,i.pj)(null===(r=a.blocks)||void 0===r?void 0:r.map(N)),t.relatedContent.loadingState=g.Gu.RESOLVE}catch(e){a.error(e),t.relatedContent.loadingState=g.Gu.REJECT}}),reset(){let{sonataState:e}=(0,i.yj)(t);e.resetUnloadedEntitiesData(),t.id=null,t.meta=null,t.errorStatusCode=null,t.deprecationTargetAlbumId=null,t.items=(0,i.pj)([]),t.indexItems.clear(),t.trackIndexInContext.clear(),t.loadingState=g.Gu.IDLE,t.donations.loadingState=g.Gu.IDLE,t.donations.items=null,t.latestGenreAlbums.loadingState=g.Gu.IDLE,t.latestGenreAlbums.items=(0,i.pj)([]),t.otherArtistAlbums.loadingState=g.Gu.IDLE,t.otherArtistAlbums.items=(0,i.pj)([]),t.otherAlbumVersions=(0,i.pj)([]),t.description="",t.labels=null,t.relatedContent.loadingState=g.Gu.IDLE,t.relatedContent.items=null}};return e})},68106:function(t,e,a){"use strict";a.d(e,{D:function(){return n.SomethingWentWrong}});var n=a(18723)},18723:function(t,e,a){"use strict";a.d(e,{SomethingWentWrong:function(){return v}});var n=a(9753),i=a(60836),r=a(9544),l=a(98639),o=a(31014),s=a(39513),u=a(28852),d=a(2570),m=a(55784),g=a(87628),c=a(88178),b=a.n(c);let v=(0,r.Pi)(t=>{let{className:e,withBackwardControl:a=!0}=t,r=(0,l.useCallback)(()=>{window.location.href="/"},[]),{contentRef:c}=(0,g.$Y)();return(0,n.jsxs)("div",{className:(0,i.W)(b().root,e),children:[a&&(0,n.jsx)(m.n,{withBackwardFallback:"/",className:(0,i.W)(b().navigation,{[b().navigation_desktop]:!c}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,i.W)(b().content,{[b().content_shrink]:!a}),children:[(0,n.jsx)(u.J,{className:b().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(d.Heading,{className:(0,i.W)(b().title,b().important),variant:"h3",size:"xs",children:(0,n.jsx)(o.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(d.Caption,{className:(0,i.W)(b().text,b().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(o.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(s.z,{onClick:r,className:b().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(d.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(o.Z,{id:"page-error.restart-app-button"})]})})]})]})})},88178:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}},function(t){t.O(0,[1438,4030,2968,8626,9209,2498,7873,8695,3621,7628,7868,8421,4901,3490,9352,8892,9434,4496,5191,3193,2171,361,1744],function(){return t(t.s=13045)}),_N_E=t.O()}]);