(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{38097:function(e,t,n){Promise.resolve().then(n.bind(n,67210))},67210:function(e,t,n){"use strict";n.r(t);var a=n(95660),r=n(97667),i=n(95414);t.default=()=>{let e=(0,r.useSearchParams)().get("artistId");return e||(0,r.notFound)(),(0,a.jsx)(i.hD,{artistId:e})}},42040:function(e,t,n){"use strict";n.d(t,{HS:function(){return u.AfishaWidget},aD:function(){return m.a},kb:function(){return C.ConcertCard},CS:function(){return p.ConcertDate},Z:function(){return d},m:function(){return _.ConcertsBlock},zj:function(){return c},eU:function(){return i}});var a=n(97898);let r=/[+-]\d{2}:?\d{2}/,i=e=>null==e?void 0:e.replace(r,""),s=e=>{if(e)return{value:e.value,currency:e.currency}},c=e=>{var t,n;return(0,a.pj)({id:e.id,dataSessionId:null!==(n=e["data-session-id"])&&void 0!==n?n:"",datetime:e.datetime&&i(e.datetime),city:e.city,place:e.place,contentRating:e.contentRating,price:s(e.minPrice),cashbackTitle:null===(t=e.cashback)||void 0===t?void 0:t.title})};var o=n(20794);let l=a.V5.model("Price",{value:a.V5.number,currency:a.V5.string}),d=a.V5.model("Concert",{id:a.V5.string,dataSessionId:a.V5.maybe(a.V5.string),datetime:a.V5.maybe(a.V5.string),city:a.V5.maybe(a.V5.string),place:a.V5.maybe(a.V5.string),contentRating:a.V5.maybe(a.V5.string),price:a.V5.maybe(l),cashbackTitle:a.V5.maybe(a.V5.string)}).views(e=>({get isCashbackExperimentEnabled(){let{experiments:t}=(0,a.yj)(e);return t.checkExperiment(o.peG.WebNextConcertsCashback,"on")}}));var u=n(65027),m=n(51201),C=n(60142),p=n(82134),_=n(2960)},21283:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var a=n(71859),r=n(51739),i=n(20794);let s=e=>{let{artistId:t,viewUuid:n}=e,c=(0,i.z$f)(),{hash:o}=(0,i.RQn)(),{pageId:l}=(0,i.lVB)(),{objectsCount:d,objectType:u,objectId:m,objectPosX:C,objectPosY:p,objectPos:_}=(0,i.rKX)(),h=(0,i.wLl)(),f=(0,a.useCallback)(e=>{let n=(0,i.KOr)({params:{hash:o,artistId:t,objectsCount:d,objectType:u,objectId:m,objectPosX:C,objectPosY:p,to:e},logger:h,context:s.name});c&&n&&(0,r.f7)(c.evgenInstance,n)},[c,t,o,h,m,C,p,u,d]),v=(0,a.useCallback)(e=>{let a=(0,i.KOr)({params:{hash:o,artistId:t,viewUuid:n,objectId:m,objectPos:_,to:e},logger:h,context:s.name});c&&a&&n&&(0,r.Mn)(c.evgenInstance,a)},[c,t,o,h,m,_,n]);return(0,a.useCallback)(e=>{if(c&&l&&i.$PW.includes(l))switch(l){case i.Rhz.ARTIST:f(e);break;case i.Rhz.ARTIST_CONCERTS:v(e)}},[c,l,v,f])}},65027:function(e,t,n){"use strict";n.d(t,{AfishaWidget:function(){return m}});var a=n(95660),r=n(71859),i=n(36621),s=n(93062),c=n(52074),o=n(22899),l=n(20794),d=n(4151),u=n.n(d);let m=e=>{let{dataSessionId:t,isOpened:n,onOpen:d,onClose:m}=e,C=(0,l.uK4)().get(l.U5t),{formatMessage:p}=(0,i.Z)(),_=(0,r.useCallback)(e=>{e.origin===C.afisha.host&&"close"===e.data.type&&m()},[m,C.afisha.host]);(0,r.useEffect)(()=>(window.addEventListener("message",_),()=>{window.removeEventListener("message",_)}),[_]);let h=(0,r.useCallback)(e=>{e?d():m()},[m,d]),f="".concat(C.afisha.host,"/w/sessions/").concat(t,"?clientKey=").concat(C.afisha.clientId);return(0,a.jsxs)(c.u,{size:"fitContent",placement:"center",open:n,onOpenChange:h,onClose:m,showHeader:!1,className:u().widget,contentClassName:u().content,overlayColor:"full",children:[(0,a.jsx)(o.y,{children:(0,a.jsx)(s.z,{"aria-label":p({id:"interface-actions.close"}),onClick:m})}),(0,a.jsx)("iframe",{src:f,className:u().root,referrerPolicy:"no-referrer",sandbox:"allow-forms allow-modals allow-popups allow-scripts allow-same-origin",allow:"clipboard-read clipboard-write"})]})}},51201:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var a=n(95660),r=n(23974),i=n(15706),s=n(42255),c=n(52838),o=n.n(c);let l=e=>{let{title:t,className:n}=e;return(0,a.jsxs)("div",{className:(0,r.W)(o().root,n),children:[(0,a.jsx)(i.Icon,{"aria-hidden":!0,className:o().icon,variant:"plus",size:"xxxs"}),(0,a.jsx)(s.Caption,{variant:"span",type:"text",size:"m",weight:"medium",lineClamp:1,className:o().title,children:t})]})}},60142:function(e,t,n){"use strict";n.d(t,{ConcertCard:function(){return x}});var a=n(95660),r=n(71859),i=n(36621),s=n(51739),c=n(81014),o=n(39661),l=n(93062),d=n(67061),u=n(42255),m=n(20794),C=n(21283);let p=e=>{let{artistId:t,viewUuid:n}=e,a=(0,m.z$f)(),{hash:i}=(0,m.RQn)(),{pageId:c}=(0,m.lVB)(),{objectsCount:o,objectType:l,objectId:d,objectPosX:u,objectPosY:C,objectPos:_}=(0,m.rKX)(),h=(0,m.wLl)(),f=(0,r.useCallback)(()=>{let e=(0,m.KOr)({params:{hash:i,artistId:t,objectsCount:o,objectType:l,objectId:d,objectPosX:u,objectPosY:C},logger:h,context:p.name});a&&e&&(0,s.F5)(a.evgenInstance,e)},[a,t,i,h,d,u,C,l,o]),v=(0,r.useCallback)(()=>{let e=(0,m.KOr)({params:{hash:i,artistId:t,viewUuid:n,objectId:d,objectPos:_},logger:h,context:p.name});a&&e&&n&&(0,s.b5)(a.evgenInstance,e)},[a,t,i,h,d,_,n]);return(0,r.useCallback)(()=>{if(a&&c&&m.$PW.includes(c))switch(c){case m.Rhz.ARTIST:f();break;case m.Rhz.ARTIST_CONCERTS:v()}},[a,c,v,f])};var _=n(65027),h=n(82134),f=n(51201),v=n(23026),b=n.n(v);let x=e=>{var t,n;let{artistId:v,concert:x,viewUuid:g}=e,{formatDate:k,formatNumber:y,formatMessage:w}=(0,i.Z)(),{state:j,toggleTrue:N,toggleFalse:R}=(0,c.O)(!1),V=p({artistId:v,viewUuid:g}),S=(0,C.x)({artistId:v,viewUuid:g}),{ref:I,intersectionPropertyId:A}=(0,m.VfV)({callback:V,singleEvent:!0}),z=(0,r.useId)(),E=(0,r.useId)(),T=(0,r.useMemo)(()=>{let e=(0,a.jsx)(u.Caption,{variant:"span",size:"m",weight:"medium","aria-hidden":!0,children:"â€¢"}),t=[];return x.place&&t.push((0,a.jsx)(u.Caption,{variant:"span",size:"m",weight:"medium",lineClamp:1,children:x.place})),x.datetime&&(t.push(e),t.push((0,a.jsx)(u.Caption,{variant:"span",size:"m",weight:"medium",children:k(x.datetime,(0,m.Svi)())}))),x.contentRating&&(t.push(e),t.push((0,a.jsx)(u.Caption,{variant:"span",size:"m",weight:"medium",children:x.contentRating}))),(0,a.jsx)("div",{className:b().info,children:t.map((e,t)=>(0,r.cloneElement)(e,{key:t}))})},[x.contentRating,x.datetime,x.place,k]),W=(0,r.useMemo)(()=>{var e,t;return(null===(e=x.price)||void 0===e?void 0:e.value)?w({id:"payment.min-price"},{value:y(x.price.value,{style:"currency",currency:null===(t=x.price)||void 0===t?void 0:t.currency,maximumFractionDigits:0})}):w({id:"payment.buy"})},[null===(t=x.price)||void 0===t?void 0:t.currency,null===(n=x.price)||void 0===n?void 0:n.value,w,y]),B=(0,r.useCallback)(e=>{(0,o.m)(e,b().ripple)},[]),D=(0,r.useCallback)(e=>{N(),S(s.Ks.ConcertPurchaseScreen),e.stopPropagation()},[N,S]);return(0,a.jsxs)(d.Paper,{radius:"l",className:b().root,onClick:B,ref:I,"data-intersection-property-id":A,children:[x.datetime&&(0,a.jsx)(h.ConcertDate,{datetime:x.datetime,id:z,className:b().date,dayClassName:b().dateColor,monthClassName:b().dateColor}),(0,a.jsxs)("div",{className:b().meta,id:E,children:[(0,a.jsx)(u.Caption,{variant:"div",size:"m",weight:"medium",className:b().city,lineClamp:1,children:x.city}),T,x.isCashbackExperimentEnabled&&x.cashbackTitle&&(0,a.jsx)(f.a,{className:b().cashback,title:x.cashbackTitle})]}),x.dataSessionId&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.z,{color:"primary",radius:"xxxl",className:b().button,"aria-describedby":"".concat(z," ").concat(E),"aria-label":W,onClick:D,children:W}),(0,a.jsx)(_.AfishaWidget,{dataSessionId:x.dataSessionId,isOpened:j,onOpen:N,onClose:R})]})]})}},82134:function(e,t,n){"use strict";n.d(t,{ConcertDate:function(){return u}});var a=n(95660),r=n(23974),i=n(36621),s=n(9883),c=n(42255),o=n(20794),l=n(11986),d=n.n(l);let u=e=>{let{datetime:t,className:n,monthClassName:l,dayClassName:u,withWeekday:m=!0,...C}=e,{formatDate:p}=(0,i.Z)(),_=(0,o.KR6)(t);return(0,a.jsxs)("div",{className:(0,r.W)(d().root,n),"aria-label":p(t,(0,o.YTW)()),...C,...(0,s.BA)(s.FK.concerts.CONCERT_DATE),children:[(0,a.jsx)(c.Caption,{variant:"div",size:"xs",weight:"bold",className:(0,r.W)(d().month,l),children:_}),(0,a.jsx)(c.Caption,{variant:"div",className:(0,r.W)(d().day,u),children:p(t,(0,o.GL9)())}),m&&(0,a.jsx)(c.Caption,{variant:"div",size:"xs",weight:"bold",className:d().weekday,children:p(t,{weekday:"short"})})]})}},2960:function(e,t,n){"use strict";n.d(t,{ConcertsBlock:function(){return _}});var a=n(95660),r=n(23974),i=n(6657),s=n(71859),c=n(51739),o=n(63778),l=n(96235),d=n(21283),u=n(36184),m=n.n(u);let C=()=>Array.from({length:2},(e,t)=>(0,a.jsx)("div",{className:m().concertsColumn,children:(0,l.M4)(2)},t)),p=e=>{let{artistId:t,forwardRef:n,isLoading:u,title:p,viewAllActionLink:_,children:h,className:f,containerClassName:v,headerClassName:b,itemClassName:x,headingVariant:g,...k}=e,y=(0,s.useId)(),w=(0,s.useRef)(null),j=(0,d.x)({artistId:t}),N=(0,s.useCallback)(()=>{j(c.Ks.ArtistConcertsScreen)},[j]),R=(0,s.useMemo)(()=>(0,i.Z)(h,2).slice(0,4).map((e,t)=>(0,a.jsx)("div",{className:m().concertsColumn,children:e},t)),[h]);return(0,a.jsxs)("section",{ref:n,className:(0,r.W)(m().root,f),...k,children:[(0,a.jsx)(l.ti,{className:b,labeledForId:y,title:p,viewAllActionLink:_,onViewAllAction:N,controls:(0,a.jsx)(l.J8,{className:m().controls,carouselRef:w}),headingVariant:g}),(0,a.jsx)(o.l,{itemClassName:(0,r.W)(m().item,{[m().item_singleColumn]:2>=s.Children.count(h)},x),className:(0,r.W)(v,{[m().preventScroll]:u}),ref:w,"aria-labelledby":y,children:u?C():R})]})},_=(0,s.forwardRef)((e,t)=>(0,a.jsx)(p,{forwardRef:t,...e}))},4151:function(e){e.exports={root:"AfishaWidget_root__Fu9a6",content:"AfishaWidget_content__YFmbs",widget:"AfishaWidget_widget__ZdvqS"}},52838:function(e){e.exports={root:"CashbackBadge_root__hStMF",icon:"CashbackBadge_icon__RJ6qe",title:"CashbackBadge_title__neGD7"}},23026:function(e){e.exports={root:"ConcertCard_root__fcR9B",ripple:"ConcertCard_ripple__PW4xI",date:"ConcertCard_date__ECoa3",dateColor:"ConcertCard_dateColor__muPRD",meta:"ConcertCard_meta__9uMgy",city:"ConcertCard_city__Pgt4S",info:"ConcertCard_info___mAu4",button:"ConcertCard_button__GQxNL",cashback:"ConcertCard_cashback__DVwFY"}},11986:function(e){e.exports={root:"ConcertDate_root__xnVG1",month:"ConcertDate_month__ti5Na",day:"ConcertDate_day__YibpP",weekday:"ConcertDate_weekday__fBZXo"}},36184:function(e){e.exports={root:"ConcertsBlock_root__d_1G3",controls:"ConcertsBlock_controls__oULxu",item:"ConcertsBlock_item__jMAX9",item_singleColumn:"ConcertsBlock_item_singleColumn__p8ilp",preventScroll:"ConcertsBlock_preventScroll__YeeZH",concertsColumn:"ConcertsBlock_concertsColumn__2M2t_"}},50022:function(e,t){"use strict";t.Z=function(e){return void 0===e}}},function(e){e.O(0,[4361,5087,1522,6736,336,2498,5453,7873,7888,6891,5872,6235,1990,7924,476,5708,4275,4146,8641,1737,4751,4532,5414,4205,5134,1744],function(){return e(e.s=38097)}),_N_E=e.O()}]);