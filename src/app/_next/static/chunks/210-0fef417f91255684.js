(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{20210:function(e,i,t){"use strict";t.d(i,{vY:function(){return s.EmptyPlaylistBlock},ZL:function(){return n.PlaylistCard},Nn:function(){return k},d2:function(){return u},VD:function(){return l.PlaylistsCarousel},RE:function(){return x},Q9:function(){return _},VB:function(){return f}});var n=t(9612),l=t(54865),s=t(19320),a=t(96555),r=t(81446),o=t(3515);let u=o.Cd.props({artists:a.V5.maybe(a.V5.array(r.Go))});var c=t(5674),d=t(65704),p=t(34603);let m=a.V5.model("PlaylistOwner",{uid:a.V5.number,login:a.V5.string,name:a.V5.string,sex:a.V5.enumeration(Object.values(p.oF)),verified:a.V5.boolean}),y=a.V5.model("PlaylistOwner",{userInfo:a.V5.maybeNull(m),caseForms:a.V5.maybeNull(d.S2)}),k=o.Cd.props({owner:a.V5.maybe(m),modified:a.V5.string,description:a.V5.maybe(a.V5.string),madeFor:a.V5.maybeNull(y)}).views(e=>({get seeds(){var i;return["playlist:".concat(null===(i=e.owner)||void 0===i?void 0:i.login,"_").concat(e.kind)]}})).actions(e=>{let i={changeDescription:(0,a.ls)(function*(i){if(!(0,a.fh)(e))return c.SL.ERROR;if(e.description===i)return c.SL.OK;if(i.length>o.Zn)return c.SL.ERROR;let{usersResource:t,modelActionsLogger:n}=(0,a.dU)(e);if(e.canUserChange){let l=e.description;e.description=i;try{let n=yield t.changePlaylistDescription({description:i,userId:e.uid,playlistKind:e.kind});return e.description=n.description,c.SL.OK}catch(i){e.description=l,n.error(i)}}return c.SL.ERROR}),changePlaylistCover:(0,a.ls)(function*(i){if(!(0,a.fh)(e))return c.SL.ERROR;let{usersResource:t,modelActionsLogger:n}=(0,a.dU)(e);try{return yield t.uploadPlaylistCover({userId:e.uid,formData:i,playlistKind:e.kind}),c.SL.OK}catch(e){n.error(e)}return c.SL.ERROR})};return i}),C=e=>({uid:e.uid,login:e.login,name:e.name,sex:e.sex,verified:e.verified}),v=e=>(0,a.pj)({userInfo:e.userInfo?C(e.userInfo):null,caseForms:e.caseForms?(0,c.GA)(e.caseForms):null}),_=e=>(0,a.pj)({...(0,o.PV)(e),owner:e.owner?C(e.owner):void 0,description:e.description,modified:e.modified,madeFor:e.madeFor?v(e.madeFor):null}),f=e=>{var i,t;return(0,a.pj)({...(0,o.PV)(e),artists:null!==(t=null==e?void 0:null===(i=e.artists)||void 0===i?void 0:i.map(r.d))&&void 0!==t?t:[]})},x=e=>{var i,t;let{playlist:n,generatedPlaylistType:l,likesCount:s}=e;return(0,a.pj)({isAvailable:null===(t=n.available)||void 0===t||t,uuid:n.playlistUuid,title:n.title,uid:n.uid,kind:n.kind,coverUri:null===(i=n.cover)||void 0===i?void 0:i.uri,generatedPlaylistType:l,likesCount:s})}},19320:function(e,i,t){"use strict";t.r(i),t.d(i,{EmptyPlaylistBlock:function(){return d}});var n=t(8759),l=t(35338),s=t(99616),a=t(2814),r=t(14581),o=t(1918),u=t(61710),c=t.n(u);let d=e=>{let{className:i,isEmptySearch:t}=e,u=(0,s.useMemo)(()=>t?(0,n.jsx)(a.Z,{id:"search-results.not-found-title"}):(0,n.jsx)(a.Z,{id:"error-messages.empty-collection-playlist-title"}),[t]),d=(0,s.useMemo)(()=>t?(0,n.jsx)(a.Z,{id:"search-results.not-found-description"}):(0,n.jsx)(a.Z,{id:"error-messages.empty-collection-playlist-description"}),[t]);return(0,n.jsxs)("div",{className:(0,l.W)(c().root,i),children:[(0,n.jsx)("div",{className:c().iconBackground,children:(0,n.jsx)(r.J,{variant:"search",size:"l",className:c().icon})}),(0,n.jsx)(o.Heading,{variant:"h3",size:"xs",className:c().title,children:u}),(0,n.jsx)(o.Caption,{variant:"span",size:"l",className:c().subtitle,children:d})]})}},9612:function(e,i,t){"use strict";t.r(i),t.d(i,{PlaylistCard:function(){return b}});var n=t(8759),l=t(35338),s=t(33423),a=t(99616),r=t(65244),o=t(82834),u=t(454),c=t(57413),d=t(15527),p=t(14077),m=t(14581),y=t(96437),k=t(1918),C=t(81446),v=t(3515),_=t(5674),f=t(44285);let x=e=>{let{formatMessage:i}=(0,r.Z)();return(0,a.useMemo)(()=>{let t="";e.isLiked&&!e.actualLikesCount?t=i({id:"entity-names.has-your-like"}):"number"==typeof e.actualLikesCount&&(t=e.actualLikesCount>0?i({id:"entity-names.likes-counter"},{counter:e.actualLikesCount}):i({id:"entity-names.likes-counter-empty"}));let n=i({id:"entity-names.playlist-name"},{playlistName:e.title});return"".concat(n," ").concat(t)},[i,e])};var P=t(52317);let h=(0,s.Pi)(e=>{let{playlist:i,reference:t,onOpenChange:l,open:s,returnFocus:a}=e,{settings:r,experiments:o}=(0,_.oR)(),u=(0,v.SB)(i),c=(0,v.BV)(i),d=r.layout===_.t8.Mobile,p=o.checkExperiment(_.pe.WebPins,"on")&&!d;return(0,_.ZP)(s),(0,n.jsxs)(P.v2,{title:i.title,onOpenChange:l,open:s,offsetOptions:10,reference:t,isMobile:d,returnFocus:a,children:[p&&(0,n.jsx)(f.Zd,{onClick:c,isPinned:i.isPinned}),!i.isFavouritePlaylist&&(0,n.jsx)(f.xZ,{onClick:u,isLiked:i.isLiked})]})});var L=t(4082),j=t.n(L);let b=(0,s.Pi)(e=>{let{className:i,playlist:t,children:s,contentLinesCount:P,customDescription:L}=e,{ref:b,intersectionPropertyId:B}=(0,_.Vf)(),N=(0,_.x5)(),{formatMessage:g}=(0,r.Z)(),{sendLikeSearchFeedback:R,sendNavigateSearchFeedback:S,sendPlaySearchFeedback:V}=(0,_.sA)(),[w,E]=(0,a.useState)(!1),[A,z]=(0,a.useState)(!1),[M,O]=(0,a.useState)(!1),F=x(t),U=(0,v.SB)(t),I=(0,v.BV)(t),T=(0,_.zx)(),W=(0,_.s0)(t.url),{sonataState:{status:Z},experiments:Y}=(0,_.oR)(),[D,H]=(0,a.useState)(!1),{isPlaying:K,togglePlay:G}=(0,_.qm)({playContextParams:{contextData:{type:c.Ak.Playlist,meta:{id:t.id,uuid:t.uuid},from:N},loadContextMeta:!0},sonataStatus:Z}),J=(0,a.useCallback)(()=>{T({to:o.qU.PlaylistScreen}),null==S||S()},[T,S]),q=(0,a.useCallback)(()=>{J(),W()},[J,W]),Q=(0,a.useCallback)(()=>{w||K||(E(!0),null==V||V()),G()},[K,w,V,G]),X=(0,a.useCallback)(()=>{A||t.isLiked||(z(!0),null==R||R()),U()},[U,A,t.isLiked,R]),$=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),ee=(0,a.useCallback)(()=>{O(!M),H(!M)},[M]),ei=(0,a.useMemo)(()=>{var e;return L?(0,n.jsx)(k.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:L}):(null===(e=t.artists)||void 0===e?void 0:e.length)?(0,n.jsx)(C.jO,{className:j().artists,artists:t.artists,lineClamp:1,linkClassName:j().artistLink,captionSize:"s"}):void 0},[t.artists,L]),et=(0,a.useMemo)(()=>{if(Y.checkExperiment(_.pe.WebPins,"on"))return(0,n.jsx)(h,{playlist:t,onOpenChange:ee,open:M,returnFocus:!1,reference:(0,n.jsx)(d.z,{onClick:$,className:(0,l.W)(j().menuButton,j().control),"aria-label":g({id:"interface-actions.context-menu"}),icon:(0,n.jsx)(m.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,u.BA)(u.bG.playlist.PLAYLIST_CONTEXT_MENU_BUTTON)})})},[Y,g,$,ee,M,t]),en=(0,a.useMemo)(()=>{if(!t.isFavouritePlaylist)return(0,n.jsx)(f.dJ,{className:(0,l.W)(j().likeButton,{[j().likeButton_withContextMenu]:Y.checkExperiment(_.pe.WebPins,"on")},j().control),isLiked:t.isLiked,onClick:X,variant:"default",size:"s",iconSize:"xxs"})},[Y,X,t.isFavouritePlaylist,t.isLiked]),el=(0,a.useMemo)(()=>{if(Y.checkExperiment(_.pe.WebPins,"on"))return(0,n.jsx)(f.RT,{onClick:I,isPinned:t.isPinned,className:(0,l.W)(j().pinButton,j().control),withRipple:!1})},[Y,I,t.isPinned]),es=(0,a.useMemo)(()=>(0,n.jsx)(y.Paper,{className:j().cover,radius:"s",withShadow:!0,...(0,u.BA)(u.bG.playlist.PLAYLIST_CARD),children:(0,n.jsxs)("div",{className:j().coverBlock,onClick:q,children:[(0,n.jsx)(f.BE,{className:j().image,src:t.coverUri,size:200,fit:"cover",alt:F,withAvatarReplace:!0,"aria-hidden":!0}),(0,n.jsx)(p.kk,{isVisible:M||D,className:j().controls,playControl:(0,n.jsx)(f.JM,{className:(0,l.W)(j().playButton,j().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:Q,isPlaying:K,disabled:!t.isAvailable}),likeControl:en,menuControl:et,pinControl:el})]})}),[t.coverUri,t.isAvailable,q,F,M,D,Q,K,en,et,el]),ea=!!t.actualLikesCount&&!t.isLikesCountHidden;return(0,n.jsxs)(p.m7,{ref:b,"aria-label":F,className:(0,l.W)(j().root,i),title:(0,n.jsx)(k.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,u.BA)(u.bG.playlist.PLAYLIST_TITLE),children:(0,n.jsx)(f.rU,{className:j().titleLink,href:t.url,onClick:J,children:t.title})}),srTitle:(0,n.jsx)(f.rU,{href:t.url,onClick:J,children:t.title}),"data-intersection-property-id":B,contentLinesCount:P,view:es,description:ei,...(0,u.BA)(u.bG.playlist.PLAYLIST_ITEM),children:[ea&&(0,n.jsx)(f.DB,{ariaLabel:g({id:"entity-names.likes-counter"},{counter:t.actualLikesCount}),likesCount:t.actualLikesCount,isLiked:t.isLiked,handleLikeClick:U}),s]})})},54865:function(e,i,t){"use strict";t.r(i),t.d(i,{PlaylistsCarousel:function(){return o}});var n=t(8759),l=t(99616),s=t(44285),a=t(9612);let r=e=>{let{forwardRef:i,isShimmerVisible:t,isShimmerActive:l,title:r,description:o,playlists:u,containerClassName:c,className:d,headerClassName:p,viewAllActionLink:m,...y}=e;return(0,n.jsx)(s.HY,{isShimmerVisible:t,isShimmerActive:l,className:d,headerClassName:p,containerClassName:c,ref:i,title:r,description:o,viewAllActionLink:m,...y,children:null==u?void 0:u.map(e=>(0,n.jsx)(a.PlaylistCard,{playlist:e,contentLinesCount:3},e.key))})},o=(0,l.forwardRef)((e,i)=>(0,n.jsx)(r,{forwardRef:i,...e}))},61710:function(e){e.exports={root:"EmptyPlaylistBlock_root__wpA0j",iconBackground:"EmptyPlaylistBlock_iconBackground__pnUlz",title:"EmptyPlaylistBlock_title__pQQLf",subtitle:"EmptyPlaylistBlock_subtitle__P4Q7x"}},4082:function(e){e.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverBlock:"PlaylistCard_coverBlock__1slsN",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",likeButton_withContextMenu:"PlaylistCard_likeButton_withContextMenu__CHuuc",likeButton:"PlaylistCard_likeButton__RYXJz",menuButton:"PlaylistCard_menuButton__jFcWr",pinButton:"PlaylistCard_pinButton__jhWnL",control:"PlaylistCard_control__73YUq"}}}]);