(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6897],{85564:function(e,t,a){"use strict";var i,s;a.d(t,{M:function(){return i}}),(s=i||(i={})).DISCOGRAPHY="discography",s.ALBUMS="albums",s.COMPILATIONS="compilations"},63514:function(e,t,a){"use strict";var i,s;a.d(t,{g:function(){return i}}),(s=i||(i={})).COLLECTION="collection",s.VIBE="vibe"},4144:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistAlbumsPage:function(){return x}});var i=a(8759),s=a(35338),r=a(33423),l=a(11769),o=a(99616),n=a(65244),c=a(1918),d=a(70579),m=a(96911),u=a(81546),g=a(13236),b=a(7042),h=a(5674),_=a(44285),S=a(85564),p=a(28674),k=a.n(p);let x=(0,r.Pi)(e=>{var t,a,r,p,x,f;let{artistId:v,variant:A}=e,{artist:C,disclaimer:j}=(0,h.oR)(),{formatMessage:L}=(0,n.Z)(),[I,P]=(0,g.zU)(),B=(0,h.k6)();if(v&&C.albumsSubpage.loadingState===h.Gu.IDLE){C.albumsSubpage.setVariant(A);let e=Promise.allSettled([C.getData({artistId:v}),C.albumsSubpage.getData({artistId:v,page:0,pageSize:20,sort:{sortBy:"year"}})]);(0,o.use)(e)}let N=(0,o.useCallback)(e=>{v&&C.albumsSubpage.getData({artistId:v,page:e,pageSize:20,sort:{sortBy:"year"}})},[C.albumsSubpage,v]),T=(0,u.v2)({artist:null===(t=C.meta)||void 0===t?void 0:t.artist,shouldHistoryBack:!0});(0,o.useEffect)(()=>{T()},[T]),(0,o.useEffect)(()=>()=>{C.reset(),C.albumsSubpage.reset()},[C,C.albumsSubpage]),C.albumsSubpage.isNotFound&&(0,l.notFound)(),(0,h.NO)(C.albumsSubpage.loadingState===h.Gu.RESOLVE);let R=(0,o.useMemo)(()=>({Footer:()=>(0,i.jsx)(_.$_,{className:k().footer})}),[]),E=(0,o.useMemo)(()=>{switch(A){case S.M.DISCOGRAPHY:return L({id:"entity-names.studio-albums"});case S.M.COMPILATIONS:return L({id:"entity-names.compilations"});default:return L({id:"entity-names.albums"})}},[L,A]),y=(0,o.useMemo)(()=>{switch(A){case S.M.DISCOGRAPHY:return L({id:"entity-names.artist-studio-albums-list"});case S.M.COMPILATIONS:return L({id:"entity-names.artist-compilations-list"});default:return L({id:"entity-names.artist-albums-list"})}},[L,A]),O=(0,o.useMemo)(()=>{switch(A){case S.M.DISCOGRAPHY:return h.Rh.ARTIST_DISCOGRAPHY;case S.M.COMPILATIONS:return h.Rh.ARTIST_COMPILATIONS;default:return h.Rh.ARTIST_ALBUMS}},[A]);return(null===(a=C.meta)||void 0===a?void 0:a.artist.isLegalRejected)?j.isRejected?(0,i.jsx)(d.D,{}):(0,i.jsx)(b.em,{disclaimer:j}):C.albumsSubpage.loadingState!==h.Gu.REJECT||C.albumsSubpage.isNotFound?(0,i.jsx)(h.Lh,{pageId:O,children:(0,i.jsx)(g.I7,{scrollElement:I,outerTitle:E,children:(0,i.jsxs)("div",{className:k().root,children:[(0,i.jsx)(_.h4,{variant:"text",withForwardControl:!1,withBackwardControl:B.canBack,children:(0,i.jsx)(c.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:E})}),(0,i.jsx)(_.Wv,{className:(0,s.W)(k().scrollContainer,k().important),listClassName:k().content,itemClassName:k().item,customComponents:R,itemContentCallback:e=>{var t,a;let s=null===(a=C.albumsSubpage)||void 0===a?void 0:null===(t=a.items)||void 0===t?void 0:t[e],r=L({id:"loading-messages.entity-is-loading"},{entityName:L({id:"entity-names.playlist"})});return s?(0,i.jsx)(m.rf,{album:s,contentLinesCount:3},s.id):(0,i.jsx)(_.hi,{"aria-label":r})},totalCount:null!==(x=null===(p=C.albumsSubpage)||void 0===p?void 0:null===(r=p.pager)||void 0===r?void 0:r.total)&&void 0!==x?x:0,onGetDataByPage:N,pageSize:20,totalRequests:null!==(f=C.albumsSubpage.requests)&&void 0!==f?f:0,handleRef:P,context:{listAriaLabel:y}})]})})}):(0,i.jsx)(d.D,{})})},66649:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistConcertsPage:function(){return C}});var i=a(8759),s=a(33423),r=a(11769),l=a(99616),o=a(65244),n=a(2814),c=a(42503),d=a(71716),m=a(1918),u=a(70579),g=a(81546),b=a(13236),h=a(55238),_=a(7042),S=a(5674),p=a(44285),k=a(82834);let x=e=>{let{artistId:t,viewUuid:a}=e,i=(0,S.z$)(),{hash:s}=(0,S.RQ)(),r=(0,S.wL)();return(0,l.useCallback)(()=>{if(!i||!t)return;let e=(0,S.KO)({params:{hash:s,artistId:t,viewUuid:a},logger:r,context:x.name});e&&(0,k.A7)(i.evgenInstance,e)},[i,t,s,r,a])},f=e=>{let{artistId:t,viewUuid:a}=e,i=(0,S.z$)(),{hash:s}=(0,S.RQ)(),r=(0,S.wL)();return(0,l.useCallback)(()=>{if(!i||!t)return;let e=(0,S.KO)({params:{hash:s,artistId:t,viewUuid:a},logger:r,context:f.name});e&&(0,k.is)(i.evgenInstance,e)},[i,t,s,r,a])};var v=a(8023),A=a.n(v);let C=(0,s.Pi)(e=>{var t,a;let{artistId:s}=e,{artist:k,experiments:v,disclaimer:C}=(0,S.oR)(),{formatMessage:j}=(0,o.Z)(),[L,I]=(0,b.zU)(),P=(0,S.k6)(),B=(0,l.useRef)(String((0,c.Z)())),N=f({artistId:s,viewUuid:B.current}),T=x({artistId:s,viewUuid:B.current});if((0,l.useEffect)(()=>(N(),()=>{T()}),[T,N]),s&&k.concertsSubpage.loadingState===S.Gu.IDLE){let e=Promise.allSettled([k.getData({artistId:s}),k.concertsSubpage.getData({artistId:s})]);(0,l.use)(e)}let R=(0,g.v2)({artist:null===(t=k.meta)||void 0===t?void 0:t.artist,shouldHistoryBack:!0});(0,l.useEffect)(()=>{R()},[R]),(0,l.useEffect)(()=>()=>{k.reset(),k.concertsSubpage.reset()},[k]),(0,S.NO)(k.concertsSubpage.loadingState===S.Gu.RESOLVE),(k.concertsSubpage.isNotFound||!v.checkExperiment(S.pe.WebNewConcertsList,"on"))&&(0,r.notFound)();let E=(0,l.useMemo)(()=>{if(k.concertsSubpage.isLoading)return(0,p.M4)(10);if(s){var e;return null===(e=k.concertsSubpage.concerts)||void 0===e?void 0:e.map((e,t)=>(0,i.jsx)(S.nZ,{objectId:String(e.id),objectPos:t+1,children:(0,i.jsx)(h.kb,{artistId:s,concert:e,viewUuid:B.current})},e.id))}},[k.concertsSubpage.concerts,k.concertsSubpage.isLoading,s,B]);return(null===(a=k.meta)||void 0===a?void 0:a.artist.isLegalRejected)?C.isRejected?(0,i.jsx)(u.D,{}):(0,i.jsx)(_.em,{disclaimer:C}):(0,i.jsx)(S.Lh,{pageId:S.Rh.ARTIST_CONCERTS,children:(0,i.jsx)(S.e4,{children:(0,i.jsxs)(b.I7,{scrollElement:L,outerTitle:j({id:"entity-names.concerts"}),children:[(0,i.jsx)(p.h4,{variant:"text",withForwardControl:!1,withBackwardControl:P.canBack,children:(0,i.jsx)(m.Heading,{id:"concerts-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,i.jsx)(n.Z,{id:"entity-names.concerts"})})}),(0,i.jsx)(d.t,{ref:I,className:A().root,containerClassName:A().scrollableContainer,children:(0,i.jsxs)("div",{className:A().container,children:[(0,i.jsx)("div",{className:A().content,"aria-labelledby":"concerts-header",tabIndex:0,children:E}),(0,i.jsx)(p.$_,{className:A().footer})]})})]})})})})},45304:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistFamiliarPage:function(){return U}});var i,s,r=a(8759),l=a(33423),o=a(11769),n=a(99616),c=a(26265),d=a(70579),m=a(81546),u=a(13236),g=a(7042),b=a(5674),h=a(63514);(i=s||(s={}))[i.COLLECTION=0]="COLLECTION",i[i.VIBE=1]="VIBE";var _=a(50871),S=a.n(_),p=a(35338),k=a(65244),x=a(57413),f=a(71716),v=a(12670),A=a(96911),C=a(95539),j=a(44285),L=a(2814),I=a(1918),P=a(42769);let B=e=>{let t=(0,b.m5)();return(0,n.useCallback)(a=>{var i;null===(i=e.onTabChange)||void 0===i||i.call(e,a),t("".concat(window.location.pathname,"?tab=").concat(a))},[t,e])};var N=a(81920),T=a.n(N);let R=()=>(0,r.jsxs)("div",{className:T().tabsShimmer,children:[(0,r.jsx)(v.Shimmer,{className:T().tabShimmer}),(0,r.jsx)(v.Shimmer,{className:T().tabShimmer})]}),E=(0,l.Pi)(e=>{let{tabsState:t,tabElementId:a}=e,{artist:i}=(0,b.oR)(),{formatMessage:l}=(0,k.Z)(),o=(0,b.k6)(),{isScrolling:c}=(0,n.useContext)(j.pI),d=B(t);return(0,r.jsxs)("header",{className:T().root,"aria-hidden":c,children:[(0,r.jsxs)("div",{className:T().container,children:[o.canBack&&(0,r.jsx)(P.n,{withForwardControl:!1,withBackwardControl:o.canBack}),(0,r.jsx)(I.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,className:T().title,children:(0,r.jsx)(L.Z,{id:"page.familiar-you"})})]}),(0,r.jsxs)(j.no,{isShimmerVisible:i.familiarSubpage.isLoading,shimmer:(0,r.jsx)(R,{}),className:T().tabs,elementId:a,onTabChange:d,...t,children:[(0,r.jsx)(j.OK,{className:T().tab,value:s.COLLECTION,title:l({id:"page.familiar-collection"}),"aria-hidden":c,tabIndex:c?-1:0}),(0,r.jsx)(j.OK,{className:T().tab,value:s.VIBE,title:l({id:"page.familiar-vibe"}),"aria-hidden":c,tabIndex:c?-1:0})]})]})});var y=a(67807),O=a.n(y);let w=(0,l.Pi)(e=>{var t;let{forwardRef:a,tabsState:i,tabElementId:l,artistId:o}=e,{artist:d}=(0,b.oR)(),{formatMessage:m}=(0,k.Z)(),u=(0,b.x5)(),g=(0,n.useCallback)((e,t)=>({contextData:{type:x.Ak.Various,meta:{id:String(o)},from:u,overrideAutoflowSeeds:["artist:".concat(o)],overrideContextType:x.Zc.Artist},queueParams:{index:t},loadContextMeta:!1,entitiesData:d.familiarSubpage.collectionEntitiesData}),[d.familiarSubpage.collectionEntitiesData,o,u]),h=(0,n.useMemo)(()=>{var e;return(0,r.jsx)(j.RS,{isShimmerVisible:d.familiarSubpage.isLoading,isShimmerActive:!0,variant:b.Lx.PLAYLIST,shimmersCount:10,className:(0,p.W)(O().block,O().tracksBlock),children:null===(e=d.familiarSubpage.collectionTracks)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)(C.O2,{track:e,playContextParams:g(e,t)},e.id))})},[d.familiarSubpage.collectionTracks,d.familiarSubpage.isLoading,g]),_=(0,n.useMemo)(()=>d.familiarSubpage.shouldShowTitleBlocks?d.familiarSubpage.isLoading?(0,r.jsx)("div",{className:(0,p.W)(O().block,O().blockHeader),children:(0,r.jsx)(v.Shimmer,{isActive:d.familiarSubpage.isLoading,className:O().shimmerTitle,radius:"l"})}):(0,r.jsx)(j.ti,{className:(0,p.W)(O().block,O().blockHeader),title:m({id:"entity-names.tracks"})}):void 0,[d.familiarSubpage.isLoading,d.familiarSubpage.shouldShowTitleBlocks,m]),S=(0,n.useMemo)(()=>{if(d.familiarSubpage.shouldShowTitleBlocks)return m({id:"entity-names.albums"})},[d.familiarSubpage.shouldShowTitleBlocks,m]);return(0,r.jsxs)(f.t,{className:O().root,containerClassName:(0,p.W)(O().scrollContainer,O().important),ref:a,children:[(0,r.jsx)(E,{tabsState:i,tabElementId:l}),(0,r.jsxs)(c.TabPanel,{value:i.value,name:s.COLLECTION,elementId:l,className:O().content,children:[(0,r.jsxs)("section",{children:[_,h]}),(0,r.jsx)(j.HY,{isShimmerVisible:d.familiarSubpage.isLoading,isShimmerActive:!0,headerClassName:O().blockHeader,containerClassName:O().block,title:S,showHeaderShimmer:d.familiarSubpage.shouldShowTitleBlocks,children:null===(t=d.familiarSubpage.collectionAlbums)||void 0===t?void 0:t.map(e=>(0,r.jsx)(A.rf,{album:e,contentLinesCount:3},e.id))})]}),(0,r.jsx)(j.$_,{className:O().footer})]})}),F=(0,l.Pi)(e=>{let{forwardRef:t,tabsState:a,tabElementId:i,artistId:l}=e,{artist:o}=(0,b.oR)(),d=(0,b.x5)(),m=(0,n.useCallback)((e,t)=>({contextData:{type:x.Ak.Various,meta:{id:String(l)},from:d,overrideAutoflowSeeds:["artist:".concat(l)],overrideContextType:x.Zc.Artist},queueParams:{index:t},loadContextMeta:!1,entitiesData:o.familiarSubpage.vibeEntitiesData}),[o.familiarSubpage.vibeEntitiesData,l,d]),u=(0,n.useMemo)(()=>{var e;return(0,r.jsx)(j.RS,{isShimmerVisible:o.familiarSubpage.isLoading,isShimmerActive:!0,variant:b.Lx.PLAYLIST,shimmersCount:10,className:(0,p.W)(O().block,O().tracksBlock),children:null===(e=o.familiarSubpage.vibeTracks)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)(C.O2,{track:e,playContextParams:m(e,t)},e.id))})},[o.familiarSubpage.isLoading,o.familiarSubpage.vibeTracks,m]);return(0,r.jsxs)(f.t,{className:O().root,containerClassName:(0,p.W)(O().scrollContainer,O().important),ref:t,children:[(0,r.jsx)(E,{tabsState:a,tabElementId:i}),(0,r.jsx)(c.TabPanel,{value:a.value,name:s.VIBE,elementId:i,className:O().content,children:u}),(0,r.jsx)(j.$_,{className:O().footer})]})});var H=a(14581),D=a(38462),M=a.n(D);let W=e=>{let{tabsState:t,tabElementId:a}=e,i=(0,n.useMemo)(()=>{switch(t.value){case s.COLLECTION:return(0,r.jsx)(L.Z,{id:"error-messages.empty-artist-familiar-collection-title"});case s.VIBE:return(0,r.jsx)(L.Z,{id:"error-messages.empty-artist-familiar-vibe-title"})}},[t.value]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{tabsState:t,tabElementId:a}),(0,r.jsxs)("div",{className:M().root,children:[(0,r.jsx)(H.J,{className:M().icon,variant:"attention"}),(0,r.jsx)(I.Heading,{className:M().title,variant:"h3",size:"xs",children:i})]})]})},V=(0,l.Pi)(e=>{let{tabsState:t,tabElementId:a}=e,{artist:i}=(0,b.oR)(),{formatMessage:l}=(0,k.Z)(),{isScrolling:o}=(0,n.useContext)(j.pI),c=(0,b.k6)(),d=B(t);return(0,r.jsx)(j.h4,{variant:"composite",staticClassName:(0,p.W)(T().staticHeader,T().important),"aria-hidden":!o,stickyClassName:(0,p.W)(T().stickyHeader,T().important),stickyChild:(0,r.jsxs)("div",{className:T().container,children:[c.canBack&&(0,r.jsx)(P.n,{withForwardControl:!1,withBackwardControl:c.canBack,buttonSize:"xs"}),(0,r.jsxs)(j.no,{isShimmerVisible:i.familiarSubpage.isLoading,shimmer:(0,r.jsx)(R,{}),className:T().tabs,elementId:a,onTabChange:d,...t,children:[(0,r.jsx)(j.OK,{className:T().tab,value:s.COLLECTION,title:l({id:"page.familiar-collection"}),"aria-hidden":!o,tabIndex:o?0:-1}),(0,r.jsx)(j.OK,{className:T().tab,value:s.VIBE,title:l({id:"page.familiar-vibe"}),"aria-hidden":!o,tabIndex:o?0:-1})]})]})})}),U=(0,l.Pi)(e=>{var t,a;let{artistId:i}=e,l=(0,o.useSearchParams)(),{artist:_,experiments:p,disclaimer:k}=(0,b.oR)(),[x,f]=(0,u.zU)(),v=(0,n.useId)(),A=(0,n.useMemo)(()=>{let e=l.get(b.wx.TAB);switch(e){case h.g.COLLECTION:break;case h.g.VIBE:return s.VIBE}return s.COLLECTION},[l]),C=(0,c.useTabsState)(A);i&&_.familiarSubpage.loadingState===b.Gu.IDLE&&(0,n.use)(_.familiarSubpage.getData({artistId:i}));let j=(0,m.v2)({artist:null===(t=_.meta)||void 0===t?void 0:t.artist,shouldHistoryBack:!0});(0,n.useEffect)(()=>{j()},[j]),(0,n.useEffect)(()=>()=>{_.familiarSubpage.reset()},[_]),(0,b.NO)(_.familiarSubpage.loadingState===b.Gu.RESOLVE),(_.familiarSubpage.isNotFound||!p.checkExperiment(b.pe.WebNextFamiliarYou,"on"))&&(0,o.notFound)();let L=(0,n.useMemo)(()=>{switch(C.value){case s.COLLECTION:if(_.familiarSubpage.isLoaded&&!_.familiarSubpage.hasCollectionEntities)return(0,r.jsx)(W,{tabsState:C,tabElementId:v});return(0,r.jsx)(w,{tabsState:C,forwardRef:f,tabElementId:v,artistId:i});case s.VIBE:if(_.familiarSubpage.isLoaded&&!_.familiarSubpage.hasVibeTracks)return(0,r.jsx)(W,{tabsState:C,tabElementId:v});return(0,r.jsx)(F,{tabsState:C,forwardRef:f,tabElementId:v,artistId:i})}},[_.familiarSubpage.hasCollectionEntities,_.familiarSubpage.hasVibeTracks,_.familiarSubpage.isLoaded,i,f,v,C]);return _.familiarSubpage.isRejected&&!_.familiarSubpage.isNotFound?(0,r.jsx)(d.D,{}):(null===(a=_.meta)||void 0===a?void 0:a.artist.isLegalRejected)?k.isRejected?(0,r.jsx)(d.D,{}):(0,r.jsx)(g.em,{disclaimer:k}):(0,r.jsx)(b.Lh,{pageId:b.Rh.FAMILIAR_YOU,children:(0,r.jsx)(u.I7,{scrollElement:x,headerThreshold:148,children:(0,r.jsxs)("div",{className:S().root,children:[(0,r.jsx)(V,{tabElementId:v,tabsState:C}),(0,r.jsx)(b.J,{blockIdForFrom:b.aU.DEFAULT,children:L})]})})})})},64285:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistNotFoundPage:function(){return n}});var i=a(8759),s=a(33423),r=a(99616),l=a(2365),o=a(5674);let n=(0,s.Pi)(()=>{let{artist:e}=(0,o.oR)();return(0,r.useEffect)(()=>()=>{e.reset()},[e]),(0,i.jsx)(l.T,{})})},91399:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistPage:function(){return E}});var i,s,r=a(8759),l=a(35338),o=a(33423),n=a(11769),c=a(99616),d=a(65244),m=a(82834),u=a(454),g=a(57413),b=a(27287),h=a(71716),_=a(12670),S=a(48157),p=a(70579),k=a(96911),x=a(81546),f=a(13236),v=a(20210),A=a(95539),C=a(55238),j=a(7042),L=a(3515),I=a(5674),P=a(44285);let B=e=>{let{blockId:t,scrollRef:a,headerRef:i}=e,s=document.getElementById(t);if(s&&a){var r;let e=s.getBoundingClientRect().top,t=(null===(r=i.current)||void 0===r?void 0:r.offsetHeight)?e-i.current.offsetHeight:e;a.scrollTo({top:t-10,behavior:"smooth"})}};(i=s||(s={})).UPCOMING_RELEASE="upcoming_release",i.TRACKS="tracks",i.FAMILIAR="familiar",i.CONCERTS="concerts";var N=a(41550),T=a.n(N);let R=e=>{let{withReleaseBlock:t,children:a,isLoading:i,viewAllActionLink:s,...o}=e,{formatMessage:n}=(0,d.Z)();return(0,r.jsxs)("div",{className:(0,l.W)(T().popularTracksBlock,{[T().popularTracksBlock_withReleaseBlock]:t}),...o,...(0,u.BA)(u.Br.artist.POPULAR_TRACKS),children:[(0,r.jsx)(P.ti,{className:T().popularTracksBlockHeader,title:n({id:"entity-names.popular-tracks"}),viewAllActionLink:s}),(0,r.jsx)(P.RS,{isShimmerVisible:i,isShimmerActive:!0,className:T().popularTracksBlockList,variant:I.Lx.PLAYLIST,children:a})]})},E=(0,o.Pi)(e=>{var t,a,i,o,N,E,y,O,w,F;let{artistId:H}=e,D=(0,I.x5)({pageId:I.Rh.ARTIST,blockId:I.aU.ARTIST}),{notify:M}=(0,I.d$)(),{artist:W,experiments:V,disclaimer:U}=(0,I.oR)(),{formatMessage:G}=(0,d.Z)(),z=(0,c.useRef)(0),{href:Y}=(0,I.zB)("/artist/".concat(W.deprecationTargetArtistId)),{ref:Z,offsetY:K}=(0,b.e)(),[J,q]=(0,f.zU)(),$=(0,c.useRef)(null),X=(0,c.useMemo)(()=>{var e,t;return(0,I.XG)(null==W?void 0:null===(t=W.meta)||void 0===t?void 0:null===(e=t.artist)||void 0===e?void 0:e.averageColor)},[null==W?void 0:null===(a=W.meta)||void 0===a?void 0:null===(t=a.artist)||void 0===t?void 0:t.averageColor]),[Q,ee]=(0,f.at)(X,K),et=(0,n.useSearchParams)();(0,c.useEffect)(()=>{let e=et.get(I.wx.BLOCK);e&&W.isLoaded&&W.familiarInfo.isLoaded&&B({blockId:e,scrollRef:J,headerRef:$})},[W.isLoaded,W.familiarInfo.isLoaded,J,et]);let ea=(0,x.v2)({artist:null===(i=W.meta)||void 0===i?void 0:i.artist,shouldHistoryBack:!0});(0,c.useEffect)(()=>{var e;(null===(e=W.meta)||void 0===e?void 0:e.artist.isUnsafeLegal)&&ea()},[null===(o=W.meta)||void 0===o?void 0:o.artist.isUnsafeLegal,ea]),(0,c.useEffect)(()=>()=>{W.reset(),W.familiarInfo.reset(),z.current=0},[W,H]),W.deprecationTargetArtistId&&(0,n.redirect)(Y);let ei=(0,c.useMemo)(()=>()=>{(W.isRejected||!W.meta&&!W.isLoading)&&z&&!(z.current>0)&&(M((0,r.jsx)(P.Q,{error:G({id:"artist-errors.error-during-loading-artist"})}),{containerId:I.W$.ERROR}),z.current++)},[W.isRejected,W.meta,W.isLoading,M,G]);if(ei(),H&&W.loadingState===I.Gu.IDLE){let e=Promise.allSettled([W.getData({artistId:H}),W.familiarInfo.getData({artistId:H})]);(0,c.use)(e)}if((0,I.NO)(W.loadingState===I.Gu.RESOLVE),W.isNotFound&&(0,n.notFound)(),W.loadingState===I.Gu.REJECT&&!W.isNotFound)return(0,r.jsx)(p.D,{});let es=e=>({contextData:{type:g.Ak.Artist,meta:{id:Number(H)},from:D},queueParams:{index:W.popularTracks.findIndex(t=>t.id===e)},loadContextMeta:!0}),er=(0,c.useMemo)(()=>W.isLoading||!W.meta?(0,r.jsx)(S.KC,{className:T().header,coverRadius:"round"}):(0,r.jsx)(S.f3,{className:T().header,artistMeta:W.meta,ref:Z}),[W.isLoading,W.meta,Z]),el=(0,c.useMemo)(()=>W.isLoading?(0,r.jsxs)("div",{className:T().releaseBlock,children:[(0,r.jsx)(_.Shimmer,{radius:"l",className:T().releaseBlockHeaderShimmer}),(0,r.jsx)(P.hi,{className:(0,l.W)(T().releaseBlockCard,T().important)})]}):W.upcomingAlbum&&V.checkExperiment(I.pe.WebPresave,"on")?(0,r.jsxs)("div",{className:T().releaseBlock,id:s.UPCOMING_RELEASE,children:[(0,r.jsx)(P.ti,{className:T().releaseBlockHeader,title:G({id:"entity-names.upcoming-album"})}),(0,r.jsx)(k.vK,{className:(0,l.W)(T().releaseBlockCard,T().important),upcomingAlbum:W.upcomingAlbum})]}):W.lastRelease?(0,r.jsxs)("div",{className:T().releaseBlock,children:[(0,r.jsx)(P.ti,{className:T().releaseBlockHeader,title:G({id:"entity-names.recently-release"})}),(0,r.jsx)(k.rf,{className:(0,l.W)(T().releaseBlockCard,T().important),album:W.lastRelease})]}):void 0,[W.isLoading,W.lastRelease,W.upcomingAlbum,V,G]),eo=(0,c.useMemo)(()=>{let e=[];return W.familiarInfo.tracksCount&&e.push(G({id:"entity-names.tracks-count"},{value:W.familiarInfo.tracksCount})),W.familiarInfo.collectionAlbumCount&&e.push(G({id:"entity-names.albums-count"},{value:W.familiarInfo.collectionAlbumCount})),e.join(" â€¢ ")},[W.familiarInfo.collectionAlbumCount,W.familiarInfo.tracksCount,G]);return(null===(N=W.meta)||void 0===N?void 0:N.artist.isLegalRejected)?U.isRejected?(0,r.jsx)(p.D,{}):(0,r.jsx)(j.em,{disclaimer:U}):(0,r.jsx)(I.Lh,{pageId:I.Rh.ARTIST,children:(0,r.jsx)(I.e4,{children:(0,r.jsxs)(f.I7,{scrollElement:J,children:[(0,r.jsx)(P.h4,{style:ee,innerHeaderRef:$}),(0,r.jsx)("div",{className:T().averageColorBackground,style:Q}),(0,r.jsxs)(h.t,{className:T().root,containerClassName:T().content,ref:q,children:[(0,r.jsxs)("div",{children:[er,(0,r.jsxs)("div",{className:T().recents,children:[W.hasPopularTracks&&(0,r.jsx)(R,{withReleaseBlock:W.hasReleaseBlock,isLoading:W.isLoading,viewAllActionLink:"/artist/".concat(H,"/tracks"),id:s.TRACKS,children:null===(E=W.popularTracks)||void 0===E?void 0:E.map((e,t)=>(0,r.jsx)(A.O2,{track:e,playContextParams:es(e.id),hasDuplicatesBefore:(0,L.BA)(W.popularTracks,e,t)},e.id))}),el]}),(0,r.jsxs)("div",{className:T().carouselBlocks,children:[W.familiarInfo.isFamiliarYouEnabled&&W.familiarInfo.hasFamiliarInfo&&(0,r.jsx)(P.ti,{id:s.FAMILIAR,className:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),coverUrl:"avatars.mds.yandex.net/get-music-misc/2419084/img.65faec7dd0866004f49a38bc/%%",viewAllActionLink:W.familiarInfo.href(H),controls:!1,title:G({id:"page.familiar-you"}),description:eo}),W.hasDiscography&&(0,r.jsx)(I.J,{blockId:I.BE.DISCOGRAPHY_CAROUSEL,blockType:I.BE.ALBUMS_CAROUSEL,blockPosX:1,blockPosY:2,blockIdForFrom:I.BE.DISCOGRAPHY_CAROUSEL,objectsCount:W.discography.length,children:(0,r.jsx)(k.wk,{isShimmerVisible:W.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),containerClassName:T().carouselBlock,albums:W.discography,title:G({id:"entity-names.studio-albums"}),viewAllActionLink:"/artist/".concat(H,"/discography"),...(0,u.BA)(u.Br.artist.STUDIO_ALBUMS)})}),W.hasAlbums&&(0,r.jsx)(I.J,{blockId:I.BE.ALBUMS_CAROUSEL,blockType:I.BE.ALBUMS_CAROUSEL,blockPosX:1,blockPosY:3,blockIdForFrom:I.BE.ALBUMS_CAROUSEL,objectsCount:W.albums.length,children:(0,r.jsx)(k.wk,{isShimmerVisible:W.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),containerClassName:T().carouselBlock,albums:W.albums,title:G({id:"entity-names.popular-albums"}),viewAllActionLink:"/artist/".concat(H,"/albums"),...(0,u.BA)(u.Br.artist.POPULAR_ALBUMS)})}),H&&W.hasConcerts&&(0,r.jsx)(I.nZ,{objectType:m.OB.Shortcut,objectId:"/artist/".concat(H,"/concerts"),objectPosX:0,objectPosY:0,objectsCount:null!==(w=null===(y=W.concerts)||void 0===y?void 0:y.length)&&void 0!==w?w:0,children:(0,r.jsx)(C.m,{id:s.CONCERTS,artistId:H,title:G({id:"entity-names.concerts"}),isLoading:W.isLoading,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),containerClassName:T().concertsBlock,viewAllActionLink:W.concertsLink,children:null===(O=W.concerts)||void 0===O?void 0:O.map((e,t)=>{var a;return(0,r.jsx)(I.nZ,{objectType:m.OB.Concert,objectId:String(e.id),objectPosX:Math.floor(t/2)+1,objectPosY:t%2+1,objectsCount:null!==(F=null===(a=W.concerts)||void 0===a?void 0:a.length)&&void 0!==F?F:0,children:(0,r.jsx)(C.kb,{artistId:H,concert:e})},e.id)})})}),W.hasPlaylists&&(0,r.jsx)(v.VD,{isShimmerVisible:W.isLoading,isShimmerActive:!0,containerClassName:T().carouselBlock,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),title:G({id:"entity-names.artist-playlist"}),playlists:W.playlists,...(0,u.BA)(u.Br.artist.ARTIST_PLAYLISTS)}),W.hasCompilations&&(0,r.jsx)(I.J,{blockId:I.BE.COMPILATIONS_CAROUSEL,blockType:"albums_carousel",blockPosX:1,blockPosY:5,blockIdForFrom:I.BE.COMPILATIONS_CAROUSEL,objectsCount:W.compilations.length,children:(0,r.jsx)(k.wk,{isShimmerVisible:W.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),containerClassName:T().carouselBlock,albums:W.compilations,title:G({id:"entity-names.compilations"}),viewAllActionLink:"/artist/".concat(H,"/compilations"),...(0,u.BA)(u.Br.artist.COMPILATIONS)})}),W.hasSimilarArtists&&(0,r.jsx)(P.HY,{isShimmerVisible:W.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(T().carouselBlockHeader,T().carouselBlock),containerClassName:T().carouselBlock,title:G({id:"entity-names.similar-artists"}),viewAllActionLink:"/artist/".concat(H,"/similar"),...(0,u.BA)(u.Br.artist.SIMILAR_ARTISTS),children:W.similarArtists.map(e=>(0,r.jsx)(x.IT,{artist:e,contentLinesCount:3},e.id))})]})]}),(0,r.jsx)(P.$_,{className:T().footer})]})]})})})})},41591:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistSimilarPage:function(){return k}});var i=a(8759),s=a(33423),r=a(11769),l=a(99616),o=a(65244),n=a(2814),c=a(71716),d=a(1918),m=a(70579),u=a(81546),g=a(13236),b=a(7042),h=a(5674),_=a(44285),S=a(33768),p=a.n(S);let k=(0,s.Pi)(e=>{var t,a,s;let{artistId:S}=e,{artist:k,disclaimer:x}=(0,h.oR)(),{formatMessage:f}=(0,o.Z)(),[v,A]=(0,g.zU)(),C=(0,h.k6)();if(S&&k.loadingState===h.Gu.IDLE){let e=Promise.allSettled([k.getData({artistId:S}),k.similarArtistsSubPage.getData({artistId:S})]);(0,l.use)(e)}let j=(0,u.v2)({artist:null===(t=k.meta)||void 0===t?void 0:t.artist,shouldHistoryBack:!0});(0,l.useEffect)(()=>{j()},[j]),(0,l.useEffect)(()=>()=>{k.reset(),k.similarArtistsSubPage.reset()},[k]),k.similarArtistsSubPage.isNotFound&&(0,r.notFound)(),(0,h.NO)(k.similarArtistsSubPage.loadingState===h.Gu.RESOLVE);let L=(0,l.useMemo)(()=>{if(k.similarArtistsSubPage.loadingState===h.Gu.RESOLVE){var e;return null===(e=k.similarArtistsSubPage.similarArtists)||void 0===e?void 0:e.map(e=>(0,i.jsx)(u.IT,{className:p().item,artist:e,contentLinesCount:3},e.id))}let t=f({id:"loading-messages.entity-is-loading"},{entityName:f({id:"entity-names.similar-artists"})});return(0,i.jsx)(_.Wm,{isActive:!0,itemClassName:p().item,round:!0,centered:!0,"aria-label":t})},[k.similarArtistsSubPage.loadingState,k.similarArtistsSubPage.similarArtists,f,null===(a=k.similarArtistsSubPage.similarArtists)||void 0===a?void 0:a.length]);return(null===(s=k.meta)||void 0===s?void 0:s.artist.isLegalRejected)?x.isRejected?(0,i.jsx)(m.D,{}):(0,i.jsx)(b.em,{disclaimer:x}):k.isRejected?(0,i.jsx)(m.D,{}):(0,i.jsx)(h.Lh,{pageId:h.Rh.ARTIST_SIMILAR,children:(0,i.jsxs)(g.I7,{scrollElement:v,outerTitle:f({id:"entity-names.similar-artists"}),children:[(0,i.jsx)(_.h4,{variant:"text",withForwardControl:!1,withBackwardControl:C.canBack,children:(0,i.jsx)(d.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,i.jsx)(n.Z,{id:"entity-names.similar-artists"})})}),(0,i.jsx)(c.t,{className:p().scrollableContent,ref:A,children:(0,i.jsxs)("div",{className:p().container,children:[(0,i.jsx)("div",{className:p().content,"aria-labelledby":"collection-artists-header",tabIndex:0,children:L}),(0,i.jsx)(_.$_,{className:p().footer})]})})]})})})},66016:function(e,t,a){"use strict";a.r(t),a.d(t,{ArtistTracksPage:function(){return f}});var i=a(8759),s=a(35338),r=a(33423),l=a(11769),o=a(99616),n=a(65244),c=a(2814),d=a(57413),m=a(1918),u=a(70579),g=a(81546),b=a(13236),h=a(95539),_=a(7042),S=a(5674),p=a(44285),k=a(60495),x=a.n(k);let f=(0,r.Pi)(e=>{var t,a,r,k;let{artistId:f}=e,{artist:v,sonataState:A,disclaimer:C}=(0,S.oR)(),{formatMessage:j}=(0,n.Z)(),L=(0,S.x5)({pageId:S.Rh.ARTIST_TRACKS}),[I,P]=(0,b.zU)(),B=(0,S.k6)();if(f&&v.fullTracksListSubpage.loadingState===S.Gu.IDLE){let e=Promise.allSettled([v.getData({artistId:f}),v.fullTracksListSubpage.getTracksIds({artistId:f})]);(0,o.use)(e)}let N=(0,g.v2)({artist:null===(t=v.meta)||void 0===t?void 0:t.artist,shouldHistoryBack:!0});(0,o.useEffect)(()=>{N()},[N]),(0,o.useEffect)(()=>()=>{v.reset(),v.fullTracksListSubpage.reset()},[v,v.fullTracksListSubpage]),v.fullTracksListSubpage.isNotFound&&(0,l.notFound)(),(0,S.NO)(v.fullTracksListSubpage.loadingState===S.Gu.RESOLVE);let T=(0,o.useMemo)(()=>({Footer:()=>(0,i.jsx)(p.$_,{className:x().footer})}),[]),R=(0,o.useCallback)(e=>{let t=[];for(let i=e.startIndex;i<=e.endIndex;i++){var a;let e=null===(a=v.fullTracksListSubpage.ids)||void 0===a?void 0:a[i];!v.fullTracksListSubpage.getTrackByIndex(i)&&e&&t.push(e)}t.length&&v.fullTracksListSubpage.getTracks({trackIds:t})},[v.fullTracksListSubpage]);return v.fullTracksListSubpage.loadingState!==S.Gu.REJECT||v.fullTracksListSubpage.isNotFound?(null===(a=v.meta)||void 0===a?void 0:a.artist.isLegalRejected)?C.isRejected?(0,i.jsx)(u.D,{}):(0,i.jsx)(_.em,{disclaimer:C}):(0,i.jsx)(b.I7,{scrollElement:I,outerTitle:j({id:"search-filters.track"}),children:(0,i.jsxs)("div",{className:x().root,children:[(0,i.jsx)(p.h4,{variant:"text",withForwardControl:!1,withBackwardControl:B.canBack,children:(0,i.jsx)(m.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,i.jsx)(c.Z,{id:"search-filters.track"})})}),(0,i.jsx)(p.Wv,{className:(0,s.W)(x().scrollContainer,x().important),customComponents:T,itemContentCallback:e=>{let t=v.fullTracksListSubpage.getTrackByIndex(e),a=j({id:"loading-messages.entity-is-loading"},{entityName:j({id:"search-filters.track"})});return t?(0,i.jsx)(h.O2,{track:t,playContextParams:{contextData:{type:d.Ak.Artist,meta:{id:Number(f)},from:L},queueParams:{index:e},loadContextMeta:!0,entitiesData:A.unloadedEntitiesDataFromModels}}):(0,i.jsx)(p.DX,{isActive:!0,"aria-label":a,variant:S.Lx.PLAYLIST,className:x().shimmerItem})},totalCount:null!==(k=null===(r=v.fullTracksListSubpage.ids)||void 0===r?void 0:r.length)&&void 0!==k?k:0,onGetDataByRange:R,pageSize:20,listClassName:x().content,itemClassName:x().item,totalRequests:v.fullTracksListSubpage.tracks.size,handleRef:P,context:{listAriaLabel:j({id:"entity-names.artist-tracks-list"})}})]})}):(0,i.jsx)(u.D,{})})},70579:function(e,t,a){"use strict";a.d(t,{D:function(){return i.SomethingWentWrong}});var i=a(48471)},48471:function(e,t,a){"use strict";a.r(t),a.d(t,{SomethingWentWrong:function(){return h}});var i=a(8759),s=a(35338),r=a(33423),l=a(99616),o=a(2814),n=a(15527),c=a(14581),d=a(1918),m=a(42769),u=a(5674),g=a(29847),b=a.n(g);let h=(0,r.Pi)(e=>{let{className:t,withBackwardControl:a=!0}=e,r=(0,l.useCallback)(()=>{window.location.reload()},[]),{contentRef:g}=(0,u.$Y)();return(0,i.jsxs)("div",{className:(0,s.W)(b().root,t),children:[a&&(0,i.jsx)(m.n,{withBackwardFallback:"/",className:(0,s.W)(b().navigation,{[b().navigation_desktop]:!g}),withForwardControl:!1}),(0,i.jsxs)("div",{className:(0,s.W)(b().content,{[b().content_shrink]:!a}),children:[(0,i.jsx)(c.J,{className:b().icon,variant:"attention",size:"xxl"}),(0,i.jsx)(d.Heading,{className:(0,s.W)(b().title,b().important),variant:"h3",size:"xs",children:(0,i.jsx)(o.Z,{id:"error-messages.something-went-wrong"})}),(0,i.jsxs)(d.Caption,{className:(0,s.W)(b().text,b().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,i.jsx)(o.Z,{id:"page-error.try-to-restart-app"})]}),(0,i.jsx)(n.z,{onClick:r,className:b().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,i.jsxs)(d.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,i.jsx)(o.Z,{id:"page-error.restart-app-button"})]})})]})]})})},28674:function(e){e.exports={root:"ArtistAlbumsPage_root__UVZDz",scrollContent:"ArtistAlbumsPage_scrollContent__DUMkg",scrollContainer:"ArtistAlbumsPage_scrollContainer__2FrjI",important:"ArtistAlbumsPage_important__Id_vh",footer:"ArtistAlbumsPage_footer__6Nrct",item:"ArtistAlbumsPage_item__kiegh",content:"ArtistAlbumsPage_content__65D6P"}},8023:function(e){e.exports={root:"ArtistConcertsPage_root__DDTmb",scrollableContainer:"ArtistConcertsPage_scrollableContainer__qrAF_",container:"ArtistConcertsPage_container__ho6Fw",content:"ArtistConcertsPage_content__Ynto2",footer:"ArtistConcertsPage_footer__kQL7m"}},50871:function(e){e.exports={root:"ArtistFamiliarPage_root__9Zjo0"}},67807:function(e){e.exports={root:"ArtistFamiliarPageContent_root__0Mc9t",scrollContainer:"ArtistFamiliarPageContent_scrollContainer__TD6Kj",important:"ArtistFamiliarPageContent_important__o2KTP",content:"ArtistFamiliarPageContent_content__QquDA",block:"ArtistFamiliarPageContent_block__Cr2H_",blockHeader:"ArtistFamiliarPageContent_blockHeader__Z_uvq",tracksBlock:"ArtistFamiliarPageContent_tracksBlock__SCCLT",footer:"ArtistFamiliarPageContent_footer__nveR8",item:"ArtistFamiliarPageContent_item__fyC2q",shimmerTitle:"ArtistFamiliarPageContent_shimmerTitle__WU3vH"}},38462:function(e){e.exports={root:"ArtistFamiliarPageEmpty_root__s5xX9",icon:"ArtistFamiliarPageEmpty_icon__b7kR5",title:"ArtistFamiliarPageEmpty_title__wvBGS"}},81920:function(e){e.exports={root:"ArtistFamiliarPageHeader_root__0Wxyx",container:"ArtistFamiliarPageHeader_container__HFQzt",title:"ArtistFamiliarPageHeader_title__YpVQg",tabs:"ArtistFamiliarPageHeader_tabs__CrnJC",tab:"ArtistFamiliarPageHeader_tab__RK4OK",tabsShimmer:"ArtistFamiliarPageHeader_tabsShimmer__cbLvV",tabShimmer:"ArtistFamiliarPageHeader_tabShimmer__iLiqI",staticHeader:"ArtistFamiliarPageHeader_staticHeader__LrzR8",important:"ArtistFamiliarPageHeader_important__buc81",stickyHeader:"ArtistFamiliarPageHeader_stickyHeader__u7JdF"}},41550:function(e){e.exports={root:"ArtistPage_root__QPg3p",averageColorBackground:"ArtistPage_averageColorBackground__wXTSY",header:"ArtistPage_header__tQnNe",content:"ArtistPage_content__iZHVN",recents:"ArtistPage_recents__fjgcr",popularTracksBlock:"ArtistPage_popularTracksBlock__uJall",popularTracksBlock_withReleaseBlock:"ArtistPage_popularTracksBlock_withReleaseBlock__mzSb3",carouselBlockHeader:"ArtistPage_carouselBlockHeader__CtGDa",popularTracksBlockHeader:"ArtistPage_popularTracksBlockHeader__TysMC",releaseBlockHeader:"ArtistPage_releaseBlockHeader__OmgPW",releaseBlockHeaderShimmer:"ArtistPage_releaseBlockHeaderShimmer__AvOZC",popularTracksBlockList:"ArtistPage_popularTracksBlockList__3khYd",releaseBlock:"ArtistPage_releaseBlock__wzo2G",releaseBlockCard:"ArtistPage_releaseBlockCard__Q9Vim",important:"ArtistPage_important__rngCz",concertsBlock:"ArtistPage_concertsBlock__1BfM8",carouselBlock:"ArtistPage_carouselBlock__7tYRK",carouselBlocks:"ArtistPage_carouselBlocks__KfSTw",footer:"ArtistPage_footer__8m6P9"}},33768:function(e){e.exports={scrollableContent:"ArtistSimilarPage_scrollableContent__WD72A",container:"ArtistSimilarPage_container__DDj5O",content:"ArtistSimilarPage_content__X71xs",footer:"ArtistSimilarPage_footer__FdVkO"}},60495:function(e){e.exports={root:"ArtistTracksPage_root__ad3rI",footer:"ArtistTracksPage_footer__KN2i_",scrollContainer:"ArtistTracksPage_scrollContainer__9iO2g",important:"ArtistTracksPage_important__iulth",content:"ArtistTracksPage_content__6LJJd",shimmerItem:"ArtistTracksPage_shimmerItem__136_r"}},29847:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}}]);