(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5439],{17878:function(e,t,i){Promise.resolve().then(i.bind(i,78435)),Promise.resolve().then(i.bind(i,90344)),Promise.resolve().then(i.bind(i,68638)),Promise.resolve().then(i.bind(i,61308)),Promise.resolve().then(i.bind(i,96355)),Promise.resolve().then(i.bind(i,75174)),Promise.resolve().then(i.bind(i,30923)),Promise.resolve().then(i.bind(i,59210)),Promise.resolve().then(i.bind(i,44491)),Promise.resolve().then(i.bind(i,83537)),Promise.resolve().then(i.bind(i,19297)),Promise.resolve().then(i.bind(i,68724)),Promise.resolve().then(i.bind(i,97373)),Promise.resolve().then(i.bind(i,95946)),Promise.resolve().then(i.bind(i,39930)),Promise.resolve().then(i.bind(i,68288)),Promise.resolve().then(i.bind(i,19822)),Promise.resolve().then(i.bind(i,56821)),Promise.resolve().then(i.bind(i,45461)),Promise.resolve().then(i.bind(i,75563)),Promise.resolve().then(i.bind(i,46635)),Promise.resolve().then(i.bind(i,66883)),Promise.resolve().then(i.bind(i,3068)),Promise.resolve().then(i.bind(i,49221)),Promise.resolve().then(i.bind(i,34575)),Promise.resolve().then(i.t.bind(i,82333,23)),Promise.resolve().then(i.t.bind(i,95932,23)),Promise.resolve().then(i.t.bind(i,25747,23)),Promise.resolve().then(i.t.bind(i,70345,23)),Promise.resolve().then(i.bind(i,90703)),Promise.resolve().then(i.bind(i,24747)),Promise.resolve().then(i.bind(i,56472)),Promise.resolve().then(i.bind(i,77617)),Promise.resolve().then(i.bind(i,29751)),Promise.resolve().then(i.bind(i,48769)),Promise.resolve().then(i.bind(i,76808)),Promise.resolve().then(i.bind(i,15859)),Promise.resolve().then(i.bind(i,98805)),Promise.resolve().then(i.bind(i,96262)),Promise.resolve().then(i.bind(i,76600)),Promise.resolve().then(i.bind(i,677)),Promise.resolve().then(i.bind(i,25701)),Promise.resolve().then(i.bind(i,88734)),Promise.resolve().then(i.bind(i,28239)),Promise.resolve().then(i.bind(i,90565)),Promise.resolve().then(i.bind(i,64421)),Promise.resolve().then(i.bind(i,64632)),Promise.resolve().then(i.bind(i,96999)),Promise.resolve().then(i.bind(i,52075)),Promise.resolve().then(i.bind(i,67864)),Promise.resolve().then(i.bind(i,7594)),Promise.resolve().then(i.bind(i,33066)),Promise.resolve().then(i.bind(i,57218)),Promise.resolve().then(i.bind(i,50449)),Promise.resolve().then(i.bind(i,3724)),Promise.resolve().then(i.bind(i,36494)),Promise.resolve().then(i.bind(i,26258)),Promise.resolve().then(i.bind(i,52412)),Promise.resolve().then(i.bind(i,81822)),Promise.resolve().then(i.bind(i,66932)),Promise.resolve().then(i.bind(i,34425)),Promise.resolve().then(i.bind(i,47097)),Promise.resolve().then(i.bind(i,46172)),Promise.resolve().then(i.bind(i,48750)),Promise.resolve().then(i.bind(i,45896)),Promise.resolve().then(i.bind(i,95168)),Promise.resolve().then(i.bind(i,39229)),Promise.resolve().then(i.bind(i,1610)),Promise.resolve().then(i.bind(i,57004)),Promise.resolve().then(i.bind(i,24706)),Promise.resolve().then(i.bind(i,28465)),Promise.resolve().then(i.bind(i,32453)),Promise.resolve().then(i.bind(i,82418)),Promise.resolve().then(i.bind(i,45656)),Promise.resolve().then(i.bind(i,26265)),Promise.resolve().then(i.bind(i,1918)),Promise.resolve().then(i.bind(i,98136)),Promise.resolve().then(i.bind(i,1450)),Promise.resolve().then(i.bind(i,12670)),Promise.resolve().then(i.bind(i,53457)),Promise.resolve().then(i.bind(i,86185)),Promise.resolve().then(i.bind(i,11478)),Promise.resolve().then(i.bind(i,94834)),Promise.resolve().then(i.bind(i,81282)),Promise.resolve().then(i.bind(i,41058)),Promise.resolve().then(i.bind(i,45015)),Promise.resolve().then(i.bind(i,62923)),Promise.resolve().then(i.bind(i,88699)),Promise.resolve().then(i.bind(i,87675)),Promise.resolve().then(i.bind(i,88859)),Promise.resolve().then(i.bind(i,16999)),Promise.resolve().then(i.bind(i,98324)),Promise.resolve().then(i.bind(i,98494)),Promise.resolve().then(i.bind(i,21574)),Promise.resolve().then(i.bind(i,16189)),Promise.resolve().then(i.bind(i,13141)),Promise.resolve().then(i.bind(i,96437)),Promise.resolve().then(i.bind(i,41197)),Promise.resolve().then(i.bind(i,17434)),Promise.resolve().then(i.bind(i,41252)),Promise.resolve().then(i.bind(i,16910)),Promise.resolve().then(i.bind(i,47233)),Promise.resolve().then(i.bind(i,2958)),Promise.resolve().then(i.bind(i,72957)),Promise.resolve().then(i.bind(i,32990)),Promise.resolve().then(i.bind(i,33170)),Promise.resolve().then(i.bind(i,13795)),Promise.resolve().then(i.bind(i,91510)),Promise.resolve().then(i.bind(i,97224)),Promise.resolve().then(i.bind(i,74299)),Promise.resolve().then(i.bind(i,7064)),Promise.resolve().then(i.bind(i,59418)),Promise.resolve().then(i.bind(i,54865)),Promise.resolve().then(i.bind(i,9612)),Promise.resolve().then(i.bind(i,19320)),Promise.resolve().then(i.bind(i,45431)),Promise.resolve().then(i.bind(i,50818)),Promise.resolve().then(i.bind(i,5889)),Promise.resolve().then(i.bind(i,5658)),Promise.resolve().then(i.bind(i,84270)),Promise.resolve().then(i.bind(i,17734)),Promise.resolve().then(i.bind(i,50429)),Promise.resolve().then(i.bind(i,8425)),Promise.resolve().then(i.bind(i,63402)),Promise.resolve().then(i.bind(i,48765)),Promise.resolve().then(i.bind(i,60362)),Promise.resolve().then(i.bind(i,59741)),Promise.resolve().then(i.bind(i,19708)),Promise.resolve().then(i.bind(i,81360)),Promise.resolve().then(i.bind(i,73093)),Promise.resolve().then(i.bind(i,68019)),Promise.resolve().then(i.bind(i,41080)),Promise.resolve().then(i.bind(i,69565)),Promise.resolve().then(i.bind(i,4500)),Promise.resolve().then(i.bind(i,3696)),Promise.resolve().then(i.bind(i,63246))},70345:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{suspense:function(){return r},NoSSR:function(){return o}}),i(1073),i(99616);let n=i(53518);function r(){let e=Error(n.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=n.NEXT_DYNAMIC_NO_SSR_CODE,e}function o(e){let{children:t}=e;return t}},69559:function(e,t,i){"use strict";i.d(t,{y5:function(){return r},iX:function(){return p},Cx:function(){return P}});var n=i(99616);let r=(0,n.createContext)(null);var o=i(8759),s=i(33423),a=i(454),l=i(57413),d=i(66936),u=i(86502),h=i(66026),c=i(5674);let v=e=>{var t,i;let[r,o]=(0,n.useState)({}),{sonataState:s}=(0,c.oR)();(0,n.useEffect)(()=>{if(s.contextType===l.Ak.Vibe){var t,i,n,a;r.id===(null===(t=s.entityMeta)||void 0===t?void 0:t.id)&&!r.isLiked&&(null===(a=s.entityMeta)||void 0===a?void 0:a.isLiked)&&e(),o({id:null===(i=s.entityMeta)||void 0===i?void 0:i.id,isLiked:null===(n=s.entityMeta)||void 0===n?void 0:n.isLiked})}},[s.contextType,null===(t=s.entityMeta)||void 0===t?void 0:t.id,null===(i=s.entityMeta)||void 0===i?void 0:i.isLiked,r.id,r.isLiked,e])};var m=i(42781),b=i.n(m);let f="vibe-animation",p=(0,s.Pi)(e=>{var t,i,s,m,p,P,g;let{className:_}=e,y=(0,n.useRef)(null),x=(0,n.useRef)(null),S=(0,d.S1)([y]),{isIntersecting:E}=null!==(g=S[f])&&void 0!==g?g:{},{sonataState:T,user:A}=(0,c.oR)(),{theme:R}=(0,c.Fg)(),C=(0,n.useContext)(r),L=T.status===u.Xz.PLAYING&&T.contextType===l.Ak.Vibe;(0,n.useEffect)(()=>{if(y.current&&C){var e,t;let i=null===(t=T.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,n=A.collectionHue;x.current=new h.dr(y.current,C,n),x.current.applySettings({hue:i,collectionHue:n}),y.current.classList.add(b().root_visible)}return()=>{var e;null===(e=x.current)||void 0===e||e.destroy()}},[]),(0,n.useEffect)(()=>{var e,t,i,n,r,o,s,a;let l=null===(t=T.entityMeta)||void 0===t?void 0:null===(e=t.trackParameters)||void 0===e?void 0:e.hue,d=null===(n=T.entityMeta)||void 0===n?void 0:null===(i=n.trackParameters)||void 0===i?void 0:i.energy,u=null===(o=T.entityMeta)||void 0===o?void 0:null===(r=o.trackParameters)||void 0===r?void 0:r.userCollectionHue;u&&A.setUserCollectionHue(u),L?null===(s=x.current)||void 0===s||s.playAnimation({hue:l,collectionHue:u,energy:d}):null===(a=x.current)||void 0===a||a.idleAnimation()},[A,L,null===(i=T.entityMeta)||void 0===i?void 0:null===(t=i.trackParameters)||void 0===t?void 0:t.hue,null===(m=T.entityMeta)||void 0===m?void 0:null===(s=m.trackParameters)||void 0===s?void 0:s.energy,null===(P=T.entityMeta)||void 0===P?void 0:null===(p=P.trackParameters)||void 0===p?void 0:p.userCollectionHue]),(0,n.useEffect)(()=>{var e;let t=R===c.Q2.Dark?.0705:.9607;null===(e=x.current)||void 0===e||e.applySettings({backgroundColor:t})},[R]),(0,n.useEffect)(()=>{if(x.current){var e,t;E?null===(e=x.current)||void 0===e||e.enableRender(h.nT.BLOCK_VISIBILITY):null===(t=x.current)||void 0===t||t.disableRender(h.nT.BLOCK_VISIBILITY)}},[E]);let I=(0,n.useCallback)(()=>{var e;null===(e=x.current)||void 0===e||e.likeAnimation()},[]);return v(I),(0,o.jsx)("div",{className:_,"data-intersection-property-id":f,ref:y,...(0,a.BA)(a.bG.vibeAnimation.VIBE_ANIMATION)})}),P=e=>{let t=(0,h.wX)((0,h.kB)(e),h.UE,h.TP),i=Math.round(255*t[0]),n=Math.round(255*t[1]),r=Math.round(255*t[2]);return"rgb(".concat(i,", ").concat(n,", ").concat(r,")")}},70579:function(e,t,i){"use strict";i.d(t,{D:function(){return n.SomethingWentWrong}});var n=i(48471)},48471:function(e,t,i){"use strict";i.r(t),i.d(t,{SomethingWentWrong:function(){return b}});var n=i(8759),r=i(35338),o=i(33423),s=i(99616),a=i(2814),l=i(15527),d=i(14581),u=i(1918),h=i(42769),c=i(5674),v=i(29847),m=i.n(v);let b=(0,o.Pi)(e=>{let{className:t,withBackwardControl:i=!0}=e,o=(0,s.useCallback)(()=>{window.location.reload()},[]),{contentRef:v}=(0,c.$Y)();return(0,n.jsxs)("div",{className:(0,r.W)(m().root,t),children:[i&&(0,n.jsx)(h.n,{withBackwardFallback:"/",className:(0,r.W)(m().navigation,{[m().navigation_desktop]:!v}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,r.W)(m().content,{[m().content_shrink]:!i}),children:[(0,n.jsx)(d.J,{className:m().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(u.Heading,{className:(0,r.W)(m().title,m().important),variant:"h3",size:"xs",children:(0,n.jsx)(a.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(u.Caption,{className:(0,r.W)(m().text,m().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(a.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(l.z,{onClick:o,className:m().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(u.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(a.Z,{id:"page-error.restart-app-button"})]})})]})]})})},42781:function(e){e.exports={root_visible:"VibeAnimation_root_visible__S7kXl","fade-in":"VibeAnimation_fade-in__hx6bD"}},29847:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}},19431:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hsl2rgb=t.adjustHue=t.safeHue=void 0,t.safeHue=(e,t)=>t>=280&&t<360?e%360:e,t.adjustHue=e=>(e+280)%360,t.hsl2rgb=(e,t,i)=>{let n=n=>{let r=(n+e/30)%12;return i-t*Math.min(i,1-i)*Math.max(-1,Math.min(r-3,9-r,1))};return[n(0),n(8),n(4)]}},45475:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSettings=t.normalizeCollectionHue=t.normalizeFrequency=void 0;let n=i(85494),r=i(25161);t.normalizeFrequency=e=>Math.min(1,(0,r.round)(e)),t.normalizeCollectionHue=e=>e??n.DEFAULT_COLLECTION_HUE,t.normalizeSettings=({hue:e,collectionHue:i,energy:r,backgroundColor:o})=>{let s={collectionHue:(0,t.normalizeCollectionHue)(i)};return e&&(s.hue=e),r&&(s.energy=(r+1)*n.ENERGY_FACTOR),o&&(s.backgroundColor=o),s}},25161:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomNumber=t.round=void 0,t.round=e=>Math.round(100*e)/100,t.randomNumber=(e,t)=>Math.floor(Math.random()*(Math.floor(t)-e+1))+e},85494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENERGY_FACTOR=t.DEFAULT_ENERGY=t.DEFAULT_COLLECTION_LIGHTNESS=t.DEFAULT_COLLECTION_SATURATION=t.DEFAULT_COLLECTION_HUE=t.DEFAULT_LIGHTNESS=t.DEFAULT_SATURATION=t.DEFAULT_HUE=t.MAX_FPS=void 0,t.MAX_FPS=25,t.DEFAULT_HUE=22.968,t.DEFAULT_SATURATION=1,t.DEFAULT_LIGHTNESS=.5,t.DEFAULT_COLLECTION_HUE=10,t.DEFAULT_COLLECTION_SATURATION=.8,t.DEFAULT_COLLECTION_LIGHTNESS=.46,t.DEFAULT_ENERGY=.2,t.ENERGY_FACTOR=.4},75307:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DumbAnalyzer=t.FrequencyAnalyzer=void 0;let n=i(45475);class r{audioContext;sourceNode;analyserNode;bufferLength=0;spectrum=new Uint8Array;constructor(e){this.audioContext=new AudioContext,this.sourceNode=this.audioContext.createMediaElementSource(e),this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.sourceNode.connect(this.analyserNode),this.analyserNode.connect(this.audioContext.destination),this.bufferLength=this.analyserNode.frequencyBinCount,this.spectrum=new Uint8Array(this.bufferLength),this.handleUserAction=this.handleUserAction.bind(this),this.setupListeners()}handleUserAction(){this.audioContext.resume(),document.removeEventListener("click",this.handleUserAction)}setupListeners(){document.addEventListener("click",this.handleUserAction)}getAverageFrequencies({low:e,high:t}){let i=Math.floor(e/(this.audioContext.sampleRate/this.bufferLength)),r=Math.floor(t/(this.audioContext.sampleRate/this.bufferLength));this.analyserNode?.getByteFrequencyData(this.spectrum);let o=0,s=0;for(let e=i;e<=r;e++){let t=this.spectrum[e]??0;o+=t/256,s++}return(0,n.normalizeFrequency)(o/s)}}t.FrequencyAnalyzer=r,t.DumbAnalyzer=class{getAverageFrequencies(){return 0}}},93283:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;let n=i(19431),r=i(25161),o=i(85494),s=i(21691);class a{hue=o.DEFAULT_HUE;collectionHue=o.DEFAULT_COLLECTION_HUE;topStart;topEnd;middleStart;middleEnd;bottomStart;bottomEnd;constructor(e){this.collectionHue=e;let t=(0,n.adjustHue)(e),i=(0,n.safeHue)(t+(0,r.randomNumber)(30,40),t);this.topStart=new s.RGB(50),this.topEnd=new s.RGB(50),this.middleStart=new s.RGB(300),this.middleEnd=new s.RGB(320),this.bottomStart=new s.RGB(t),this.bottomEnd=new s.RGB(i)}get value(){return[this.bottomStart.value,this.middleStart.value,this.topStart.value,this.bottomEnd.value,this.middleEnd.value,this.topEnd.value]}update(e,t){this.hue=e,this.collectionHue=t;let i=(0,n.adjustHue)(e),o=(0,n.safeHue)(i+(0,r.randomNumber)(40,80),i),s=(0,n.adjustHue)(t);this.topStart.update(i),this.topEnd.update((0,n.safeHue)(i+(0,r.randomNumber)(30,40),i)),this.middleStart.update(o),this.middleEnd.update((0,n.safeHue)(o+(0,r.randomNumber)(30,40),i)),this.bottomStart.update(s),this.bottomEnd.update((0,n.safeHue)(s+(0,r.randomNumber)(30,40),i))}next(e){this.topStart.next(e),this.topEnd.next(e),this.middleStart.next(e),this.middleEnd.next(e),this.bottomStart.next(e),this.bottomEnd.next(e)}}t.Color=a},21461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicValue=void 0,t.DynamicValue=class{currentValue;targetValue;elapsedTime;duration;formatter;constructor(e,t,i,n){this.currentValue=e,this.targetValue=t,this.duration=i,this.elapsedTime=0,this.formatter=n}clamp(e,t,i){return Math.min(Math.max(e,t),i)}get value(){return this.formatter?this.formatter(this.currentValue):this.currentValue}update(e){this.targetValue=e,this.elapsedTime=0}next(e){let t=this.clamp(this.elapsedTime/this.duration,0,1);return this.elapsedTime+=e,this.currentValue=this.currentValue+(this.targetValue-this.currentValue)*t,this.currentValue}}},99566:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VibeAnimationRenderer=void 0;let n=i(95666),r=i(45475),o=i(85494),s=i(54104),a=i(33528),l=i(42943),d=i(46558);class u{analyzer;ticker;scene=new n.Transform;shader;renderer;uniforms;renderState={[a.RenderState.ACTIVE_TAB]:!0,[a.RenderState.BLOCK_VISIBILITY]:!0,[a.RenderState.MANUAL]:!0};constructor(e,t,i){this.uniforms=new d.Uniforms((0,r.normalizeCollectionHue)(i)),this.renderer=new n.Renderer(this.rendererOptions),this.ticker=new l.Ticker(o.MAX_FPS,this.render.bind(this)),this.analyzer=t,this.createElement(e),this.handleOnResize=this.handleOnResize.bind(this),this.handleOnVisibilityChange=this.handleOnVisibilityChange.bind(this),this.shader=this.createShader(),this.handleOnResize(),this.handleOnVisibilityChange(),this.setupListeners()}get rendererOptions(){return{alpha:!1,antialias:!1,preserveDrawingBuffer:!1}}get vertexAndFragment(){return{vertex:s.VertexShaderV2,fragment:s.FragmentShaderV2}}setupListeners(){window.addEventListener("resize",this.handleOnResize),document.addEventListener("visibilitychange",this.handleOnVisibilityChange)}createElement(e){e.innerHTML="",e.appendChild(this.renderer.gl.canvas)}createShader(){let e=this.renderer.gl,t=new n.Plane(e,{width:2,height:2}),i=new n.Program(e,{...this.vertexAndFragment,uniforms:this.uniforms.toObject()}),r=new n.Mesh(e,{geometry:t,program:i});return r.setParent(this.scene),i}render(e=1){this.uniforms.update(e,this.analyzer),this.shader.uniforms=this.uniforms.toObject(),this.renderer?.render({scene:this.scene})}handleOnResize(){this.renderer.setSize(this.uniforms.width,this.uniforms.height)}handleOnVisibilityChange(){"visible"===document.visibilityState?this.enableRender(a.RenderState.ACTIVE_TAB):this.disableRender(a.RenderState.ACTIVE_TAB)}updateRenderingState(){let e=Object.values(this.renderState).every(e=>e);e?this.ticker.start():this.ticker.stop()}applySettings(e={}){let{hue:t,collectionHue:i,energy:n,backgroundColor:o}=(0,r.normalizeSettings)(e);t&&i&&this.uniforms.updateColor(t,i),n&&this.uniforms.updateEnergy(n),o&&this.uniforms.updateBackgroundColor(o)}likeAnimation(){this.uniforms.updateReactTop(.7),setTimeout(()=>{this.uniforms.updateReactMiddle(.7)},100),setTimeout(()=>{this.uniforms.updateReactBottom(.7)},150),setTimeout(()=>{this.uniforms.updateReactTop(0)},850),setTimeout(()=>{this.uniforms.updateReactMiddle(0)},950),setTimeout(()=>{this.uniforms.updateReactBottom(0)},1050)}playAnimation(e){this.uniforms.updatePlayingState(!0),this.applySettings(e)}idleAnimation(){this.uniforms.updateEnergy(o.DEFAULT_ENERGY),this.uniforms.updatePlayingState(!1)}enableRender(e){this.renderState[e]=!0,this.updateRenderingState()}disableRender(e){this.renderState[e]=!1,this.updateRenderingState()}destroy(){this.handleOnResize&&window.removeEventListener("resize",this.handleOnResize),this.handleOnVisibilityChange&&document.removeEventListener("visibilitychange",this.handleOnVisibilityChange)}}t.VibeAnimationRenderer=u},21691:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;let n=i(19431),r=i(85494),o=i(21461);t.RGB=class{r;g;b;constructor(e){let t=(0,n.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r=new o.DynamicValue(t[0],t[0],3e3),this.g=new o.DynamicValue(t[1],t[1],3e3),this.b=new o.DynamicValue(t[2],t[2],3e3)}get value(){return[this.r.value,this.g.value,this.b.value]}update(e){let t=(0,n.hsl2rgb)(e,r.DEFAULT_SATURATION,r.DEFAULT_LIGHTNESS);this.r.update(t[0]),this.g.update(t[1]),this.b.update(t[2])}next(e){this.r.next(e),this.g.next(e),this.b.next(e)}}},42943:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0,t.Ticker=class{fps;render;isActive=!1;requestId=0;constructor(e,t){this.fps=e,this.render=t}start(){if(this.isActive)return;let e=window.performance.now(),t=1e3/this.fps,i=n=>{this.requestId=requestAnimationFrame(i);let r=n-e;r>=t-.1&&(e=n-r%t,this.render(r))};this.isActive=!0,this.requestId=requestAnimationFrame(i)}stop(){this.isActive&&(this.isActive=!1,cancelAnimationFrame(this.requestId))}}},46558:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uniforms=void 0;let n=i(95666),r=i(85494),o=i(93283),s=i(21461);class a{isPlaying=!1;quality=.6;background=new n.Vec3(0,0,0);energy=new s.DynamicValue(r.DEFAULT_ENERGY,r.DEFAULT_ENERGY,1e3);time=Math.floor(3600*Math.random());color;rotation=[new n.Vec3(-.3,.3,.2),new n.Vec3(-.3,-.3,-.2),new n.Vec3(-.3,-.3,.2)];audio=[0,0,0];audioLowRatio=new s.DynamicValue(0,0,1e3);audioMiddleRatio=new s.DynamicValue(0,0,1e3);audioHighRatio=new s.DynamicValue(0,0,1e3);reactTop=new s.DynamicValue(0,0,600);reactMiddle=new s.DynamicValue(0,0,600);reactBottom=new s.DynamicValue(0,0,600);point=[0,0];interaction=0;constructor(e){this.color=new o.Color(e)}toValue(e){return{value:e}}get width(){return Math.min(window.innerWidth*this.quality,800)}get height(){let e=window.innerHeight/window.innerWidth;return Math.min(window.innerHeight*this.quality,800*e)}updatePlayingState(e){this.isPlaying=e,e?(this.audioLowRatio.update(1),this.audioMiddleRatio.update(1),this.audioHighRatio.update(1)):(this.audioLowRatio.update(0),this.audioMiddleRatio.update(0),this.audioHighRatio.update(0))}updateColor(e,t){this.color.update(e,t)}updateBackgroundColor(e){this.background=new n.Vec3(e,e,e)}updateEnergy(e){this.energy.update(e)}updateReactTop(e){this.reactTop.update(e)}updateReactMiddle(e){this.reactMiddle.update(e)}updateReactBottom(e){this.reactBottom.update(e)}updateTime(e){let t=this.energy.value*e/1e3;this.time=(this.time+t)%86400}update(e,t){if(this.energy.next(e),this.color.next(e),this.reactTop.next(e),this.reactMiddle.next(e),this.reactBottom.next(e),this.updateTime(e),t){let i=t.getAverageFrequencies({low:0,high:250}),n=t.getAverageFrequencies({low:500,high:2e3}),r=t.getAverageFrequencies({low:2e3,high:4e3});this.audioLowRatio.next(e),this.audioMiddleRatio.next(e),this.audioHighRatio.next(e),this.audio=[i*this.audioLowRatio.value,n*this.audioMiddleRatio.value,r*this.audioHighRatio.value]}}toObject(){return{vScreenSize:this.toValue(new n.Vec2(this.width,this.height)),vTime:this.toValue(this.time),vColorBackground:this.toValue(this.background),vColor:this.toValue(this.color.value),vRotation:this.toValue(this.rotation),vAudio:this.toValue(this.audio),vReact:this.toValue([this.reactTop.value,this.reactMiddle.value,this.reactBottom.value]),vInteractionPoint:this.toValue(this.point),vInteraction:this.toValue(this.interaction)}}}t.Uniforms=a},66026:function(e,t,i){"use strict";t.TP=t.UE=t.nT=t.dr=t.Qz=t.WZ=t.kB=t.wX=void 0;var n=i(19431);Object.defineProperty(t,"wX",{enumerable:!0,get:function(){return n.hsl2rgb}}),Object.defineProperty(t,"kB",{enumerable:!0,get:function(){return n.adjustHue}});var r=i(75307);Object.defineProperty(t,"WZ",{enumerable:!0,get:function(){return r.FrequencyAnalyzer}}),Object.defineProperty(t,"Qz",{enumerable:!0,get:function(){return r.DumbAnalyzer}});var o=i(99566);Object.defineProperty(t,"dr",{enumerable:!0,get:function(){return o.VibeAnimationRenderer}});var s=i(33528);Object.defineProperty(t,"nT",{enumerable:!0,get:function(){return s.RenderState}});var a=i(85494);Object.defineProperty(t,"UE",{enumerable:!0,get:function(){return a.DEFAULT_COLLECTION_SATURATION}}),Object.defineProperty(t,"TP",{enumerable:!0,get:function(){return a.DEFAULT_COLLECTION_LIGHTNESS}})},54104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShaderV2=t.VertexShaderV2=void 0,t.VertexShaderV2=`
precision highp float;
attribute vec4 position;

void main() {
    gl_Position = position;
}
`,t.FragmentShaderV2=`
precision highp float;

uniform vec2 vScreenSize;
uniform float vTime;

uniform vec3 vColorBackground;

uniform vec3 vColor[6];
uniform vec3 vRotation[3];

uniform float vAudio[3];
uniform float vReact[3];

uniform vec2 vInteractionPoint;
uniform float vInteraction;

#define CIRCLE_WIDTH_BASE 0.8
#define CIRCLE_WIDTH_STEP 0.2

#define SPARK_STRENGTH_BASE 1.0
#define SPARK_STRENGTH_STEP 0.3

#define CIRCLE_RADIUS_BASE 0.95
#define CIRCLE_RADIUS_STEP 0.15

#define CIRCLE_OFFSET_BASE 0.0
#define CIRCLE_OFFSET_STEP 1.57

vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

float snoise3(vec3 v) {
  const vec2 C = vec2(0.1666667, 0.3333333); // vec2(1.0/6.0, 1.0/3.0)
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  // x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = permute( permute( permute(
             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients ( N*N points uniformly over a square, mapped onto an octahedron.)
  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z *ns.z); //  mod(p,N*N), N=7

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
}

float tri(in float x){return abs(fract(x)-.5);}
vec3 tri3(in vec3 p){return vec3( tri(p.z+tri(p.y*20.)), tri(p.z+tri(p.x*1.)), tri(p.y+tri(p.x*1.)));}

float triNoise3D(in vec3 p, in float spd)
{
  float z=0.4;
  float rz = 0.1;
  vec3 bp = p;
  for (float i=0.; i<=4.; i++ )
  {
    vec3 dg = tri3(bp*0.01); // Increase the scale factor to make noise less frequent
    p += (dg+vTime*.1*spd);

    bp *= 4.; // Increase the scale factor
    z *= 0.9;
    p *= 1.6; // Increase the scale factor

    rz+= (tri(p.z+tri(0.6*p.x+0.1*tri(p.y))))/z;
  }
  return smoothstep(0.0, 8., rz + sin(rz + sin(z) * 2.8) * 2.2);
}

vec2 rotate(vec2 p, float a) {
  float s = sin(a);
  float c = cos(a);
  return vec2(p.x * c - p.y * s, p.x * s + p.y * c);
}

float light(float intensity, float attenuation, float dist) {
  return intensity / (1.0 + dist + dist * attenuation);
}

vec4 makeNoiseBlob2(vec2 uv, vec3 color1, vec3 color2, float strength, float offset) {
  float len = length(uv);
  float v0, v1, cl;
  float r0, d0, n0;
  float r, d;

  n0 = snoise3( vec3(uv * 1.2 + offset, vTime * 0.5 + offset) ) * 0.5 + 0.5;
  r0 = mix(0.0, 1.0, n0);
  d0 = distance(uv, r0 / len * uv);
  v0 = smoothstep(r0 + 0.1 + (sin(vTime + offset) + 1.0), r0, len);

  v1 = light(0.15 * (1.0 + 1.5 * (-sin(vTime * 2. + offset * 0.5) * 0.5)) + 0.3 * strength, 10.0 , d0);

  vec3 col = mix(color1, color2, uv.y * 2.);
  col = col + v1;
  col.rgb = clamp(col.rgb, 0.0, 1.0);
  return vec4(col, v0);
}

vec4 makeBlob(vec2 uv,
              float blob,
              vec3 color1,
              vec3 color2,
              float width,
              float baseReaction,
              float likeReaction,
              float audioStrength,
              float offset,
              vec2 noiseOffset) {
  float len = length(uv);

  float outerRadius = blob + width * 0.5 + baseReaction * (1.0 + max(likeReaction, audioStrength * 0.6) * 50. * baseReaction);

  float strength = max(likeReaction, audioStrength);

  vec4 noise = makeNoiseBlob2(uv * (1.0 - likeReaction * 0.5) + noiseOffset, color1, color2, strength, offset);
  noise.a = mix(0.0, noise.a, smoothstep(outerRadius, 0.5, len));
  noise.rgb += 0.6 * likeReaction * (1.0 - smoothstep(0.2, outerRadius * 0.8, len));

  return noise;
}

void main() {
  vec2 uv = gl_FragCoord.xy / vScreenSize.xy;

  uv = uv * 2.0 - 1.0;
  uv.y *= vScreenSize.y / min(vScreenSize.x, vScreenSize.y) / 0.55;
  uv.x *= vScreenSize.x / min(vScreenSize.x, vScreenSize.y) / 0.55;

  vec2 ruv = uv * 2.0;
  float pr = length(ruv);
  float pa = atan(ruv.y, ruv.x);

  float idx = (pa/3.1415) / 2.0;   // 0 to 1

  vec2 ruv1 = rotate(uv * 2.0, 3.1415);
  float pa1 = atan(ruv1.y, ruv1.x);
  float idx1 = (pa1/3.1415) / 2.0;   // 0 to 1
  float idx21 = (pa1/3.1415 + 1.0) / 2.0 * 3.1415; // 0 to PI

  float spark = triNoise3D(vec3(idx, 0.0, 0.0), 0.1);
  spark = mix(spark, triNoise3D(vec3(idx1, 0.0, idx1), 0.1), smoothstep(0.9, 1.0, sin(idx21)));
  spark = spark * 0.2 + pow(spark, 10.);
  spark = smoothstep(0.0, spark, 0.3) * spark;

  vec3 color = vColorBackground;
  vec4 blobColor;
  float floatIndex;
  float radius;

  float n0 = snoise3(vec3(uv * 1.2, vTime * 0.5));

  for (int i = 0; i < 3; i++) {
    floatIndex = float(i);
    radius = CIRCLE_RADIUS_BASE - CIRCLE_RADIUS_STEP * floatIndex;
    blobColor = makeBlob(uv,
                         mix(radius, radius + 0.3, n0),
                         vColor[i],
                         vColor[i+3],
                         CIRCLE_WIDTH_BASE - CIRCLE_WIDTH_STEP * floatIndex,
                         (SPARK_STRENGTH_BASE - SPARK_STRENGTH_STEP * floatIndex) * spark,
                         vReact[i],
                         vAudio[i],
                         CIRCLE_OFFSET_BASE + CIRCLE_OFFSET_STEP * floatIndex,
                         rotate(vRotation[i].xy, vTime * vRotation[i].z));
    color = mix(color, blobColor.rgb, blobColor.a);
  }

  gl_FragColor = vec4(color, 1.0);
}
`},33528:function(e,t){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderState=void 0,(n=i||(t.RenderState=i={})).ACTIVE_TAB="ACTIVE_TAB",n.BLOCK_VISIBILITY="BLOCK_VISIBILITY",n.MANUAL="MANUAL"}},function(e){e.O(0,[2498,7873,5455,8628,733,2008,6217,2015,9034,6911,210,1716,1476,6410,286,4948,4163,3246,4025,4164,1744],function(){return e(e.s=17878)}),_N_E=e.O()}]);